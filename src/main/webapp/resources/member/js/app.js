if (
    function(window, document, undefined) {
        "use strict";

        function minErr(module, ErrorConstructor) {
            return ErrorConstructor = ErrorConstructor || Error,
                function() {
                    var paramPrefix, i, templateArgs = arguments,
                        code = templateArgs[0],
                        message = "[" + (module ? module + ":" : "") + code + "] ";
                    for (message += templateArgs[1].replace(/\{\d+\}/g,
                            function(match) {
                                var shiftedIndex = 2 + +match.slice(1, -1);
                                return shiftedIndex < templateArgs.length ? toDebugString(templateArgs[shiftedIndex]) : match
                            }), message += "\nhttp://errors.angularjs.org/1.4.0-beta.6/" + (module ? module + "/" : "") + code, i = 2, paramPrefix = "?"; i < templateArgs.length; i++, paramPrefix = "&") message += paramPrefix + "p" + (i - 2) + "=" + encodeURIComponent(toDebugString(templateArgs[i]));
                    return new ErrorConstructor(message)
                }
        }
        var REGEX_STRING_REGEXP = /^\/(.+)\/([a-z]*)$/,
            VALIDITY_STATE_PROPERTY = "validity",
            lowercase = function(string) {
                return isString(string) ? string.toLowerCase() : string
            },
            hasOwnProperty = Object.prototype.hasOwnProperty,
            uppercase = function(string) {
                return isString(string) ? string.toUpperCase() : string
            };
        "i" !== "I".toLowerCase() && (lowercase = function(s) {
                return isString(s) ? s.replace(/[A-Z]/g, function(ch) {
                    return String.fromCharCode(32 | ch.charCodeAt(0))
                }) : s
            },
            uppercase = function(s) {
                return isString(s) ? s.replace(/[a-z]/g,
                    function(ch) {
                        return String.fromCharCode(-33 & ch.charCodeAt(0))
                    }) : s
            });
        var msie, jqLite, jQuery, angularModule, slice = [].slice,
            splice = [].splice,
            push = [].push,
            toString = Object.prototype.toString,
            ngMinErr = minErr("ng"),
            angular = window.angular || (window.angular = {}),
            uid = 0;

        function isArrayLike(obj) {
            if (null == obj || isWindow(obj)) return !1;

            var length = obj.length;

            return !(obj.nodeType !== NODE_TYPE_ELEMENT || !length) || (isString(obj) || isArray(obj) || 0 === length || "number" == typeof length && 0 < length && length - 1 in obj)
        }

        function forEach(obj, iterator, context) {
            var key, length;
            if (obj)
                if (isFunction(obj))
                    for (key in obj) "prototype" == key || "length" == key || "name" == key || obj.hasOwnProperty && !obj.hasOwnProperty(key) || iterator.call(context, obj[key], key, obj);
                else if (isArray(obj) || isArrayLike(obj)) {
                var isPrimitive = "object" != typeof obj;
                for (key = 0, length = obj.length; key < length; key++)(isPrimitive || key in obj) && iterator.call(context, obj[key], key, obj)
            } else if (obj.forEach && obj.forEach !== forEach) obj.forEach(iterator, context, obj);
            else
                for (key in obj) obj.hasOwnProperty(key) && iterator.call(context, obj[key], key, obj);
            return obj
        }

        function reverseParams(iteratorFn) {
            return function(value, key) {
                iteratorFn(key, value)
            }
        }

        function nextUid() {
            return ++uid
        }

        function setHashKey(obj, h) {
            h ? obj.$$hashKey = h : delete obj.$$hashKey
        }

        function baseExtend(dst, objs, deep) {
            for (var h = dst.$$hashKey, i = 0, ii = objs.length; i < ii; ++i) {
                var obj = objs[i];
                if (isObject(obj) || isFunction(obj))
                    for (var keys = Object.keys(obj), j = 0, jj = keys.length; j < jj; j++) {
                        var key = keys[j],
                            src = obj[key];
                        deep && isObject(src) ? (isObject(dst[key]) || (dst[key] = isArray(src) ? [] : {}), baseExtend(dst[key], [src], !0)) : dst[key] = src
                    }
            }
            return setHashKey(dst, h), dst
        }

        function extend(dst) {
            return baseExtend(dst, slice.call(arguments, 1), !1)
        }

        function merge(dst) {
            return baseExtend(dst, slice.call(arguments, 1), !0)
        }

        function toInt(str) {
            return parseInt(str, 10)
        }

        function inherit(parent, extra) {
            return extend(Object.create(parent), extra)
        }

        function noop() {}

        function identity($) {
            return $
        }

        function valueFn(value) {
            return function() {
                return value
            }
        }

        function isUndefined(value) {
            return void 0 === value
        }

        function isDefined(value) {
            return void 0 !== value
        }

        function isObject(value) {
            return null !== value && "object" == typeof value
        }

        function isString(value) {
            return "string" == typeof value
        }

        function isNumber(value) {
            return "number" == typeof value
        }

        function isDate(value) {
            return "[object Date]" === toString.call(value)
        }
        msie = document.documentMode, noop.$inject = [], identity.$inject = [];
        var isArray = Array.isArray;

        function isFunction(value) {
            return "function" == typeof value
        }

        function isRegExp(value) {
            return "[object RegExp]" === toString.call(value)
        }

        function isWindow(obj) {
            return obj && obj.window === obj
        }

        function isScope(obj) {
            return obj && obj.$evalAsync && obj.$watch
        }

        function isBoolean(value) {
            return "boolean" == typeof value
        }

        function isPromiseLike(obj) {
            return obj && isFunction(obj.then)
        }
        var TYPED_ARRAY_REGEXP = /^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/;

        function isTypedArray(value) {
            return TYPED_ARRAY_REGEXP.test(toString.call(value))
        }
        var trim = function(value) {
                return isString(value) ? value.trim() : value
            },
            escapeForRegexp = function(s) {
                return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08")
            };

        function isElement(node) {
            return !(!node || !(node.nodeName || node.prop && node.attr && node.find))
        }

        function nodeName_(element) {
            return lowercase(element.nodeName || element[0] && element[0].nodeName)
        }

        function arrayRemove(array, value) {
            var index = array.indexOf(value);
            return 0 <= index && array.splice(index, 1), index
        }

        function copy(source, destination, stackSource, stackDest) {
            if (isWindow(source) || isScope(source)) throw ngMinErr("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
            if (isTypedArray(destination)) throw ngMinErr("cpta", "Can't copy! TypedArray destination cannot be mutated.");
            if (destination) {
                if (source === destination) throw ngMinErr("cpi", "Can't copy! Source and destination are identical.");
                if (stackSource = stackSource || [], stackDest = stackDest || [], isObject(source)) {
                    var index = stackSource.indexOf(source);
                    if (-1 !== index) return stackDest[index];
                    stackSource.push(source), stackDest.push(destination)
                }
                var result;
                if (isArray(source))
                    for (var i = destination.length = 0; i < source.length; i++) result = copy(source[i], null, stackSource, stackDest), isObject(source[i]) && (stackSource.push(source[i]), stackDest.push(result)), destination.push(result);
                else {
                    var h = destination.$$hashKey;
                    for (var key in isArray(destination) ? destination.length = 0 : forEach(destination, function(value, key) {
                            delete destination[key]
                        }), source) source.hasOwnProperty(key) && (result = copy(source[key], null, stackSource, stackDest), isObject(source[key]) && (stackSource.push(source[key]), stackDest.push(result)), destination[key] = result);
                    setHashKey(destination, h)
                }
            } else if (destination = source)
                if (isArray(source)) destination = copy(source, [], stackSource, stackDest);
                else if (isTypedArray(source)) destination = new source.constructor(source);
            else if (isDate(source)) destination = new Date(source.getTime());
            else if (isRegExp(source))(destination = new RegExp(source.source, source.toString().match(/[^\/]*$/)[0])).lastIndex = source.lastIndex;
            else if (isObject(source)) {
                var emptyObject = Object.create(Object.getPrototypeOf(source));
                destination = copy(source, emptyObject, stackSource, stackDest)
            }
            return destination
        }

        function shallowCopy(src, dst) {
            if (isArray(src)) {
                dst = dst || [];
                for (var i = 0, ii = src.length; i < ii; i++) dst[i] = src[i]
            } else if (isObject(src))
                for (var key in dst = dst || {}, src) "$" === key.charAt(0) && "$" === key.charAt(1) || (dst[key] = src[key]);
            return dst || src
        }

        function equals(o1, o2) {
            if (o1 === o2) return !0;
            if (null === o1 || null === o2) return !1;
            if (o1 != o1 && o2 != o2) return !0;
            var length, key, keySet, t1 = typeof o1;
            if (t1 == typeof o2 && "object" == t1) {
                if (!isArray(o1)) {
                    if (isDate(o1)) return !!isDate(o2) && equals(o1.getTime(), o2.getTime());
                    if (isRegExp(o1)) return !!isRegExp(o2) && o1.toString() == o2.toString();
                    if (isScope(o1) || isScope(o2) || isWindow(o1) || isWindow(o2) || isArray(o2) || isDate(o2) || isRegExp(o2)) return !1;
                    for (key in keySet = {}, o1)
                        if ("$" !== key.charAt(0) && !isFunction(o1[key])) {
                            if (!equals(o1[key], o2[key])) return !1;
                            keySet[key] = !0
                        } for (key in o2)
                        if (!keySet.hasOwnProperty(key) && "$" !== key.charAt(0) && o2[key] !== undefined && !isFunction(o2[key])) return !1;
                    return !0
                }
                if (!isArray(o2)) return !1;
                if ((length = o1.length) == o2.length) {
                    for (key = 0; key < length; key++)
                        if (!equals(o1[key], o2[key])) return !1;
                    return !0
                }
            }
            return !1
        }
        var csp = function() {
                if (isDefined(csp.isActive_)) return csp.isActive_;
                var active = !(!document.querySelector("[ng-csp]") && !document.querySelector("[data-ng-csp]"));
                if (!active) try {
                    new Function("")
                } catch (e) {
                    active = !0
                }
                return csp.isActive_ = active
            },
            jq = function() {
                if (isDefined(jq.name_)) return jq.name_;
                var el, i, prefix, name, ii = ngAttrPrefixes.length;
                for (i = 0; i < ii; ++i)
                    if (prefix = ngAttrPrefixes[i], el = document.querySelector("[" + prefix.replace(":", "\\:") + "jq]")) {
                        name = el.getAttribute(prefix + "jq");
                        break
                    } return jq.name_ = name
            };

        function concat(array1, array2, index) {
            return array1.concat(slice.call(array2, index))
        }

        function sliceArgs(args, startIndex) {
            return slice.call(args, startIndex || 0)
        }

        function bind(self, fn) {
            var curryArgs = 2 < arguments.length ? sliceArgs(arguments, 2) : [];
            return !isFunction(fn) || fn instanceof RegExp ? fn : curryArgs.length ? function() {
                return arguments.length ? fn.apply(self, concat(curryArgs, arguments, 0)) : fn.apply(self, curryArgs)
            } : function() {
                return arguments.length ? fn.apply(self, arguments) : fn.call(self)
            }
        }

        function toJsonReplacer(key, value) {
            var val = value;
            return "string" == typeof key && "$" === key.charAt(0) && "$" === key.charAt(1) ? val = undefined : isWindow(value) ? val = "$WINDOW" : value && document === value ? val = "$DOCUMENT" : isScope(value) && (val = "$SCOPE"), val
        }

        function toJson(obj, pretty) {
            return void 0 === obj ? undefined : (isNumber(pretty) || (pretty = pretty ? 2 : null), JSON.stringify(obj, toJsonReplacer, pretty))
        }

        function fromJson(json) {
            return isString(json) ? JSON.parse(json) : json
        }

        function timezoneToOffset(timezone, fallback) {
            var requestedTimezoneOffset = Date.parse("Jan 01, 1970 00:00:00 " + timezone) / 6e4;
            return isNaN(requestedTimezoneOffset) ? fallback : requestedTimezoneOffset
        }

        function convertTimezoneToLocal(date, timezone, reverse) {
            reverse = reverse ? -1 : 1;
            var timezoneOffset = timezoneToOffset(timezone, date.getTimezoneOffset());
            return function(date, minutes) {
                return (date = new Date(date.getTime())).setMinutes(date.getMinutes() + minutes), date
            }(date, reverse * (timezoneOffset - date.getTimezoneOffset()))
        }

        function startingTag(element) {
            element = jqLite(element).clone();
            try {
                element.empty()
            } catch (e) {}
            var elemHtml = jqLite("<div>").append(element).html();
            try {
                return element[0].nodeType === NODE_TYPE_TEXT ? lowercase(elemHtml) : elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function(match, nodeName) {
                    return "<" + lowercase(nodeName)
                })
            } catch (e) {
                return lowercase(elemHtml)
            }
        }

        function tryDecodeURIComponent(value) {
            try {
                return decodeURIComponent(value)
            } catch (e) {}
        }

        function parseKeyValue(keyValue) {
            var key_value, key, obj = {};
            return forEach((keyValue || "").split("&"), function(keyValue) {
                if (keyValue && (key_value = keyValue.replace(/\+/g, "%20").split("="), isDefined(key = tryDecodeURIComponent(key_value[0])))) {
                    var val = !isDefined(key_value[1]) || tryDecodeURIComponent(key_value[1]);
                    hasOwnProperty.call(obj, key) ? isArray(obj[key]) ? obj[key].push(val) : obj[key] = [obj[key], val] : obj[key] = val
                }
            }), obj
        }

        function toKeyValue(obj) {
            var parts = [];
            return forEach(obj, function(value, key) {
                isArray(value) ? forEach(value, function(arrayValue) {
                    parts.push(encodeUriQuery(key, !0) + (!0 === arrayValue ? "" : "=" + encodeUriQuery(arrayValue, !0)))
                }) : parts.push(encodeUriQuery(key, !0) + (!0 === value ? "" : "=" + encodeUriQuery(value, !0)))
            }), parts.length ? parts.join("&") : ""
        }

        function encodeUriSegment(val) {
            return encodeUriQuery(val, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
        }

        function encodeUriQuery(val, pctEncodeSpaces) {
            return encodeURIComponent(val).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, pctEncodeSpaces ? "%20" : "+")
        }
        var ngAttrPrefixes = ["ng-", "data-ng-", "ng:", "x-ng-"];

        function angularInit(element, bootstrap) {
            var appElement, module, config = {};
            forEach(ngAttrPrefixes, function(prefix) {
                var name = prefix + "app";
                !appElement && element.hasAttribute && element.hasAttribute(name) && (module = (appElement = element).getAttribute(name))
            }), forEach(ngAttrPrefixes, function(prefix) {
                var candidate, name = prefix + "app";
                !appElement && (candidate = element.querySelector("[" + name.replace(":", "\\:") + "]")) && (module = (appElement = candidate).getAttribute(name))
            }), appElement && (config.strictDi = null !== function(element, ngAttr) {
                var attr, i, ii = ngAttrPrefixes.length;
                for (i = 0; i < ii; ++i)
                    if (attr = ngAttrPrefixes[i] + ngAttr, isString(attr = element.getAttribute(attr))) return attr;
                return null
            }(appElement, "strict-di"), bootstrap(appElement, module ? [module] : [], config))
        }

        function bootstrap(element, modules, config) {
            isObject(config) || (config = {});
            config = extend({
                strictDi: !1
            }, config);

            function doBootstrap() {
                if ((element = jqLite(element)).injector()) {
                    var tag = element[0] === document ? "document" : startingTag(element);
                    throw ngMinErr("btstrpd", "App Already Bootstrapped with this Element '{0}'", tag.replace(/</, "&lt;").replace(/>/, "&gt;"))
                }(modules = modules || []).unshift(["$provide", function($provide) {
                    $provide.value("$rootElement", element)
                }]), config.debugInfoEnabled && modules.push(["$compileProvider", function($compileProvider) {
                    $compileProvider.debugInfoEnabled(!0)
                }]), modules.unshift("ng");
                var injector = createInjector(modules, config.strictDi);
                return injector.invoke(["$rootScope", "$rootElement", "$compile", "$injector", function(scope, element, compile, injector) {
                    scope.$apply(function() {
                        element.data("$injector", injector), compile(element)(scope)
                    })
                }]), injector
            }
            var NG_ENABLE_DEBUG_INFO = /^NG_ENABLE_DEBUG_INFO!/,
                NG_DEFER_BOOTSTRAP = /^NG_DEFER_BOOTSTRAP!/;
            if (window && NG_ENABLE_DEBUG_INFO.test(window.name) && (config.debugInfoEnabled = !0, window.name = window.name.replace(NG_ENABLE_DEBUG_INFO, "")), window && !NG_DEFER_BOOTSTRAP.test(window.name)) return doBootstrap();
            window.name = window.name.replace(NG_DEFER_BOOTSTRAP, ""), angular.resumeBootstrap = function(extraModules) {
                return forEach(extraModules, function(module) {
                    modules.push(module)
                }), doBootstrap()
            }, isFunction(angular.resumeDeferredBootstrap) && angular.resumeDeferredBootstrap()
        }

        function reloadWithDebugInfo() {
            window.name = "NG_ENABLE_DEBUG_INFO!" + window.name, window.location.reload()
        }

        function getTestability(rootElement) {
            var injector = angular.element(rootElement).injector();
            if (!injector) throw ngMinErr("test", "no injector found for element argument to getTestability");
            return injector.get("$$testability")
        }
        var SNAKE_CASE_REGEXP = /[A-Z]/g;

        function snake_case(name, separator) {
            return separator = separator || "_", name.replace(SNAKE_CASE_REGEXP, function(letter, pos) {
                return (pos ? separator : "") + letter.toLowerCase()
            })
        }
        var skipDestroyOnNextJQueryCleanData, bindJQueryFired = !1;

        function assertArg(arg, name, reason) {
            if (!arg) throw ngMinErr("areq", "Argument '{0}' is {1}", name || "?", reason || "required");
            return arg
        }

        function assertArgFn(arg, name, acceptArrayAnnotation) {
            return acceptArrayAnnotation && isArray(arg) && (arg = arg[arg.length - 1]), assertArg(isFunction(arg), name, "not a function, got " + (arg && "object" == typeof arg ? arg.constructor.name || "Object" : typeof arg)), arg
        }

        function assertNotHasOwnProperty(name, context) {
            if ("hasOwnProperty" === name) throw ngMinErr("badname", "hasOwnProperty is not a valid {0} name", context)
        }

        function getter(obj, path, bindFnToScope) {
            if (!path) return obj;
            for (var key, keys = path.split("."), lastInstance = obj, len = keys.length, i = 0; i < len; i++) key = keys[i], obj && (obj = (lastInstance = obj)[key]);
            return !bindFnToScope && isFunction(obj) ? bind(lastInstance, obj) : obj
        }

        function getBlockNodes(nodes) {
            var node = nodes[0],
                endNode = nodes[nodes.length - 1],
                blockNodes = [node];
            do {
                if (!(node = node.nextSibling)) break;
                blockNodes.push(node)
            } while (node !== endNode);
            return jqLite(blockNodes)
        }

        function createMap() {
            return Object.create(null)
        }
        var NODE_TYPE_ELEMENT = 1,
            NODE_TYPE_TEXT = 3,
            NODE_TYPE_COMMENT = 8,
            NODE_TYPE_DOCUMENT = 9,
            NODE_TYPE_DOCUMENT_FRAGMENT = 11;

        function toDebugString(obj) {
            return "function" == typeof obj ? obj.toString().replace(/ \{[\s\S]*$/, "") : void 0 === obj ? "undefined" : "string" != typeof obj ? function(obj) {
                var seen = [];
                return JSON.stringify(obj, function(key, val) {
                    if (isObject(val = toJsonReplacer(key, val))) {
                        if (0 <= seen.indexOf(val)) return "<<already seen>>";
                        seen.push(val)
                    }
                    return val
                })
            }(obj) : obj
        }
        var version = {
            full: "1.4.0-beta.6",
            major: 1,
            minor: 4,
            dot: 0,
            codeName: "cookie-liberation"
        };
        JQLite.expando = "ng339";
        var jqCache = JQLite.cache = {},
            jqId = 1,
            addEventListenerFn = function(element, type, fn) {
                element.addEventListener(type, fn, !1)
            },
            removeEventListenerFn = function(element, type, fn) {
                element.removeEventListener(type, fn, !1)
            };
        JQLite._data = function(node) {
            return this.cache[node[this.expando]] || {}
        };
        var SPECIAL_CHARS_REGEXP = /([\:\-\_]+(.))/g,
            MOZ_HACK_REGEXP = /^moz([A-Z])/,
            MOUSE_EVENT_MAP = {
                mouseleave: "mouseout",
                mouseenter: "mouseover"
            },
            jqLiteMinErr = minErr("jqLite");

        function camelCase(name) {
            return name.replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {
                return offset ? letter.toUpperCase() : letter
            }).replace(MOZ_HACK_REGEXP, "Moz$1")
        }
        var SINGLE_TAG_REGEXP = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
            HTML_REGEXP = /<|&#?\w+;/,
            TAG_NAME_REGEXP = /<([\w:]+)/,
            XHTML_TAG_REGEXP = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
            wrapMap = {
                option: [1, '<select multiple="multiple">', "</select>"],
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };

        function jqLiteIsTextNode(html) {
            return !HTML_REGEXP.test(html)
        }

        function jqLiteAcceptsData(node) {
            var nodeType = node.nodeType;
            return nodeType === NODE_TYPE_ELEMENT || !nodeType || nodeType === NODE_TYPE_DOCUMENT
        }

        function jqLiteBuildFragment(html, context) {
            var tmp, tag, wrap, i, fragment = context.createDocumentFragment(),
                nodes = [];
            if (jqLiteIsTextNode(html)) nodes.push(context.createTextNode(html));
            else {
                for (tmp = tmp || fragment.appendChild(context.createElement("div")), tag = (TAG_NAME_REGEXP.exec(html) || ["", ""])[1].toLowerCase(), wrap = wrapMap[tag] || wrapMap._default, tmp.innerHTML = wrap[1] + html.replace(XHTML_TAG_REGEXP, "<$1></$2>") + wrap[2], i = wrap[0]; i--;) tmp = tmp.lastChild;
                nodes = concat(nodes, tmp.childNodes), (tmp = fragment.firstChild).textContent = ""
            }
            return fragment.textContent = "", fragment.innerHTML = "", forEach(nodes, function(node) {
                fragment.appendChild(node)
            }), fragment
        }

        function JQLite(element) {
            if (element instanceof JQLite) return element;
            var argIsString;
            if (isString(element) && (element = trim(element), argIsString = !0), !(this instanceof JQLite)) {
                if (argIsString && "<" != element.charAt(0)) throw jqLiteMinErr("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
                return new JQLite(element)
            }
            jqLiteAddNodes(this, argIsString ? function(html, context) {
                var parsed;
                return context = context || document, (parsed = SINGLE_TAG_REGEXP.exec(html)) ? [context.createElement(parsed[1])] : (parsed = jqLiteBuildFragment(html, context)) ? parsed.childNodes : []
            }(element) : element)
        }

        function jqLiteClone(element) {
            return element.cloneNode(!0)
        }

        function jqLiteDealoc(element, onlyDescendants) {
            if (onlyDescendants || jqLiteRemoveData(element), element.querySelectorAll)
                for (var descendants = element.querySelectorAll("*"), i = 0, l = descendants.length; i < l; i++) jqLiteRemoveData(descendants[i])
        }

        function jqLiteOff(element, type, fn, unsupported) {
            if (isDefined(unsupported)) throw jqLiteMinErr("offargs", "jqLite#off() does not support the `selector` argument");
            var expandoStore = jqLiteExpandoStore(element),
                events = expandoStore && expandoStore.events,
                handle = expandoStore && expandoStore.handle;
            if (handle)
                if (type) forEach(type.split(" "), function(type) {
                    if (isDefined(fn)) {
                        var listenerFns = events[type];
                        if (arrayRemove(listenerFns || [], fn), listenerFns && 0 < listenerFns.length) return
                    }
                    removeEventListenerFn(element, type, handle), delete events[type]
                });
                else
                    for (type in events) "$destroy" !== type && removeEventListenerFn(element, type, handle), delete events[type]
        }

        function jqLiteRemoveData(element, name) {
            var expandoId = element.ng339,
                expandoStore = expandoId && jqCache[expandoId];
            if (expandoStore) {
                if (name) return void delete expandoStore.data[name];
                expandoStore.handle && (expandoStore.events.$destroy && expandoStore.handle({}, "$destroy"), jqLiteOff(element)), delete jqCache[expandoId], element.ng339 = undefined
            }
        }

        function jqLiteExpandoStore(element, createIfNecessary) {
            var expandoId = element.ng339,
                expandoStore = expandoId && jqCache[expandoId];
            return createIfNecessary && !expandoStore && (element.ng339 = expandoId = ++jqId, expandoStore = jqCache[expandoId] = {
                events: {},
                data: {},
                handle: undefined
            }), expandoStore
        }

        function jqLiteData(element, key, value) {
            if (jqLiteAcceptsData(element)) {
                var isSimpleSetter = isDefined(value),
                    isSimpleGetter = !isSimpleSetter && key && !isObject(key),
                    massGetter = !key,
                    expandoStore = jqLiteExpandoStore(element, !isSimpleGetter),
                    data = expandoStore && expandoStore.data;
                if (isSimpleSetter) data[key] = value;
                else {
                    if (massGetter) return data;
                    if (isSimpleGetter) return data && data[key];
                    extend(data, key)
                }
            }
        }

        function jqLiteHasClass(element, selector) {
            return !!element.getAttribute && -1 < (" " + (element.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + selector + " ")
        }

        function jqLiteRemoveClass(element, cssClasses) {
            cssClasses && element.setAttribute && forEach(cssClasses.split(" "), function(cssClass) {
                element.setAttribute("class", trim((" " + (element.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + trim(cssClass) + " ", " ")))
            })
        }

        function jqLiteAddClass(element, cssClasses) {
            if (cssClasses && element.setAttribute) {
                var existingClasses = (" " + (element.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
                forEach(cssClasses.split(" "), function(cssClass) {
                    cssClass = trim(cssClass), -1 === existingClasses.indexOf(" " + cssClass + " ") && (existingClasses += cssClass + " ")
                }), element.setAttribute("class", trim(existingClasses))
            }
        }

        function jqLiteAddNodes(root, elements) {
            if (elements)
                if (elements.nodeType) root[root.length++] = elements;
                else {
                    var length = elements.length;
                    if ("number" == typeof length && elements.window !== elements) {
                        if (length)
                            for (var i = 0; i < length; i++) root[root.length++] = elements[i]
                    } else root[root.length++] = elements
                }
        }

        function jqLiteController(element, name) {
            return jqLiteInheritedData(element, "$" + (name || "ngController") + "Controller")
        }

        function jqLiteInheritedData(element, name, value) {
            element.nodeType == NODE_TYPE_DOCUMENT && (element = element.documentElement);
            for (var names = isArray(name) ? name : [name]; element;) {
                for (var i = 0, ii = names.length; i < ii; i++)
                    if ((value = jqLite.data(element, names[i])) !== undefined) return value;
                element = element.parentNode || element.nodeType === NODE_TYPE_DOCUMENT_FRAGMENT && element.host
            }
        }

        function jqLiteEmpty(element) {
            for (jqLiteDealoc(element, !0); element.firstChild;) element.removeChild(element.firstChild)
        }

        function jqLiteRemove(element, keepData) {
            keepData || jqLiteDealoc(element);
            var parent = element.parentNode;
            parent && parent.removeChild(element)
        }
        wrapMap.optgroup = wrapMap.option, wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead, wrapMap.th = wrapMap.td;
        var JQLitePrototype = JQLite.prototype = {
                ready: function(fn) {
                    var fired = !1;

                    function trigger() {
                        fired || (fired = !0, fn())
                    }
                    "complete" === document.readyState ? setTimeout(trigger) : (this.on("DOMContentLoaded", trigger), JQLite(window).on("load", trigger))
                },
                toString: function() {
                    var value = [];
                    return forEach(this, function(e) {
                        value.push("" + e)
                    }), "[" + value.join(", ") + "]"
                },
                eq: function(index) {
                    return jqLite(0 <= index ? this[index] : this[this.length + index])
                },
                length: 0,
                push: push,
                sort: [].sort,
                splice: [].splice
            },
            BOOLEAN_ATTR = {};
        forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","), function(value) {
            BOOLEAN_ATTR[lowercase(value)] = value
        });
        var BOOLEAN_ELEMENTS = {};
        forEach("input,select,option,textarea,button,form,details".split(","), function(value) {
            BOOLEAN_ELEMENTS[value] = !0
        });
        var ALIASED_ATTR = {
            ngMinlength: "minlength",
            ngMaxlength: "maxlength",
            ngMin: "min",
            ngMax: "max",
            ngPattern: "pattern"
        };

        function getBooleanAttrName(element, name) {
            var booleanAttr = BOOLEAN_ATTR[name.toLowerCase()];
            return booleanAttr && BOOLEAN_ELEMENTS[nodeName_(element)] && booleanAttr
        }

        function getText(element, value) {
            if (isUndefined(value)) {
                var nodeType = element.nodeType;
                return nodeType === NODE_TYPE_ELEMENT || nodeType === NODE_TYPE_TEXT ? element.textContent : ""
            }
            element.textContent = value
        }

        function $$jqLiteProvider() {
            this.$get = function() {
                return extend(JQLite, {
                    hasClass: function(node, classes) {
                        return node.attr && (node = node[0]), jqLiteHasClass(node, classes)
                    },
                    addClass: function(node, classes) {
                        return node.attr && (node = node[0]), jqLiteAddClass(node, classes)
                    },
                    removeClass: function(node, classes) {
                        return node.attr && (node = node[0]), jqLiteRemoveClass(node, classes)
                    }
                })
            }
        }

        function hashKey(obj, nextUidFn) {
            var key = obj && obj.$$hashKey;
            if (key) return "function" == typeof key && (key = obj.$$hashKey()), key;
            var objType = typeof obj;
            return key = "function" == objType || "object" == objType && null !== obj ? obj.$$hashKey = objType + ":" + (nextUidFn || nextUid)() : objType + ":" + obj
        }

        function HashMap(array, isolatedUid) {
            if (isolatedUid) {
                var uid = 0;
                this.nextUid = function() {
                    return ++uid
                }
            }
            forEach(array, this.put, this)
        }
        forEach({
            data: jqLiteData,
            removeData: jqLiteRemoveData
        }, function(fn, name) {
            JQLite[name] = fn
        }), forEach({
            data: jqLiteData,
            inheritedData: jqLiteInheritedData,
            scope: function(element) {
                return jqLite.data(element, "$scope") || jqLiteInheritedData(element.parentNode || element, ["$isolateScope", "$scope"])
            },
            isolateScope: function(element) {
                return jqLite.data(element, "$isolateScope") || jqLite.data(element, "$isolateScopeNoTemplate")
            },
            controller: jqLiteController,
            injector: function(element) {
                return jqLiteInheritedData(element, "$injector")
            },
            removeAttr: function(element, name) {
                element.removeAttribute(name)
            },
            hasClass: jqLiteHasClass,
            css: function(element, name, value) {
                if (name = camelCase(name), !isDefined(value)) return element.style[name];
                element.style[name] = value
            },
            attr: function(element, name, value) {
                var nodeType = element.nodeType;
                if (nodeType !== NODE_TYPE_TEXT && 2 !== nodeType && nodeType !== NODE_TYPE_COMMENT) {
                    var lowercasedName = lowercase(name);
                    if (BOOLEAN_ATTR[lowercasedName]) {
                        if (!isDefined(value)) return element[name] || (element.attributes.getNamedItem(name) || noop).specified ? lowercasedName : undefined;
                        value ? (element[name] = !0, element.setAttribute(name, lowercasedName)) : (element[name] = !1, element.removeAttribute(lowercasedName))
                    } else if (isDefined(value)) element.setAttribute(name, value);
                    else if (element.getAttribute) {
                        var ret = element.getAttribute(name, 2);
                        return null === ret ? undefined : ret
                    }
                }
            },
            prop: function(element, name, value) {
                if (!isDefined(value)) return element[name];
                element[name] = value
            },
            text: (getText.$dv = "", getText),
            val: function(element, value) {
                if (isUndefined(value)) {
                    if (element.multiple && "select" === nodeName_(element)) {
                        var result = [];
                        return forEach(element.options, function(option) {
                            option.selected && result.push(option.value || option.text)
                        }), 0 === result.length ? null : result
                    }
                    return element.value
                }
                element.value = value
            },
            html: function(element, value) {
                if (isUndefined(value)) return element.innerHTML;
                jqLiteDealoc(element, !0), element.innerHTML = value
            },
            empty: jqLiteEmpty
        }, function(fn, name) {
            JQLite.prototype[name] = function(arg1, arg2) {
                var i, key, nodeCount = this.length;
                if (fn !== jqLiteEmpty && (2 == fn.length && fn !== jqLiteHasClass && fn !== jqLiteController ? arg1 : arg2) === undefined) {
                    if (isObject(arg1)) {
                        for (i = 0; i < nodeCount; i++)
                            if (fn === jqLiteData) fn(this[i], arg1);
                            else
                                for (key in arg1) fn(this[i], key, arg1[key]);
                        return this
                    }
                    for (var value = fn.$dv, jj = value === undefined ? Math.min(nodeCount, 1) : nodeCount, j = 0; j < jj; j++) {
                        var nodeValue = fn(this[j], arg1, arg2);
                        value = value ? value + nodeValue : nodeValue
                    }
                    return value
                }
                for (i = 0; i < nodeCount; i++) fn(this[i], arg1, arg2);
                return this
            }
        }), forEach({
            removeData: jqLiteRemoveData,
            on: function jqLiteOn(element, type, fn, unsupported) {
                if (isDefined(unsupported)) throw jqLiteMinErr("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
                if (jqLiteAcceptsData(element)) {
                    var expandoStore = jqLiteExpandoStore(element, !0),
                        events = expandoStore.events,
                        handle = expandoStore.handle;
                    handle || (handle = expandoStore.handle = function(element, events) {
                        function eventHandler(event, type) {
                            event.isDefaultPrevented = function() {
                                return event.defaultPrevented
                            };
                            var eventFns = events[type || event.type],
                                eventFnsLength = eventFns ? eventFns.length : 0;
                            if (eventFnsLength) {
                                if (isUndefined(event.immediatePropagationStopped)) {
                                    var originalStopImmediatePropagation = event.stopImmediatePropagation;
                                    event.stopImmediatePropagation = function() {
                                        event.immediatePropagationStopped = !0, event.stopPropagation && event.stopPropagation(), originalStopImmediatePropagation && originalStopImmediatePropagation.call(event)
                                    }
                                }
                                event.isImmediatePropagationStopped = function() {
                                    return !0 === event.immediatePropagationStopped
                                }, 1 < eventFnsLength && (eventFns = shallowCopy(eventFns));
                                for (var i = 0; i < eventFnsLength; i++) event.isImmediatePropagationStopped() || eventFns[i].call(element, event)
                            }
                        }
                        return eventHandler.elem = element, eventHandler
                    }(element, events));
                    for (var types = 0 <= type.indexOf(" ") ? type.split(" ") : [type], i = types.length; i--;) {
                        var eventFns = events[type = types[i]];
                        eventFns || (events[type] = [], "mouseenter" === type || "mouseleave" === type ? jqLiteOn(element, MOUSE_EVENT_MAP[type], function(event) {
                            var related = event.relatedTarget;
                            related && (related === this || this.contains(related)) || handle(event, type)
                        }) : "$destroy" !== type && addEventListenerFn(element, type, handle), eventFns = events[type]), eventFns.push(fn)
                    }
                }
            },
            off: jqLiteOff,
            one: function(element, type, fn) {
                (element = jqLite(element)).on(type, function onFn() {
                    element.off(type, fn), element.off(type, onFn)
                }), element.on(type, fn)
            },
            replaceWith: function(element, replaceNode) {
                var index, parent = element.parentNode;
                jqLiteDealoc(element), forEach(new JQLite(replaceNode), function(node) {
                    index ? parent.insertBefore(node, index.nextSibling) : parent.replaceChild(node, element), index = node
                })
            },
            children: function(element) {
                var children = [];
                return forEach(element.childNodes, function(element) {
                    element.nodeType === NODE_TYPE_ELEMENT && children.push(element)
                }), children
            },
            contents: function(element) {
                return element.contentDocument || element.childNodes || []
            },
            append: function(element, node) {
                var nodeType = element.nodeType;
                if (nodeType === NODE_TYPE_ELEMENT || nodeType === NODE_TYPE_DOCUMENT_FRAGMENT)
                    for (var i = 0, ii = (node = new JQLite(node)).length; i < ii; i++) {
                        var child = node[i];
                        element.appendChild(child)
                    }
            },
            prepend: function(element, node) {
                if (element.nodeType === NODE_TYPE_ELEMENT) {
                    var index = element.firstChild;
                    forEach(new JQLite(node), function(child) {
                        element.insertBefore(child, index)
                    })
                }
            },
            wrap: function(element, wrapNode) {
                wrapNode = jqLite(wrapNode).eq(0).clone()[0];
                var parent = element.parentNode;
                parent && parent.replaceChild(wrapNode, element), wrapNode.appendChild(element)
            },
            remove: jqLiteRemove,
            detach: function(element) {
                jqLiteRemove(element, !0)
            },
            after: function(element, newElement) {
                for (var index = element, parent = element.parentNode, i = 0, ii = (newElement = new JQLite(newElement)).length; i < ii; i++) {
                    var node = newElement[i];
                    parent.insertBefore(node, index.nextSibling), index = node
                }
            },
            addClass: jqLiteAddClass,
            removeClass: jqLiteRemoveClass,
            toggleClass: function(element, selector, condition) {
                selector && forEach(selector.split(" "), function(className) {
                    var classCondition = condition;
                    isUndefined(classCondition) && (classCondition = !jqLiteHasClass(element, className)), (classCondition ? jqLiteAddClass : jqLiteRemoveClass)(element, className)
                })
            },
            parent: function(element) {
                var parent = element.parentNode;
                return parent && parent.nodeType !== NODE_TYPE_DOCUMENT_FRAGMENT ? parent : null
            },
            next: function(element) {
                return element.nextElementSibling
            },
            find: function(element, selector) {
                return element.getElementsByTagName ? element.getElementsByTagName(selector) : []
            },
            clone: jqLiteClone,
            triggerHandler: function(element, event, extraParameters) {
                var dummyEvent, eventFnsCopy, handlerArgs, eventName = event.type || event,
                    expandoStore = jqLiteExpandoStore(element),
                    events = expandoStore && expandoStore.events,
                    eventFns = events && events[eventName];
                eventFns && (dummyEvent = {
                    preventDefault: function() {
                        this.defaultPrevented = !0
                    },
                    isDefaultPrevented: function() {
                        return !0 === this.defaultPrevented
                    },
                    stopImmediatePropagation: function() {
                        this.immediatePropagationStopped = !0
                    },
                    isImmediatePropagationStopped: function() {
                        return !0 === this.immediatePropagationStopped
                    },
                    stopPropagation: noop,
                    type: eventName,
                    target: element
                }, event.type && (dummyEvent = extend(dummyEvent, event)), eventFnsCopy = shallowCopy(eventFns), handlerArgs = extraParameters ? [dummyEvent].concat(extraParameters) : [dummyEvent], forEach(eventFnsCopy, function(fn) {
                    dummyEvent.isImmediatePropagationStopped() || fn.apply(element, handlerArgs)
                }))
            }
        }, function(fn, name) {
            JQLite.prototype[name] = function(arg1, arg2, arg3) {
                for (var value, i = 0, ii = this.length; i < ii; i++) isUndefined(value) ? isDefined(value = fn(this[i], arg1, arg2, arg3)) && (value = jqLite(value)) : jqLiteAddNodes(value, fn(this[i], arg1, arg2, arg3));
                return isDefined(value) ? value : this
            }, JQLite.prototype.bind = JQLite.prototype.on, JQLite.prototype.unbind = JQLite.prototype.off
        }), HashMap.prototype = {
            put: function(key, value) {
                this[hashKey(key, this.nextUid)] = value
            },
            get: function(key) {
                return this[hashKey(key, this.nextUid)]
            },
            remove: function(key) {
                var value = this[key = hashKey(key, this.nextUid)];
                return delete this[key], value
            }
        };
        var $$HashMapProvider = [function() {
                this.$get = [function() {
                    return HashMap
                }]
            }],
            FN_ARGS = /^function\s*[^\(]*\(\s*([^\)]*)\)/m,
            FN_ARG_SPLIT = /,/,
            FN_ARG = /^\s*(_?)(\S+?)\1\s*$/,
            STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,
            $injectorMinErr = minErr("$injector");

        function createInjector(modulesToLoad, strictDi) {
            strictDi = !0 === strictDi;
            var INSTANTIATING = {},
                providerSuffix = "Provider",
                path = [],
                loadedModules = new HashMap([], !0),
                providerCache = {
                    $provide: {
                        provider: supportObject(provider),
                        factory: supportObject(factory),
                        service: supportObject(function(name, constructor) {
                            return factory(name, ["$injector", function($injector) {
                                return $injector.instantiate(constructor)
                            }])
                        }),
                        value: supportObject(function(name, val) {
                            return factory(name, valueFn(val), !1)
                        }),
                        constant: supportObject(function(name, value) {
                            assertNotHasOwnProperty(name, "constant"), providerCache[name] = value, instanceCache[name] = value
                        }),
                        decorator: function(serviceName, decorFn) {
                            var origProvider = providerInjector.get(serviceName + providerSuffix),
                                orig$get = origProvider.$get;
                            origProvider.$get = function() {
                                var origInstance = instanceInjector.invoke(orig$get, origProvider);
                                return instanceInjector.invoke(decorFn, null, {
                                    $delegate: origInstance
                                })
                            }
                        }
                    }
                },
                providerInjector = providerCache.$injector = createInternalInjector(providerCache, function(serviceName, caller) {
                    throw angular.isString(caller) && path.push(caller), $injectorMinErr("unpr", "Unknown provider: {0}", path.join(" <- "))
                }),
                instanceCache = {},
                instanceInjector = instanceCache.$injector = createInternalInjector(instanceCache, function(serviceName, caller) {
                    var provider = providerInjector.get(serviceName + providerSuffix, caller);
                    return instanceInjector.invoke(provider.$get, provider, undefined, serviceName)
                });
            return forEach(function loadModules(modulesToLoad) {
                var moduleFn, runBlocks = [];
                forEach(modulesToLoad, function(module) {
                    if (!loadedModules.get(module)) {
                        loadedModules.put(module, !0);
                        try {
                            isString(module) ? (moduleFn = angularModule(module), runBlocks = runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks), runInvokeQueue(moduleFn._invokeQueue), runInvokeQueue(moduleFn._configBlocks)) : isFunction(module) ? runBlocks.push(providerInjector.invoke(module)) : isArray(module) ? runBlocks.push(providerInjector.invoke(module)) : assertArgFn(module, "module")
                        } catch (e) {
                            throw isArray(module) && (module = module[module.length - 1]), e.message && e.stack && -1 == e.stack.indexOf(e.message) && (e = e.message + "\n" + e.stack), $injectorMinErr("modulerr", "Failed to instantiate module {0} due to:\n{1}", module, e.stack || e.message || e)
                        }
                    }

                    function runInvokeQueue(queue) {
                        var i, ii;
                        for (i = 0, ii = queue.length; i < ii; i++) {
                            var invokeArgs = queue[i],
                                provider = providerInjector.get(invokeArgs[0]);
                            provider[invokeArgs[1]].apply(provider, invokeArgs[2])
                        }
                    }
                });
                return runBlocks
            }(modulesToLoad), function(fn) {
                instanceInjector.invoke(fn || noop)
            }), instanceInjector;

            function supportObject(delegate) {
                return function(key, value) {
                    if (!isObject(key)) return delegate(key, value);
                    forEach(key, reverseParams(delegate))
                }
            }

            function provider(name, provider_) {
                if (assertNotHasOwnProperty(name, "service"), (isFunction(provider_) || isArray(provider_)) && (provider_ = providerInjector.instantiate(provider_)), !provider_.$get) throw $injectorMinErr("pget", "Provider '{0}' must define $get factory method.", name);
                return providerCache[name + providerSuffix] = provider_
            }

            function factory(name, factoryFn, enforce) {
                return provider(name, {
                    $get: !1 !== enforce ? function(name, factory) {
                        return function() {
                            var result = instanceInjector.invoke(factory, this);
                            if (isUndefined(result)) throw $injectorMinErr("undef", "Provider '{0}' must return a value from $get factory method.", name);
                            return result
                        }
                    }(name, factoryFn) : factoryFn
                })
            }

            function createInternalInjector(cache, factory) {
                function getService(serviceName, caller) {
                    if (cache.hasOwnProperty(serviceName)) {
                        if (cache[serviceName] === INSTANTIATING) throw $injectorMinErr("cdep", "Circular dependency found: {0}", serviceName + " <- " + path.join(" <- "));
                        return cache[serviceName]
                    }
                    try {
                        return path.unshift(serviceName), cache[serviceName] = INSTANTIATING, cache[serviceName] = factory(serviceName, caller)
                    } catch (err) {
                        throw cache[serviceName] === INSTANTIATING && delete cache[serviceName], err
                    } finally {
                        path.shift()
                    }
                }

                function invoke(fn, self, locals, serviceName) {
                    "string" == typeof locals && (serviceName = locals, locals = null);
                    var length, i, key, args = [],
                        $inject = createInjector.$$annotate(fn, strictDi, serviceName);
                    for (i = 0, length = $inject.length; i < length; i++) {
                        if ("string" != typeof(key = $inject[i])) throw $injectorMinErr("itkn", "Incorrect injection token! Expected service name as string, got {0}", key);
                        args.push(locals && locals.hasOwnProperty(key) ? locals[key] : getService(key, serviceName))
                    }
                    return isArray(fn) && (fn = fn[length]), fn.apply(self, args)
                }
                return {
                    invoke: invoke,
                    instantiate: function(Type, locals, serviceName) {
                        var instance = Object.create((isArray(Type) ? Type[Type.length - 1] : Type).prototype || null),
                            returnedValue = invoke(Type, instance, locals, serviceName);
                        return isObject(returnedValue) || isFunction(returnedValue) ? returnedValue : instance
                    },
                    get: getService,
                    annotate: createInjector.$$annotate,
                    has: function(name) {
                        return providerCache.hasOwnProperty(name + providerSuffix) || cache.hasOwnProperty(name)
                    }
                }
            }
        }

        function $AnchorScrollProvider() {
            var autoScrollingEnabled = !0;
            this.disableAutoScrolling = function() {
                autoScrollingEnabled = !1
            }, this.$get = ["$window", "$location", "$rootScope", function($window, $location, $rootScope) {
                var document = $window.document;

                function scrollTo(elem) {
                    if (elem) {
                        elem.scrollIntoView();
                        var offset = function() {
                            var offset = scroll.yOffset;
                            if (isFunction(offset)) offset = offset();
                            else if (isElement(offset)) {
                                var elem = offset[0];
                                offset = "fixed" !== $window.getComputedStyle(elem).position ? 0 : elem.getBoundingClientRect().bottom
                            } else isNumber(offset) || (offset = 0);
                            return offset
                        }();
                        if (offset) {
                            var elemTop = elem.getBoundingClientRect().top;
                            $window.scrollBy(0, elemTop - offset)
                        }
                    } else $window.scrollTo(0, 0)
                }

                function scroll() {
                    var elm, hash = $location.hash();
                    hash ? (elm = document.getElementById(hash)) ? scrollTo(elm) : (elm = function(list) {
                        var result = null;
                        return Array.prototype.some.call(list, function(element) {
                            if ("a" === nodeName_(element)) return result = element, !0
                        }), result
                    }(document.getElementsByName(hash))) ? scrollTo(elm) : "top" === hash && scrollTo(null) : scrollTo(null)
                }
                return autoScrollingEnabled && $rootScope.$watch(function() {
                    return $location.hash()
                }, function(newVal, oldVal) {
                    newVal === oldVal && "" === newVal || function(action, win) {
                        "complete" === (win = win || window).document.readyState ? win.setTimeout(action) : jqLite(win).on("load", action)
                    }(function() {
                        $rootScope.$evalAsync(scroll)
                    })
                }), scroll
            }]
        }
        createInjector.$$annotate = function(fn, strictDi, name) {
            var $inject, last;
            if ("function" == typeof fn) {
                if (!($inject = fn.$inject)) {
                    if ($inject = [], fn.length) {
                        if (strictDi) throw isString(name) && name || (name = fn.name || function(fn) {
                            var args = fn.toString().replace(STRIP_COMMENTS, "").match(FN_ARGS);
                            return args ? "function(" + (args[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn"
                        }(fn)), $injectorMinErr("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", name);
                        forEach(fn.toString().replace(STRIP_COMMENTS, "").match(FN_ARGS)[1].split(FN_ARG_SPLIT), function(arg) {
                            arg.replace(FN_ARG, function(all, underscore, name) {
                                $inject.push(name)
                            })
                        })
                    }
                    fn.$inject = $inject
                }
            } else isArray(fn) ? (assertArgFn(fn[last = fn.length - 1], "fn"), $inject = fn.slice(0, last)) : assertArgFn(fn, "fn", !0);
            return $inject
        };
        var $animateMinErr = minErr("$animate"),
            $AnimateProvider = ["$provide", function($provide) {
                this.$$selectors = {}, this.register = function(name, factory) {
                    var key = name + "-animation";
                    if (name && "." != name.charAt(0)) throw $animateMinErr("notcsel", "Expecting class selector starting with '.' got '{0}'.", name);
                    this.$$selectors[name.substr(1)] = key, $provide.factory(key, factory)
                }, this.classNameFilter = function(expression) {
                    return 1 === arguments.length && (this.$$classNameFilter = expression instanceof RegExp ? expression : null), this.$$classNameFilter
                }, this.$get = ["$$q", "$$asyncCallback", "$rootScope", function($$q, $$asyncCallback, $rootScope) {
                    var currentDefer;

                    function cachedClassManipulation(cache, classes, op) {
                        for (var i = 0, ii = classes.length; i < ii; ++i) {
                            cache[classes[i]] = op
                        }
                    }

                    function asyncPromise() {
                        return currentDefer || (currentDefer = $$q.defer(), $$asyncCallback(function() {
                            currentDefer.resolve(), currentDefer = null
                        })), currentDefer.promise
                    }

                    function applyStyles(element, options) {
                        if (angular.isObject(options)) {
                            var styles = extend(options.from || {}, options.to || {});
                            element.css(styles)
                        }
                    }
                    return {
                        animate: function(element, from, to) {
                            return applyStyles(element, {
                                from: from,
                                to: to
                            }), asyncPromise()
                        },
                        enter: function(element, parent, after, options) {
                            return applyStyles(element, options), after ? after.after(element) : parent.prepend(element), asyncPromise()
                        },
                        leave: function(element, options) {
                            return applyStyles(element, options), element.remove(), asyncPromise()
                        },
                        move: function(element, parent, after, options) {
                            return this.enter(element, parent, after, options)
                        },
                        addClass: function(element, className, options) {
                            return this.setClass(element, className, [], options)
                        },
                        $$addClassImmediately: function(element, className, options) {
                            return element = jqLite(element), className = isString(className) ? className : isArray(className) ? className.join(" ") : "", forEach(element, function(element) {
                                jqLiteAddClass(element, className)
                            }), applyStyles(element, options), asyncPromise()
                        },
                        removeClass: function(element, className, options) {
                            return this.setClass(element, [], className, options)
                        },
                        $$removeClassImmediately: function(element, className, options) {
                            return element = jqLite(element), className = isString(className) ? className : isArray(className) ? className.join(" ") : "", forEach(element, function(element) {
                                jqLiteRemoveClass(element, className)
                            }), applyStyles(element, options), asyncPromise()
                        },
                        setClass: function(element, add, remove, options) {
                            var self = this,
                                createdCache = !1,
                                cache = (element = jqLite(element)).data("$$animateClasses");
                            cache ? options && cache.options && (cache.options = angular.extend(cache.options || {}, options)) : (cache = {
                                classes: {},
                                options: options
                            }, createdCache = !0);
                            var classes = cache.classes;
                            return add = isArray(add) ? add : add.split(" "), remove = isArray(remove) ? remove : remove.split(" "), cachedClassManipulation(classes, add, !0), cachedClassManipulation(classes, remove, !1), createdCache && (cache.promise = function(fn) {
                                var cancelFn, defer = $$q.defer();
                                return defer.promise.$$cancelFn = function() {
                                    cancelFn && cancelFn()
                                }, $rootScope.$$postDigest(function() {
                                    cancelFn = fn(function() {
                                        defer.resolve()
                                    })
                                }), defer.promise
                            }(function(done) {
                                var cache = element.data("$$animateClasses");
                                if (element.removeData("$$animateClasses"), cache) {
                                    var classes = function(element, classes) {
                                        var toAdd = [],
                                            toRemove = [],
                                            hasClasses = createMap();
                                        return forEach((element.attr("class") || "").split(/\s+/), function(className) {
                                            hasClasses[className] = !0
                                        }), forEach(classes, function(status, className) {
                                            var hasClass = hasClasses[className];
                                            !1 === status && hasClass ? toRemove.push(className) : !0 !== status || hasClass || toAdd.push(className)
                                        }), 0 < toAdd.length + toRemove.length && [toAdd.length ? toAdd : null, toRemove.length ? toRemove : null]
                                    }(element, cache.classes);
                                    classes && self.$$setClassImmediately(element, classes[0], classes[1], cache.options)
                                }
                                done()
                            }), element.data("$$animateClasses", cache)), cache.promise
                        },
                        $$setClassImmediately: function(element, add, remove, options) {
                            return add && this.$$addClassImmediately(element, add), remove && this.$$removeClassImmediately(element, remove), applyStyles(element, options), asyncPromise()
                        },
                        enabled: noop,
                        cancel: noop
                    }
                }]
            }];

        function $$AsyncCallbackProvider() {
            this.$get = ["$$rAF", "$timeout", function($$rAF, $timeout) {
                return $$rAF.supported ? function(fn) {
                    return $$rAF(fn)
                } : function(fn) {
                    return $timeout(fn, 0, !1)
                }
            }]
        }

        function Browser(window, document, $log, $sniffer) {
            var self = this,
                location = (document[0], window.location),
                history = window.history,
                setTimeout = window.setTimeout,
                clearTimeout = window.clearTimeout,
                pendingDeferIds = {};
            self.isMock = !1;
            var outstandingRequestCount = 0,
                outstandingRequestCallbacks = [];

            function completeOutstandingRequest(fn) {
                try {
                    fn.apply(null, sliceArgs(arguments, 1))
                } finally {
                    if (0 === --outstandingRequestCount)
                        for (; outstandingRequestCallbacks.length;) try {
                            outstandingRequestCallbacks.pop()()
                        } catch (e) {
                            $log.error(e)
                        }
                }
            }
            self.$$completeOutstandingRequest = completeOutstandingRequest, self.$$incOutstandingRequestCount = function() {
                outstandingRequestCount++
            }, self.notifyWhenNoOutstandingRequests = function(callback) {
                0 === outstandingRequestCount ? callback() : outstandingRequestCallbacks.push(callback)
            };
            var cachedState, lastHistoryState, lastBrowserUrl = location.href,
                baseElement = document.find("base"),
                reloadLocation = null;
            cacheState(), lastHistoryState = cachedState, self.url = function(url, replace, state) {
                if (isUndefined(state) && (state = null), location !== window.location && (location = window.location), history !== window.history && (history = window.history), url) {
                    var sameState = lastHistoryState === state;
                    if (lastBrowserUrl === url && (!$sniffer.history || sameState)) return self;
                    var sameBase = lastBrowserUrl && stripHash(lastBrowserUrl) === stripHash(url);
                    return lastBrowserUrl = url, lastHistoryState = state, !$sniffer.history || sameBase && sameState ? (sameBase || (reloadLocation = url), replace ? location.replace(url) : sameBase ? location.hash = function(url) {
                        var index = url.indexOf("#");
                        return -1 === index ? "" : url.substr(index + 1)
                    }(url) : location.href = url) : (history[replace ? "replaceState" : "pushState"](state, "", url), cacheState(), lastHistoryState = cachedState), self
                }
                return reloadLocation || location.href.replace(/%27/g, "'")
            }, self.state = function() {
                return cachedState
            };
            var urlChangeListeners = [],
                urlChangeInit = !1;

            function cacheStateAndFireUrlChange() {
                cacheState(), fireUrlChange()
            }
            var lastCachedState = null;

            function cacheState() {
                equals(cachedState = isUndefined(cachedState = function() {
                    try {
                        return history.state
                    } catch (e) {}
                }()) ? null : cachedState, lastCachedState) && (cachedState = lastCachedState), lastCachedState = cachedState
            }

            function fireUrlChange() {
                lastBrowserUrl === self.url() && lastHistoryState === cachedState || (lastBrowserUrl = self.url(), lastHistoryState = cachedState, forEach(urlChangeListeners, function(listener) {
                    listener(self.url(), cachedState)
                }))
            }
            self.onUrlChange = function(callback) {
                return urlChangeInit || ($sniffer.history && jqLite(window).on("popstate", cacheStateAndFireUrlChange), jqLite(window).on("hashchange", cacheStateAndFireUrlChange), urlChangeInit = !0), urlChangeListeners.push(callback), callback
            }, self.$$checkUrlChange = fireUrlChange, self.baseHref = function() {
                var href = baseElement.attr("href");
                return href ? href.replace(/^(https?\:)?\/\/[^\/]*/, "") : ""
            }, self.defer = function(fn, delay) {
                var timeoutId;
                return outstandingRequestCount++, timeoutId = setTimeout(function() {
                    delete pendingDeferIds[timeoutId], completeOutstandingRequest(fn)
                }, delay || 0), pendingDeferIds[timeoutId] = !0, timeoutId
            }, self.defer.cancel = function(deferId) {
                return !!pendingDeferIds[deferId] && (delete pendingDeferIds[deferId], clearTimeout(deferId), completeOutstandingRequest(noop), !0)
            }
        }

        function $BrowserProvider() {
            this.$get = ["$window", "$log", "$sniffer", "$document", function($window, $log, $sniffer, $document) {
                return new Browser($window, $document, $log, $sniffer)
            }]
        }

        function $CacheFactoryProvider() {
            this.$get = function() {
                var caches = {};

                function cacheFactory(cacheId, options) {
                    if (cacheId in caches) throw minErr("$cacheFactory")("iid", "CacheId '{0}' is already taken!", cacheId);
                    var size = 0,
                        stats = extend({}, options, {
                            id: cacheId
                        }),
                        data = {},
                        capacity = options && options.capacity || Number.MAX_VALUE,
                        lruHash = {},
                        freshEnd = null,
                        staleEnd = null;
                    return caches[cacheId] = {
                        put: function(key, value) {
                            if (!isUndefined(value)) {
                                if (capacity < Number.MAX_VALUE) refresh(lruHash[key] || (lruHash[key] = {
                                    key: key
                                }));
                                return key in data || size++, data[key] = value, capacity < size && this.remove(staleEnd.key), value
                            }
                        },
                        get: function(key) {
                            if (capacity < Number.MAX_VALUE) {
                                var lruEntry = lruHash[key];
                                if (!lruEntry) return;
                                refresh(lruEntry)
                            }
                            return data[key]
                        },
                        remove: function(key) {
                            if (capacity < Number.MAX_VALUE) {
                                var lruEntry = lruHash[key];
                                if (!lruEntry) return;
                                lruEntry == freshEnd && (freshEnd = lruEntry.p), lruEntry == staleEnd && (staleEnd = lruEntry.n), link(lruEntry.n, lruEntry.p), delete lruHash[key]
                            }
                            delete data[key], size--
                        },
                        removeAll: function() {
                            data = {}, size = 0, lruHash = {}, freshEnd = staleEnd = null
                        },
                        destroy: function() {
                            lruHash = stats = data = null, delete caches[cacheId]
                        },
                        info: function() {
                            return extend({}, stats, {
                                size: size
                            })
                        }
                    };

                    function refresh(entry) {
                        entry != freshEnd && (staleEnd ? staleEnd == entry && (staleEnd = entry.n) : staleEnd = entry, link(entry.n, entry.p), link(entry, freshEnd), (freshEnd = entry).n = null)
                    }

                    function link(nextEntry, prevEntry) {
                        nextEntry != prevEntry && (nextEntry && (nextEntry.p = prevEntry), prevEntry && (prevEntry.n = nextEntry))
                    }
                }
                return cacheFactory.info = function() {
                    var info = {};
                    return forEach(caches, function(cache, cacheId) {
                        info[cacheId] = cache.info()
                    }), info
                }, cacheFactory.get = function(cacheId) {
                    return caches[cacheId]
                }, cacheFactory
            }
        }

        function $TemplateCacheProvider() {
            this.$get = ["$cacheFactory", function($cacheFactory) {
                return $cacheFactory("templates")
            }]
        }
        var $compileMinErr = minErr("$compile");

        function $CompileProvider($provide, $$sanitizeUriProvider) {
            var hasDirectives = {},
                COMMENT_DIRECTIVE_REGEXP = /^\s*directive\:\s*([\w\-]+)\s+(.*)$/,
                CLASS_DIRECTIVE_REGEXP = /(([\w\-]+)(?:\:([^;]+))?;?)/,
                ALL_OR_NOTHING_ATTRS = function(str) {
                    var i, obj = {},
                        items = str.split(",");
                    for (i = 0; i < items.length; i++) obj[items[i]] = !0;
                    return obj
                }("ngSrc,ngSrcset,src,srcset"),
                REQUIRE_PREFIX_REGEXP = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/,
                EVENT_HANDLER_ATTR_REGEXP = /^(on[a-z]+|formaction)$/;

            function parseIsolateBindings(scope, directiveName, isController) {
                var LOCAL_REGEXP = /^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,
                    bindings = {};
                return forEach(scope, function(definition, scopeName) {
                    var match = definition.match(LOCAL_REGEXP);
                    if (!match) throw $compileMinErr("iscp", "Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}", directiveName, scopeName, definition, isController ? "controller bindings definition" : "isolate scope definition");
                    bindings[scopeName] = {
                        mode: match[1][0],
                        collection: "*" === match[2],
                        optional: "?" === match[3],
                        attrName: match[4] || scopeName
                    }
                }), bindings
            }

            function parseDirectiveBindings(directive, directiveName) {
                var bindings = {
                    isolateScope: null,
                    bindToController: null
                };
                if (isObject(directive.scope) && (!0 === directive.bindToController ? (bindings.bindToController = parseIsolateBindings(directive.scope, directiveName, !0), bindings.isolateScope = {}) : bindings.isolateScope = parseIsolateBindings(directive.scope, directiveName, !1)), isObject(directive.bindToController) && (bindings.bindToController = parseIsolateBindings(directive.bindToController, directiveName, !0)), isObject(bindings.bindToController)) {
                    var controller = directive.controller,
                        controllerAs = directive.controllerAs;
                    if (!controller) throw $compileMinErr("noctrl", "Cannot bind to controller without directive '{0}'s controller.", directiveName);
                    if (! function(controller, ident) {
                            if (ident && isString(ident)) return ident;
                            if (isString(controller)) {
                                var match = CNTRL_REG.exec(controller);
                                if (match) return match[3]
                            }
                        }(controller, controllerAs)) throw $compileMinErr("noident", "Cannot bind to controller without identifier for directive '{0}'.", directiveName)
                }
                return bindings
            }
            this.directive = function registerDirective(name, directiveFactory) {
                return assertNotHasOwnProperty(name, "directive"), isString(name) ? (assertArg(directiveFactory, "directiveFactory"), hasDirectives.hasOwnProperty(name) || (hasDirectives[name] = [], $provide.factory(name + "Directive", ["$injector", "$exceptionHandler", function($injector, $exceptionHandler) {
                    var directives = [];
                    return forEach(hasDirectives[name], function(directiveFactory, index) {
                        try {
                            var directive = $injector.invoke(directiveFactory);
                            isFunction(directive) ? directive = {
                                compile: valueFn(directive)
                            } : !directive.compile && directive.link && (directive.compile = valueFn(directive.link)), directive.priority = directive.priority || 0, directive.index = index, directive.name = directive.name || name, directive.require = directive.require || directive.controller && directive.name, directive.restrict = directive.restrict || "EA";
                            var bindings = directive.$$bindings = parseDirectiveBindings(directive, directive.name);
                            isObject(bindings.isolateScope) && (directive.$$isolateBindings = bindings.isolateScope), directives.push(directive)
                        } catch (e) {
                            $exceptionHandler(e)
                        }
                    }), directives
                }])), hasDirectives[name].push(directiveFactory)) : forEach(name, reverseParams(registerDirective)), this
            }, this.aHrefSanitizationWhitelist = function(regexp) {
                return isDefined(regexp) ? ($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp), this) : $$sanitizeUriProvider.aHrefSanitizationWhitelist()
            }, this.imgSrcSanitizationWhitelist = function(regexp) {
                return isDefined(regexp) ? ($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp), this) : $$sanitizeUriProvider.imgSrcSanitizationWhitelist()
            };
            var debugInfoEnabled = !0;
            this.debugInfoEnabled = function(enabled) {
                return isDefined(enabled) ? (debugInfoEnabled = enabled, this) : debugInfoEnabled
            }, this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$document", "$sce", "$animate", "$$sanitizeUri", function($injector, $interpolate, $exceptionHandler, $templateRequest, $parse, $controller, $rootScope, $document, $sce, $animate, $$sanitizeUri) {
                var Attributes = function(element, attributesToCopy) {
                    if (attributesToCopy) {
                        var i, l, key, keys = Object.keys(attributesToCopy);
                        for (i = 0, l = keys.length; i < l; i++) this[key = keys[i]] = attributesToCopy[key]
                    } else this.$attr = {};
                    this.$$element = element
                };

                function safeAddClass($element, className) {
                    try {
                        $element.addClass(className)
                    } catch (e) {}
                }
                Attributes.prototype = {
                    $normalize: directiveNormalize,
                    $addClass: function(classVal) {
                        classVal && 0 < classVal.length && $animate.addClass(this.$$element, classVal)
                    },
                    $removeClass: function(classVal) {
                        classVal && 0 < classVal.length && $animate.removeClass(this.$$element, classVal)
                    },
                    $updateClass: function(newClasses, oldClasses) {
                        var toAdd = tokenDifference(newClasses, oldClasses);
                        toAdd && toAdd.length && $animate.addClass(this.$$element, toAdd);
                        var toRemove = tokenDifference(oldClasses, newClasses);
                        toRemove && toRemove.length && $animate.removeClass(this.$$element, toRemove)
                    },
                    $set: function(key, value, writeAttr, attrName) {
                        var nodeName, node = this.$$element[0],
                            booleanKey = getBooleanAttrName(node, key),
                            aliasedKey = function(element, name) {
                                var nodeName = element.nodeName;
                                return ("INPUT" === nodeName || "TEXTAREA" === nodeName) && ALIASED_ATTR[name]
                            }(node, key),
                            observer = key;
                        if (booleanKey ? (this.$$element.prop(key, value), attrName = booleanKey) : aliasedKey && (this[aliasedKey] = value, observer = aliasedKey), this[key] = value, attrName ? this.$attr[key] = attrName : (attrName = this.$attr[key]) || (this.$attr[key] = attrName = snake_case(key, "-")), "a" === (nodeName = nodeName_(this.$$element)) && "href" === key || "img" === nodeName && "src" === key) this[key] = value = $$sanitizeUri(value, "src" === key);
                        else if ("img" === nodeName && "srcset" === key) {
                            for (var result = "", trimmedSrcset = trim(value), pattern = /\s/.test(trimmedSrcset) ? /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/ : /(,)/, rawUris = trimmedSrcset.split(pattern), nbrUrisWith2parts = Math.floor(rawUris.length / 2), i = 0; i < nbrUrisWith2parts; i++) {
                                var innerIdx = 2 * i;
                                result += $$sanitizeUri(trim(rawUris[innerIdx]), !0), result += " " + trim(rawUris[1 + innerIdx])
                            }
                            var lastTuple = trim(rawUris[2 * i]).split(/\s/);
                            result += $$sanitizeUri(trim(lastTuple[0]), !0), 2 === lastTuple.length && (result += " " + trim(lastTuple[1])), this[key] = value = result
                        }!1 !== writeAttr && (null === value || value === undefined ? this.$$element.removeAttr(attrName) : this.$$element.attr(attrName, value));
                        var $$observers = this.$$observers;
                        $$observers && forEach($$observers[observer], function(fn) {
                            try {
                                fn(value)
                            } catch (e) {
                                $exceptionHandler(e)
                            }
                        })
                    },
                    $observe: function(key, fn) {
                        var attrs = this,
                            $$observers = attrs.$$observers || (attrs.$$observers = createMap()),
                            listeners = $$observers[key] || ($$observers[key] = []);
                        return listeners.push(fn), $rootScope.$evalAsync(function() {
                                !listeners.$$inter && attrs.hasOwnProperty(key) && fn(attrs[key])
                            }),
                            function() {
                                arrayRemove(listeners, fn)
                            }
                    }
                };
                var startSymbol = $interpolate.startSymbol(),
                    endSymbol = $interpolate.endSymbol(),
                    denormalizeTemplate = "{{" == startSymbol || "}}" == endSymbol ? identity : function(template) {
                        return template.replace(/\{\{/g, startSymbol).replace(/}}/g, endSymbol)
                    },
                    NG_ATTR_BINDING = /^ngAttr[A-Z]/;
                return compile.$$addBindingInfo = debugInfoEnabled ? function($element, binding) {
                    var bindings = $element.data("$binding") || [];
                    isArray(binding) ? bindings = bindings.concat(binding) : bindings.push(binding), $element.data("$binding", bindings)
                } : noop, compile.$$addBindingClass = debugInfoEnabled ? function($element) {
                    safeAddClass($element, "ng-binding")
                } : noop, compile.$$addScopeInfo = debugInfoEnabled ? function($element, scope, isolated, noTemplate) {
                    var dataName = isolated ? noTemplate ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
                    $element.data(dataName, scope)
                } : noop, compile.$$addScopeClass = debugInfoEnabled ? function($element, isolated) {
                    safeAddClass($element, isolated ? "ng-isolate-scope" : "ng-scope")
                } : noop, compile;

                function compile($compileNodes, transcludeFn, maxPriority, ignoreDirective, previousCompileContext) {
                    $compileNodes instanceof jqLite || ($compileNodes = jqLite($compileNodes)), forEach($compileNodes, function(node, index) {
                        node.nodeType == NODE_TYPE_TEXT && node.nodeValue.match(/\S+/) && ($compileNodes[index] = jqLite(node).wrap("<span></span>").parent()[0])
                    });
                    var compositeLinkFn = compileNodes($compileNodes, transcludeFn, $compileNodes, maxPriority, ignoreDirective, previousCompileContext);
                    compile.$$addScopeClass($compileNodes);
                    var namespace = null;
                    return function(scope, cloneConnectFn, options) {
                        assertArg(scope, "scope");
                        var $linkNode, parentBoundTranscludeFn = (options = options || {}).parentBoundTranscludeFn,
                            transcludeControllers = options.transcludeControllers,
                            futureParentElement = options.futureParentElement;
                        if (parentBoundTranscludeFn && parentBoundTranscludeFn.$$boundTransclude && (parentBoundTranscludeFn = parentBoundTranscludeFn.$$boundTransclude), namespace || (namespace = function(parentElement) {
                                var node = parentElement && parentElement[0];
                                return node && "foreignobject" !== nodeName_(node) && node.toString().match(/SVG/) ? "svg" : "html"
                            }(futureParentElement)), $linkNode = "html" !== namespace ? jqLite(wrapTemplate(namespace, jqLite("<div>").append($compileNodes).html())) : cloneConnectFn ? JQLitePrototype.clone.call($compileNodes) : $compileNodes, transcludeControllers)
                            for (var controllerName in transcludeControllers) $linkNode.data("$" + controllerName + "Controller", transcludeControllers[controllerName].instance);
                        return compile.$$addScopeInfo($linkNode, scope), cloneConnectFn && cloneConnectFn($linkNode, scope), compositeLinkFn && compositeLinkFn(scope, $linkNode, $linkNode, parentBoundTranscludeFn), $linkNode
                    }
                }

                function compileNodes(nodeList, transcludeFn, $rootElement, maxPriority, ignoreDirective, previousCompileContext) {
                    for (var attrs, directives, nodeLinkFn, childNodes, childLinkFn, linkFnFound, nodeLinkFnFound, linkFns = [], i = 0; i < nodeList.length; i++) attrs = new Attributes, (nodeLinkFn = (directives = collectDirectives(nodeList[i], [], attrs, 0 === i ? maxPriority : undefined, ignoreDirective)).length ? applyDirectivesToNode(directives, nodeList[i], attrs, transcludeFn, $rootElement, null, [], [], previousCompileContext) : null) && nodeLinkFn.scope && compile.$$addScopeClass(attrs.$$element), childLinkFn = nodeLinkFn && nodeLinkFn.terminal || !(childNodes = nodeList[i].childNodes) || !childNodes.length ? null : compileNodes(childNodes, nodeLinkFn ? (nodeLinkFn.transcludeOnThisElement || !nodeLinkFn.templateOnThisElement) && nodeLinkFn.transclude : transcludeFn), (nodeLinkFn || childLinkFn) && (linkFns.push(i, nodeLinkFn, childLinkFn), linkFnFound = !0, nodeLinkFnFound = nodeLinkFnFound || nodeLinkFn), previousCompileContext = null;
                    return linkFnFound ? function(scope, nodeList, $rootElement, parentBoundTranscludeFn) {
                        var nodeLinkFn, childLinkFn, node, childScope, i, ii, idx, childBoundTranscludeFn, stableNodeList;
                        if (nodeLinkFnFound) {
                            var nodeListLength = nodeList.length;
                            for (stableNodeList = new Array(nodeListLength), i = 0; i < linkFns.length; i += 3) idx = linkFns[i], stableNodeList[idx] = nodeList[idx]
                        } else stableNodeList = nodeList;
                        for (i = 0, ii = linkFns.length; i < ii;)
                            if (node = stableNodeList[linkFns[i++]], nodeLinkFn = linkFns[i++], childLinkFn = linkFns[i++], nodeLinkFn) {
                                if (nodeLinkFn.scope) {
                                    childScope = scope.$new(), compile.$$addScopeInfo(jqLite(node), childScope);
                                    var destroyBindings = nodeLinkFn.$$destroyBindings;
                                    destroyBindings && (nodeLinkFn.$$destroyBindings = null, childScope.$on("$destroyed", destroyBindings))
                                } else childScope = scope;
                                childBoundTranscludeFn = nodeLinkFn.transcludeOnThisElement ? createBoundTranscludeFn(scope, nodeLinkFn.transclude, parentBoundTranscludeFn, nodeLinkFn.elementTranscludeOnThisElement) : !nodeLinkFn.templateOnThisElement && parentBoundTranscludeFn ? parentBoundTranscludeFn : !parentBoundTranscludeFn && transcludeFn ? createBoundTranscludeFn(scope, transcludeFn) : null, nodeLinkFn(childLinkFn, childScope, node, $rootElement, childBoundTranscludeFn, nodeLinkFn)
                            } else childLinkFn && childLinkFn(scope, node.childNodes, undefined, parentBoundTranscludeFn)
                    } : null
                }

                function createBoundTranscludeFn(scope, transcludeFn, previousBoundTranscludeFn, elementTransclusion) {
                    return function(transcludedScope, cloneFn, controllers, futureParentElement, containingScope) {
                        return transcludedScope || ((transcludedScope = scope.$new(!1, containingScope)).$$transcluded = !0), transcludeFn(transcludedScope, cloneFn, {
                            parentBoundTranscludeFn: previousBoundTranscludeFn,
                            transcludeControllers: controllers,
                            futureParentElement: futureParentElement
                        })
                    }
                }

                function collectDirectives(node, directives, attrs, maxPriority, ignoreDirective) {
                    var match, className, nodeType = node.nodeType,
                        attrsMap = attrs.$attr;
                    switch (nodeType) {
                        case NODE_TYPE_ELEMENT:
                            addDirective(directives, directiveNormalize(nodeName_(node)), "E", maxPriority, ignoreDirective);
                            for (var attr, name, nName, ngAttrName, value, isNgAttr, nAttrs = node.attributes, j = 0, jj = nAttrs && nAttrs.length; j < jj; j++) {
                                var attrStartName = !1,
                                    attrEndName = !1;
                                name = (attr = nAttrs[j]).name, value = trim(attr.value), ngAttrName = directiveNormalize(name), (isNgAttr = NG_ATTR_BINDING.test(ngAttrName)) && (name = name.replace(PREFIX_REGEXP, "").substr(8).replace(/_(.)/g, function(match, letter) {
                                    return letter.toUpperCase()
                                }));
                                var directiveNName = ngAttrName.replace(/(Start|End)$/, "");
                                directiveIsMultiElement(directiveNName) && ngAttrName === directiveNName + "Start" && (attrEndName = (attrStartName = name).substr(0, name.length - 5) + "end", name = name.substr(0, name.length - 6)), attrsMap[nName = directiveNormalize(name.toLowerCase())] = name, !isNgAttr && attrs.hasOwnProperty(nName) || (attrs[nName] = value, getBooleanAttrName(node, nName) && (attrs[nName] = !0)), addAttrInterpolateDirective(node, directives, value, nName, isNgAttr), addDirective(directives, nName, "A", maxPriority, ignoreDirective, attrStartName, attrEndName)
                            }
                            if (isObject(className = node.className) && (className = className.animVal), isString(className) && "" !== className)
                                for (; match = CLASS_DIRECTIVE_REGEXP.exec(className);) addDirective(directives, nName = directiveNormalize(match[2]), "C", maxPriority, ignoreDirective) && (attrs[nName] = trim(match[3])), className = className.substr(match.index + match[0].length);
                            break;
                        case NODE_TYPE_TEXT:
                            ! function(directives, text) {
                                var interpolateFn = $interpolate(text, !0);
                                interpolateFn && directives.push({
                                    priority: 0,
                                    compile: function(templateNode) {
                                        var templateNodeParent = templateNode.parent(),
                                            hasCompileParent = !!templateNodeParent.length;
                                        return hasCompileParent && compile.$$addBindingClass(templateNodeParent),
                                            function(scope, node) {
                                                var parent = node.parent();
                                                hasCompileParent || compile.$$addBindingClass(parent), compile.$$addBindingInfo(parent, interpolateFn.expressions), scope.$watch(interpolateFn, function(value) {
                                                    node[0].nodeValue = value
                                                })
                                            }
                                    }
                                })
                            }(directives, node.nodeValue);
                            break;
                        case NODE_TYPE_COMMENT:
                            try {
                                (match = COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue)) && addDirective(directives, nName = directiveNormalize(match[1]), "M", maxPriority, ignoreDirective) && (attrs[nName] = trim(match[2]))
                            } catch (e) {}
                    }
                    return directives.sort(byPriority), directives
                }

                function groupScan(node, attrStart, attrEnd) {
                    var nodes = [],
                        depth = 0;
                    if (attrStart && node.hasAttribute && node.hasAttribute(attrStart))
                        do {
                            if (!node) throw $compileMinErr("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", attrStart, attrEnd);
                            node.nodeType == NODE_TYPE_ELEMENT && (node.hasAttribute(attrStart) && depth++, node.hasAttribute(attrEnd) && depth--), nodes.push(node), node = node.nextSibling
                        } while (0 < depth);
                    else nodes.push(node);
                    return jqLite(nodes)
                }

                function groupElementsLinkFnWrapper(linkFn, attrStart, attrEnd) {
                    return function(scope, element, attrs, controllers, transcludeFn) {
                        return element = groupScan(element[0], attrStart, attrEnd), linkFn(scope, element, attrs, controllers, transcludeFn)
                    }
                }

                function applyDirectivesToNode(directives, compileNode, templateAttrs, transcludeFn, jqCollection, originalReplaceDirective, preLinkFns, postLinkFns, previousCompileContext) {
                    previousCompileContext = previousCompileContext || {};
                    for (var newScopeDirective, directive, directiveName, $template, linkFn, directiveValue, terminalPriority = -Number.MAX_VALUE, controllerDirectives = previousCompileContext.controllerDirectives, newIsolateScopeDirective = previousCompileContext.newIsolateScopeDirective, templateDirective = previousCompileContext.templateDirective, nonTlbTranscludeDirective = previousCompileContext.nonTlbTranscludeDirective, hasTranscludeDirective = !1, hasTemplate = !1, hasElementTranscludeDirective = previousCompileContext.hasElementTranscludeDirective, $compileNode = templateAttrs.$$element = jqLite(compileNode), replaceDirective = originalReplaceDirective, childTranscludeFn = transcludeFn, i = 0, ii = directives.length; i < ii; i++) {
                        var attrStart = (directive = directives[i]).$$start,
                            attrEnd = directive.$$end;
                        if (attrStart && ($compileNode = groupScan(compileNode, attrStart, attrEnd)), $template = undefined, terminalPriority > directive.priority) break;
                        if ((directiveValue = directive.scope) && (directive.templateUrl || (isObject(directiveValue) ? (assertNoDuplicate("new/isolated scope", newIsolateScopeDirective || newScopeDirective, directive, $compileNode), newIsolateScopeDirective = directive) : assertNoDuplicate("new/isolated scope", newIsolateScopeDirective, directive, $compileNode)), newScopeDirective = newScopeDirective || directive), directiveName = directive.name, !directive.templateUrl && directive.controller && (directiveValue = directive.controller, controllerDirectives = controllerDirectives || createMap(), assertNoDuplicate("'" + directiveName + "' controller", controllerDirectives[directiveName], directive, $compileNode), controllerDirectives[directiveName] = directive), (directiveValue = directive.transclude) && (hasTranscludeDirective = !0, directive.$$tlb || (assertNoDuplicate("transclusion", nonTlbTranscludeDirective, directive, $compileNode), nonTlbTranscludeDirective = directive), childTranscludeFn = "element" == directiveValue ? (hasElementTranscludeDirective = !0, terminalPriority = directive.priority, $template = $compileNode, $compileNode = templateAttrs.$$element = jqLite(document.createComment(" " + directiveName + ": " + templateAttrs[directiveName] + " ")), compileNode = $compileNode[0], replaceWith(jqCollection, sliceArgs($template), compileNode), compile($template, transcludeFn, terminalPriority, replaceDirective && replaceDirective.name, {
                                nonTlbTranscludeDirective: nonTlbTranscludeDirective
                            })) : ($template = jqLite(jqLiteClone(compileNode)).contents(), $compileNode.empty(), compile($template, transcludeFn))), directive.template)
                            if (hasTemplate = !0, assertNoDuplicate("template", templateDirective, directive, $compileNode), directiveValue = isFunction((templateDirective = directive).template) ? directive.template($compileNode, templateAttrs) : directive.template, directiveValue = denormalizeTemplate(directiveValue), directive.replace) {
                                if (replaceDirective = directive, $template = jqLiteIsTextNode(directiveValue) ? [] : removeComments(wrapTemplate(directive.templateNamespace, trim(directiveValue))), compileNode = $template[0], 1 != $template.length || compileNode.nodeType !== NODE_TYPE_ELEMENT) throw $compileMinErr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", directiveName, "");
                                replaceWith(jqCollection, $compileNode, compileNode);
                                var newTemplateAttrs = {
                                        $attr: {}
                                    },
                                    templateDirectives = collectDirectives(compileNode, [], newTemplateAttrs),
                                    unprocessedDirectives = directives.splice(i + 1, directives.length - (i + 1));
                                newIsolateScopeDirective && markDirectivesAsIsolate(templateDirectives), directives = directives.concat(templateDirectives).concat(unprocessedDirectives), mergeTemplateAttributes(templateAttrs, newTemplateAttrs), ii = directives.length
                            } else $compileNode.html(directiveValue);
                        if (directive.templateUrl) hasTemplate = !0, assertNoDuplicate("template", templateDirective, directive, $compileNode), (templateDirective = directive).replace && (replaceDirective = directive), nodeLinkFn = compileTemplateUrl(directives.splice(i, directives.length - i), $compileNode, templateAttrs, jqCollection, hasTranscludeDirective && childTranscludeFn, preLinkFns, postLinkFns, {
                            controllerDirectives: controllerDirectives,
                            newIsolateScopeDirective: newIsolateScopeDirective,
                            templateDirective: templateDirective,
                            nonTlbTranscludeDirective: nonTlbTranscludeDirective
                        }), ii = directives.length;
                        else if (directive.compile) try {
                            isFunction(linkFn = directive.compile($compileNode, templateAttrs, childTranscludeFn)) ? addLinkFns(null, linkFn, attrStart, attrEnd) : linkFn && addLinkFns(linkFn.pre, linkFn.post, attrStart, attrEnd)
                        } catch (e) {
                            $exceptionHandler(e, startingTag($compileNode))
                        }
                        directive.terminal && (nodeLinkFn.terminal = !0, terminalPriority = Math.max(terminalPriority, directive.priority))
                    }
                    return nodeLinkFn.scope = newScopeDirective && !0 === newScopeDirective.scope, nodeLinkFn.transcludeOnThisElement = hasTranscludeDirective, nodeLinkFn.elementTranscludeOnThisElement = hasElementTranscludeDirective, nodeLinkFn.templateOnThisElement = hasTemplate, nodeLinkFn.transclude = childTranscludeFn, previousCompileContext.hasElementTranscludeDirective = hasElementTranscludeDirective, nodeLinkFn;

                    function addLinkFns(pre, post, attrStart, attrEnd) {
                        pre && (attrStart && (pre = groupElementsLinkFnWrapper(pre, attrStart, attrEnd)), pre.require = directive.require, pre.directiveName = directiveName, newIsolateScopeDirective !== directive && !directive.$$isolateScope || (pre = cloneAndAnnotateFn(pre, {
                            isolateScope: !0
                        })), preLinkFns.push(pre)), post && (attrStart && (post = groupElementsLinkFnWrapper(post, attrStart, attrEnd)), post.require = directive.require, post.directiveName = directiveName, newIsolateScopeDirective !== directive && !directive.$$isolateScope || (post = cloneAndAnnotateFn(post, {
                            isolateScope: !0
                        })), postLinkFns.push(post))
                    }

                    function getControllers(directiveName, require, $element, elementControllers) {
                        var value;
                        if (isString(require)) {
                            var match = require.match(REQUIRE_PREFIX_REGEXP),
                                name = require.substring(match[0].length),
                                inheritType = match[1] || match[3],
                                optional = "?" === match[2];
                            if ("^^" === inheritType ? $element = $element.parent() : value = (value = elementControllers && elementControllers[name]) && value.instance, !value) {
                                var dataName = "$" + name + "Controller";
                                value = inheritType ? $element.inheritedData(dataName) : $element.data(dataName)
                            }
                            if (!value && !optional) throw $compileMinErr("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", name, directiveName)
                        } else if (isArray(require)) {
                            value = [];
                            for (var i = 0, ii = require.length; i < ii; i++) value[i] = getControllers(directiveName, require[i], $element, elementControllers)
                        }
                        return value || null
                    }

                    function nodeLinkFn(childLinkFn, scope, linkNode, $rootElement, boundTranscludeFn, thisLinkFn) {
                        var i, ii, linkFn, controller, isolateScope, elementControllers, transcludeFn, $element, attrs;
                        if (compileNode === linkNode ? $element = (attrs = templateAttrs).$$element : ($element = jqLite(linkNode), attrs = new Attributes($element, templateAttrs)), newIsolateScopeDirective && (isolateScope = scope.$new(!0)), boundTranscludeFn && ((transcludeFn = function(scope, cloneAttachFn, futureParentElement) {
                                var transcludeControllers;
                                isScope(scope) || (futureParentElement = cloneAttachFn, cloneAttachFn = scope, scope = undefined);
                                hasElementTranscludeDirective && (transcludeControllers = elementControllers);
                                futureParentElement || (futureParentElement = hasElementTranscludeDirective ? $element.parent() : $element);
                                return boundTranscludeFn(scope, cloneAttachFn, transcludeControllers, futureParentElement, scopeToChild)
                            }).$$boundTransclude = boundTranscludeFn), controllerDirectives && (elementControllers = function($element, attrs, transcludeFn, controllerDirectives, isolateScope, scope) {
                                var elementControllers = createMap();
                                for (var controllerKey in controllerDirectives) {
                                    var directive = controllerDirectives[controllerKey],
                                        locals = {
                                            $scope: directive === newIsolateScopeDirective || directive.$$isolateScope ? isolateScope : scope,
                                            $element: $element,
                                            $attrs: attrs,
                                            $transclude: transcludeFn
                                        },
                                        controller = directive.controller;
                                    "@" == controller && (controller = attrs[directive.name]);
                                    var controllerInstance = $controller(controller, locals, !0, directive.controllerAs);
                                    elementControllers[directive.name] = controllerInstance, hasElementTranscludeDirective || $element.data("$" + directive.name + "Controller", controllerInstance.instance)
                                }
                                return elementControllers
                            }($element, attrs, transcludeFn, controllerDirectives, isolateScope, scope)), newIsolateScopeDirective && (compile.$$addScopeInfo($element, isolateScope, !0, !(templateDirective && (templateDirective === newIsolateScopeDirective || templateDirective === newIsolateScopeDirective.$$originalDirective))), compile.$$addScopeClass($element, !0), isolateScope.$$isolateBindings = newIsolateScopeDirective.$$isolateBindings, initializeDirectiveBindings(scope, attrs, isolateScope, isolateScope.$$isolateBindings, newIsolateScopeDirective, isolateScope)), elementControllers) {
                            var bindings, controllerForBindings, scopeDirective = newIsolateScopeDirective || newScopeDirective;
                            for (i in scopeDirective && elementControllers[scopeDirective.name] && (bindings = scopeDirective.$$bindings.bindToController, (controller = elementControllers[scopeDirective.name]) && controller.identifier && bindings && (controllerForBindings = controller, thisLinkFn.$$destroyBindings = initializeDirectiveBindings(scope, attrs, controller.instance, bindings, scopeDirective))), elementControllers) {
                                var controllerResult = (controller = elementControllers[i])();
                                controllerResult !== controller.instance && controller === controllerForBindings && (thisLinkFn.$$destroyBindings(), thisLinkFn.$$destroyBindings = initializeDirectiveBindings(scope, attrs, controllerResult, bindings, scopeDirective))
                            }
                        }
                        for (i = 0, ii = preLinkFns.length; i < ii; i++) invokeLinkFn(linkFn = preLinkFns[i], linkFn.isolateScope ? isolateScope : scope, $element, attrs, linkFn.require && getControllers(linkFn.directiveName, linkFn.require, $element, elementControllers), transcludeFn);
                        var scopeToChild = scope;
                        for (newIsolateScopeDirective && (newIsolateScopeDirective.template || null === newIsolateScopeDirective.templateUrl) && (scopeToChild = isolateScope), childLinkFn && childLinkFn(scopeToChild, linkNode.childNodes, undefined, boundTranscludeFn), i = postLinkFns.length - 1; 0 <= i; i--) invokeLinkFn(linkFn = postLinkFns[i], linkFn.isolateScope ? isolateScope : scope, $element, attrs, linkFn.require && getControllers(linkFn.directiveName, linkFn.require, $element, elementControllers), transcludeFn)
                    }
                }

                function markDirectivesAsIsolate(directives) {
                    for (var j = 0, jj = directives.length; j < jj; j++) directives[j] = inherit(directives[j], {
                        $$isolateScope: !0
                    })
                }

                function addDirective(tDirectives, name, location, maxPriority, ignoreDirective, startAttrName, endAttrName) {
                    if (name === ignoreDirective) return null;
                    var match = null;
                    if (hasDirectives.hasOwnProperty(name))
                        for (var directive, directives = $injector.get(name + "Directive"), i = 0, ii = directives.length; i < ii; i++) try {
                            directive = directives[i], (maxPriority === undefined || maxPriority > directive.priority) && -1 != directive.restrict.indexOf(location) && (startAttrName && (directive = inherit(directive, {
                                $$start: startAttrName,
                                $$end: endAttrName
                            })), tDirectives.push(directive), match = directive)
                        } catch (e) {
                            $exceptionHandler(e)
                        }
                    return match
                }

                function directiveIsMultiElement(name) {
                    if (hasDirectives.hasOwnProperty(name))
                        for (var directives = $injector.get(name + "Directive"), i = 0, ii = directives.length; i < ii; i++)
                            if (directives[i].multiElement) return !0;
                    return !1
                }

                function mergeTemplateAttributes(dst, src) {
                    var srcAttr = src.$attr,
                        dstAttr = dst.$attr,
                        $element = dst.$$element;
                    forEach(dst, function(value, key) {
                        "$" != key.charAt(0) && (src[key] && src[key] !== value && (value += ("style" === key ? ";" : " ") + src[key]), dst.$set(key, value, !0, srcAttr[key]))
                    }), forEach(src, function(value, key) {
                        "class" == key ? (safeAddClass($element, value), dst.class = (dst.class ? dst.class + " " : "") + value) : "style" == key ? ($element.attr("style", $element.attr("style") + ";" + value), dst.style = (dst.style ? dst.style + ";" : "") + value) : "$" == key.charAt(0) || dst.hasOwnProperty(key) || (dst[key] = value, dstAttr[key] = srcAttr[key])
                    })
                }

                function compileTemplateUrl(directives, $compileNode, tAttrs, $rootElement, childTranscludeFn, preLinkFns, postLinkFns, previousCompileContext) {
                    var afterTemplateNodeLinkFn, afterTemplateChildLinkFn, linkQueue = [],
                        beforeTemplateCompileNode = $compileNode[0],
                        origAsyncDirective = directives.shift(),
                        derivedSyncDirective = inherit(origAsyncDirective, {
                            templateUrl: null,
                            transclude: null,
                            replace: null,
                            $$originalDirective: origAsyncDirective
                        }),
                        templateUrl = isFunction(origAsyncDirective.templateUrl) ? origAsyncDirective.templateUrl($compileNode, tAttrs) : origAsyncDirective.templateUrl,
                        templateNamespace = origAsyncDirective.templateNamespace;
                    return $compileNode.empty(), $templateRequest($sce.getTrustedResourceUrl(templateUrl)).then(function(content) {
                            var compileNode, tempTemplateAttrs, $template, childBoundTranscludeFn;
                            if (content = denormalizeTemplate(content), origAsyncDirective.replace) {
                                if ($template = jqLiteIsTextNode(content) ? [] : removeComments(wrapTemplate(templateNamespace, trim(content))), compileNode = $template[0], 1 != $template.length || compileNode.nodeType !== NODE_TYPE_ELEMENT) throw $compileMinErr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", origAsyncDirective.name, templateUrl);
                                tempTemplateAttrs = {
                                    $attr: {}
                                }, replaceWith($rootElement, $compileNode, compileNode);
                                var templateDirectives = collectDirectives(compileNode, [], tempTemplateAttrs);
                                isObject(origAsyncDirective.scope) && markDirectivesAsIsolate(templateDirectives), directives = templateDirectives.concat(directives), mergeTemplateAttributes(tAttrs, tempTemplateAttrs)
                            } else compileNode = beforeTemplateCompileNode, $compileNode.html(content);
                            for (directives.unshift(derivedSyncDirective), afterTemplateNodeLinkFn = applyDirectivesToNode(directives, compileNode, tAttrs, childTranscludeFn, $compileNode, origAsyncDirective, preLinkFns, postLinkFns, previousCompileContext), forEach($rootElement, function(node, i) {
                                    node == compileNode && ($rootElement[i] = $compileNode[0])
                                }), afterTemplateChildLinkFn = compileNodes($compileNode[0].childNodes, childTranscludeFn); linkQueue.length;) {
                                var scope = linkQueue.shift(),
                                    beforeTemplateLinkNode = linkQueue.shift(),
                                    linkRootElement = linkQueue.shift(),
                                    boundTranscludeFn = linkQueue.shift(),
                                    linkNode = $compileNode[0];
                                if (!scope.$$destroyed) {
                                    if (beforeTemplateLinkNode !== beforeTemplateCompileNode) {
                                        var oldClasses = beforeTemplateLinkNode.className;
                                        previousCompileContext.hasElementTranscludeDirective && origAsyncDirective.replace || (linkNode = jqLiteClone(compileNode)), replaceWith(linkRootElement, jqLite(beforeTemplateLinkNode), linkNode), safeAddClass(jqLite(linkNode), oldClasses)
                                    }
                                    childBoundTranscludeFn = afterTemplateNodeLinkFn.transcludeOnThisElement ? createBoundTranscludeFn(scope, afterTemplateNodeLinkFn.transclude, boundTranscludeFn) : boundTranscludeFn, afterTemplateNodeLinkFn(afterTemplateChildLinkFn, scope, linkNode, $rootElement, childBoundTranscludeFn, afterTemplateNodeLinkFn)
                                }
                            }
                            linkQueue = null
                        }),
                        function(ignoreChildLinkFn, scope, node, rootElement, boundTranscludeFn) {
                            var childBoundTranscludeFn = boundTranscludeFn;
                            scope.$$destroyed || (linkQueue ? linkQueue.push(scope, node, rootElement, childBoundTranscludeFn) : (afterTemplateNodeLinkFn.transcludeOnThisElement && (childBoundTranscludeFn = createBoundTranscludeFn(scope, afterTemplateNodeLinkFn.transclude, boundTranscludeFn)), afterTemplateNodeLinkFn(afterTemplateChildLinkFn, scope, node, rootElement, childBoundTranscludeFn, afterTemplateNodeLinkFn)))
                        }
                }

                function byPriority(a, b) {
                    var diff = b.priority - a.priority;
                    return 0 != diff ? diff : a.name !== b.name ? a.name < b.name ? -1 : 1 : a.index - b.index
                }

                function assertNoDuplicate(what, previousDirective, directive, element) {
                    if (previousDirective) throw $compileMinErr("multidir", "Multiple directives [{0}, {1}] asking for {2} on: {3}", previousDirective.name, directive.name, what, startingTag(element))
                }

                function wrapTemplate(type, template) {
                    switch (type = lowercase(type || "html")) {
                        case "svg":
                        case "math":
                            var wrapper = document.createElement("div");
                            return wrapper.innerHTML = "<" + type + ">" + template + "</" + type + ">", wrapper.childNodes[0].childNodes;
                        default:
                            return template
                    }
                }

                function addAttrInterpolateDirective(node, directives, value, name, allOrNothing) {
                    var trustedContext = function(node, attrNormalizedName) {
                        if ("srcdoc" == attrNormalizedName) return $sce.HTML;
                        var tag = nodeName_(node);
                        return "xlinkHref" == attrNormalizedName || "form" == tag && "action" == attrNormalizedName || "img" != tag && ("src" == attrNormalizedName || "ngSrc" == attrNormalizedName) ? $sce.RESOURCE_URL : void 0
                    }(node, name);
                    allOrNothing = ALL_OR_NOTHING_ATTRS[name] || allOrNothing;
                    var interpolateFn = $interpolate(value, !0, trustedContext, allOrNothing);
                    if (interpolateFn) {
                        if ("multiple" === name && "select" === nodeName_(node)) throw $compileMinErr("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", startingTag(node));
                        directives.push({
                            priority: 100,
                            compile: function() {
                                return {
                                    pre: function(scope, element, attr) {
                                        var $$observers = attr.$$observers || (attr.$$observers = {});
                                        if (EVENT_HANDLER_ATTR_REGEXP.test(name)) throw $compileMinErr("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
                                        var newValue = attr[name];
                                        newValue !== value && (interpolateFn = newValue && $interpolate(newValue, !0, trustedContext, allOrNothing), value = newValue), interpolateFn && (attr[name] = interpolateFn(scope), ($$observers[name] || ($$observers[name] = [])).$$inter = !0, (attr.$$observers && attr.$$observers[name].$$scope || scope).$watch(interpolateFn, function(newValue, oldValue) {
                                            "class" === name && newValue != oldValue ? attr.$updateClass(newValue, oldValue) : attr.$set(name, newValue)
                                        }))
                                    }
                                }
                            }
                        })
                    }
                }

                function replaceWith($rootElement, elementsToRemove, newNode) {
                    var i, ii, firstElementToRemove = elementsToRemove[0],
                        removeCount = elementsToRemove.length,
                        parent = firstElementToRemove.parentNode;
                    if ($rootElement)
                        for (i = 0, ii = $rootElement.length; i < ii; i++)
                            if ($rootElement[i] == firstElementToRemove) {
                                $rootElement[i++] = newNode;
                                for (var j = i, j2 = j + removeCount - 1, jj = $rootElement.length; j < jj; j++, j2++) j2 < jj ? $rootElement[j] = $rootElement[j2] : delete $rootElement[j];
                                $rootElement.length -= removeCount - 1, $rootElement.context === firstElementToRemove && ($rootElement.context = newNode);
                                break
                            } parent && parent.replaceChild(newNode, firstElementToRemove);
                    var fragment = document.createDocumentFragment();
                    fragment.appendChild(firstElementToRemove), jqLite(newNode).data(jqLite(firstElementToRemove).data()), jQuery ? (skipDestroyOnNextJQueryCleanData = !0, jQuery.cleanData([firstElementToRemove])) : delete jqLite.cache[firstElementToRemove[jqLite.expando]];
                    for (var k = 1, kk = elementsToRemove.length; k < kk; k++) {
                        var element = elementsToRemove[k];
                        jqLite(element).remove(), fragment.appendChild(element), delete elementsToRemove[k]
                    }
                    elementsToRemove[0] = newNode, elementsToRemove.length = 1
                }

                function cloneAndAnnotateFn(fn, annotation) {
                    return extend(function() {
                        return fn.apply(null, arguments)
                    }, fn, annotation)
                }

                function invokeLinkFn(linkFn, scope, $element, attrs, controllers, transcludeFn) {
                    try {
                        linkFn(scope, $element, attrs, controllers, transcludeFn)
                    } catch (e) {
                        $exceptionHandler(e, startingTag($element))
                    }
                }

                function initializeDirectiveBindings(scope, attrs, destination, bindings, directive, newScope) {
                    var onNewScopeDestroyed;
                    forEach(bindings, function(definition, scopeName) {
                        var lastValue, parentGet, parentSet, compare, attrName = definition.attrName,
                            optional = definition.optional;
                        switch (definition.mode) {
                            case "@":
                                attrs.$observe(attrName, function(value) {
                                    destination[scopeName] = value
                                }), attrs.$$observers[attrName].$$scope = scope, attrs[attrName] && (destination[scopeName] = $interpolate(attrs[attrName])(scope));
                                break;
                            case "=":
                                if (optional && !attrs[attrName]) return;
                                parentGet = $parse(attrs[attrName]), compare = parentGet.literal ? equals : function(a, b) {
                                    return a === b || a != a && b != b
                                }, parentSet = parentGet.assign || function() {
                                    throw lastValue = destination[scopeName] = parentGet(scope), $compileMinErr("nonassign", "Expression '{0}' used with directive '{1}' is non-assignable!", attrs[attrName], directive.name)
                                }, lastValue = destination[scopeName] = parentGet(scope);
                                var unwatch, parentValueWatch = function(parentValue) {
                                    return compare(parentValue, destination[scopeName]) || (compare(parentValue, lastValue) ? parentSet(scope, parentValue = destination[scopeName]) : destination[scopeName] = parentValue), lastValue = parentValue
                                };
                                parentValueWatch.$stateful = !0, unwatch = definition.collection ? scope.$watchCollection(attrs[attrName], parentValueWatch) : scope.$watch($parse(attrs[attrName], parentValueWatch), null, parentGet.literal), (onNewScopeDestroyed = onNewScopeDestroyed || []).push(unwatch);
                                break;
                            case "&":
                                if (!attrs.hasOwnProperty(attrName) && optional) break;
                                if ((parentGet = $parse(attrs[attrName])) === noop && optional) break;
                                destination[scopeName] = function(locals) {
                                    return parentGet(scope, locals)
                                }
                        }
                    });
                    var destroyBindings = onNewScopeDestroyed ? function() {
                        for (var i = 0, ii = onNewScopeDestroyed.length; i < ii; ++i) onNewScopeDestroyed[i]()
                    } : noop;
                    return newScope && destroyBindings !== noop ? (newScope.$on("$destroy", destroyBindings), noop) : destroyBindings
                }
            }]
        }
        $CompileProvider.$inject = ["$provide", "$$sanitizeUriProvider"];
        var PREFIX_REGEXP = /^((?:x|data)[\:\-_])/i;

        function directiveNormalize(name) {
            return camelCase(name.replace(PREFIX_REGEXP, ""))
        }

        function tokenDifference(str1, str2) {
            var values = "",
                tokens1 = str1.split(/\s+/),
                tokens2 = str2.split(/\s+/);
            outer: for (var i = 0; i < tokens1.length; i++) {
                for (var token = tokens1[i], j = 0; j < tokens2.length; j++)
                    if (token == tokens2[j]) continue outer;
                values += (0 < values.length ? " " : "") + token
            }
            return values
        }

        function removeComments(jqNodes) {
            var i = (jqNodes = jqLite(jqNodes)).length;
            if (i <= 1) return jqNodes;
            for (; i--;) {
                jqNodes[i].nodeType === NODE_TYPE_COMMENT && splice.call(jqNodes, i, 1)
            }
            return jqNodes
        }
        var $controllerMinErr = minErr("$controller"),
            CNTRL_REG = /^(\S+)(\s+as\s+(\w+))?$/;

        function $ControllerProvider() {
            var controllers = {},
                globals = !1;
            this.register = function(name, constructor) {
                assertNotHasOwnProperty(name, "controller"), isObject(name) ? extend(controllers, name) : controllers[name] = constructor
            }, this.allowGlobals = function() {
                globals = !0
            }, this.$get = ["$injector", "$window", function($injector, $window) {
                return function(expression, locals, later, ident) {
                    var instance, match, constructor, identifier;
                    if (later = !0 === later, ident && isString(ident) && (identifier = ident), isString(expression)) {
                        if (!(match = expression.match(CNTRL_REG))) throw $controllerMinErr("ctrlfmt", "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.", expression);
                        constructor = match[1], identifier = identifier || match[3], assertArgFn(expression = controllers.hasOwnProperty(constructor) ? controllers[constructor] : getter(locals.$scope, constructor, !0) || (globals ? getter($window, constructor, !0) : undefined), constructor, !0)
                    }
                    if (later) {
                        var controllerPrototype = (isArray(expression) ? expression[expression.length - 1] : expression).prototype;
                        return instance = Object.create(controllerPrototype || null), identifier && addIdentifier(locals, identifier, instance, constructor || expression.name), extend(function() {
                            var result = $injector.invoke(expression, instance, locals, constructor);
                            return result !== instance && (isObject(result) || isFunction(result)) && (instance = result, identifier && addIdentifier(locals, identifier, instance, constructor || expression.name)), instance
                        }, {
                            instance: instance,
                            identifier: identifier
                        })
                    }
                    return instance = $injector.instantiate(expression, locals, constructor), identifier && addIdentifier(locals, identifier, instance, constructor || expression.name), instance
                };

                function addIdentifier(locals, identifier, instance, name) {
                    if (!locals || !isObject(locals.$scope)) throw minErr("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", name, identifier);
                    locals.$scope[identifier] = instance
                }
            }]
        }

        function $DocumentProvider() {
            this.$get = ["$window", function(window) {
                return jqLite(window.document)
            }]
        }

        function $ExceptionHandlerProvider() {
            this.$get = ["$log", function($log) {
                return function(exception, cause) {
                    $log.error.apply($log, arguments)
                }
            }]
        }
        var APPLICATION_JSON = "application/json",
            CONTENT_TYPE_APPLICATION_JSON = {
                "Content-Type": APPLICATION_JSON + ";charset=utf-8"
            },
            JSON_START = /^\[|^\{(?!\{)/,
            JSON_ENDS = {
                "[": /]$/,
                "{": /}$/
            },
            JSON_PROTECTION_PREFIX = /^\)\]\}',?\n/;

        function defaultHttpResponseTransform(data, headers) {
            if (isString(data)) {
                var tempData = data.replace(JSON_PROTECTION_PREFIX, "").trim();
                if (tempData) {
                    var contentType = headers("Content-Type");
                    (contentType && 0 === contentType.indexOf(APPLICATION_JSON) || function(str) {
                        var jsonStart = str.match(JSON_START);
                        return jsonStart && JSON_ENDS[jsonStart[0]].test(str)
                    }(tempData)) && (data = fromJson(tempData))
                }
            }
            return data
        }

        function parseHeaders(headers) {
            var i, parsed = createMap();

            function fillInParsed(key, val) {
                key && (parsed[key] = parsed[key] ? parsed[key] + ", " + val : val)
            }
            return isString(headers) ? forEach(headers.split("\n"), function(line) {
                i = line.indexOf(":"), fillInParsed(lowercase(trim(line.substr(0, i))), trim(line.substr(i + 1)))
            }) : isObject(headers) && forEach(headers, function(headerVal, headerKey) {
                fillInParsed(lowercase(headerKey), trim(headerVal))
            }), parsed
        }

        function headersGetter(headers) {
            var headersObj;
            return function(name) {
                if (headersObj || (headersObj = parseHeaders(headers)), name) {
                    var value = headersObj[lowercase(name)];
                    return void 0 === value && (value = null), value
                }
                return headersObj
            }
        }

        function transformData(data, headers, status, fns) {
            return isFunction(fns) ? fns(data, headers, status) : (forEach(fns, function(fn) {
                data = fn(data, headers, status)
            }), data)
        }

        function isSuccess(status) {
            return 200 <= status && status < 300
        }

        function $HttpProvider() {
            var defaults = this.defaults = {
                    transformResponse: [defaultHttpResponseTransform],
                    transformRequest: [function(d) {
                        return !isObject(d) || function(obj) {
                            return "[object File]" === toString.call(obj)
                        }(d) || function(obj) {
                            return "[object Blob]" === toString.call(obj)
                        }(d) || function(obj) {
                            return "[object FormData]" === toString.call(obj)
                        }(d) ? d : toJson(d)
                    }],
                    headers: {
                        common: {
                            Accept: "application/json, text/plain, */*"
                        },
                        post: shallowCopy(CONTENT_TYPE_APPLICATION_JSON),
                        put: shallowCopy(CONTENT_TYPE_APPLICATION_JSON),
                        patch: shallowCopy(CONTENT_TYPE_APPLICATION_JSON)
                    },
                    xsrfCookieName: "XSRF-TOKEN",
                    xsrfHeaderName: "X-XSRF-TOKEN"
                },
                useApplyAsync = !1;
            this.useApplyAsync = function(value) {
                return isDefined(value) ? (useApplyAsync = !!value, this) : useApplyAsync
            };
            var interceptorFactories = this.interceptors = [];
            this.$get = ["$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", function($httpBackend, $$cookieReader, $cacheFactory, $rootScope, $q, $injector) {
                var defaultCache = $cacheFactory("$http"),
                    reversedInterceptors = [];

                function $http(requestConfig) {
                    if (!angular.isObject(requestConfig)) throw minErr("$http")("badreq", "Http request configuration must be an object.  Received: {0}", requestConfig);
                    var config = extend({
                        method: "get",
                        transformRequest: defaults.transformRequest,
                        transformResponse: defaults.transformResponse
                    }, requestConfig);
                    config.headers = function(config) {
                        var defHeaderName, lowercaseDefHeaderName, reqHeaderName, defHeaders = defaults.headers,
                            reqHeaders = extend({}, config.headers);
                        defHeaders = extend({}, defHeaders.common, defHeaders[lowercase(config.method)]);
                        defaultHeadersIteration: for (defHeaderName in defHeaders) {
                            for (reqHeaderName in lowercaseDefHeaderName = lowercase(defHeaderName), reqHeaders)
                                if (lowercase(reqHeaderName) === lowercaseDefHeaderName) continue defaultHeadersIteration;
                            reqHeaders[defHeaderName] = defHeaders[defHeaderName]
                        }
                        return function(headers, config) {
                            var headerContent, processedHeaders = {};
                            return forEach(headers, function(headerFn, header) {
                                isFunction(headerFn) ? null != (headerContent = headerFn(config)) && (processedHeaders[header] = headerContent) : processedHeaders[header] = headerFn
                            }), processedHeaders
                        }(reqHeaders, shallowCopy(config))
                    }(requestConfig), config.method = uppercase(config.method);
                    var chain = [function(config) {
                            var headers = config.headers,
                                reqData = transformData(config.data, headersGetter(headers), undefined, config.transformRequest);
                            return isUndefined(reqData) && forEach(headers, function(value, header) {
                                    "content-type" === lowercase(header) && delete headers[header]
                                }), isUndefined(config.withCredentials) && !isUndefined(defaults.withCredentials) && (config.withCredentials = defaults.withCredentials),
                                function(config, reqData) {
                                    var cache, cachedResp, deferred = $q.defer(),
                                        promise = deferred.promise,
                                        reqHeaders = config.headers,
                                        url = function(url, params) {
                                            if (!params) return url;
                                            var parts = [];
                                            return function(obj, iterator, context) {
                                                for (var keys = Object.keys(obj).sort(), i = 0; i < keys.length; i++) iterator.call(context, obj[keys[i]], keys[i])
                                            }(params, function(value, key) {
                                                null === value || isUndefined(value) || (isArray(value) || (value = [value]), forEach(value, function(v) {
                                                    isObject(v) && (v = isDate(v) ? v.toISOString() : toJson(v)), parts.push(encodeUriQuery(key) + "=" + encodeUriQuery(v))
                                                }))
                                            }), 0 < parts.length && (url += (-1 == url.indexOf("?") ? "?" : "&") + parts.join("&")), url
                                        }(config.url, config.params);
                                    if ($http.pendingRequests.push(config), promise.then(removePendingReq, removePendingReq), !config.cache && !defaults.cache || !1 === config.cache || "GET" !== config.method && "JSONP" !== config.method || (cache = isObject(config.cache) ? config.cache : isObject(defaults.cache) ? defaults.cache : defaultCache), cache && (isDefined(cachedResp = cache.get(url)) ? isPromiseLike(cachedResp) ? cachedResp.then(resolvePromiseWithResult, resolvePromiseWithResult) : isArray(cachedResp) ? resolvePromise(cachedResp[1], cachedResp[0], shallowCopy(cachedResp[2]), cachedResp[3]) : resolvePromise(cachedResp, 200, {}, "OK") : cache.put(url, promise)), isUndefined(cachedResp)) {
                                        var xsrfValue = urlIsSameOrigin(config.url) ? $$cookieReader()[config.xsrfCookieName || defaults.xsrfCookieName] : undefined;
                                        xsrfValue && (reqHeaders[config.xsrfHeaderName || defaults.xsrfHeaderName] = xsrfValue), $httpBackend(config.method, url, reqData, function(status, response, headersString, statusText) {
                                            function resolveHttpPromise() {
                                                resolvePromise(response, status, headersString, statusText)
                                            }
                                            cache && (isSuccess(status) ? cache.put(url, [status, response, parseHeaders(headersString), statusText]) : cache.remove(url)), useApplyAsync ? $rootScope.$applyAsync(resolveHttpPromise) : (resolveHttpPromise(), $rootScope.$$phase || $rootScope.$apply())
                                        }, reqHeaders, config.timeout, config.withCredentials, config.responseType)
                                    }
                                    return promise;

                                    function resolvePromise(response, status, headers, statusText) {
                                        (isSuccess(status = Math.max(status, 0)) ? deferred.resolve : deferred.reject)({
                                            data: response,
                                            status: status,
                                            headers: headersGetter(headers),
                                            config: config,
                                            statusText: statusText
                                        })
                                    }

                                    function resolvePromiseWithResult(result) {
                                        resolvePromise(result.data, result.status, shallowCopy(result.headers()), result.statusText)
                                    }

                                    function removePendingReq() {
                                        var idx = $http.pendingRequests.indexOf(config); - 1 !== idx && $http.pendingRequests.splice(idx, 1)
                                    }
                                }(config, reqData).then(transformResponse, transformResponse)
                        }, undefined],
                        promise = $q.when(config);
                    for (forEach(reversedInterceptors, function(interceptor) {
                            (interceptor.request || interceptor.requestError) && chain.unshift(interceptor.request, interceptor.requestError), (interceptor.response || interceptor.responseError) && chain.push(interceptor.response, interceptor.responseError)
                        }); chain.length;) {
                        var thenFn = chain.shift(),
                            rejectFn = chain.shift();
                        promise = promise.then(thenFn, rejectFn)
                    }
                    return promise.success = function(fn) {
                        return promise.then(function(response) {
                            fn(response.data, response.status, response.headers, config)
                        }), promise
                    }, promise.error = function(fn) {
                        return promise.then(null, function(response) {
                            fn(response.data, response.status, response.headers, config)
                        }), promise
                    }, promise;

                    function transformResponse(response) {
                        var resp = extend({}, response);
                        return response.data ? resp.data = transformData(response.data, response.headers, response.status, config.transformResponse) : resp.data = response.data, isSuccess(response.status) ? resp : $q.reject(resp)
                    }
                }
                return forEach(interceptorFactories, function(interceptorFactory) {
                        reversedInterceptors.unshift(isString(interceptorFactory) ? $injector.get(interceptorFactory) : $injector.invoke(interceptorFactory))
                    }), $http.pendingRequests = [],
                    function(names) {
                        forEach(arguments, function(name) {
                            $http[name] = function(url, config) {
                                return $http(extend(config || {}, {
                                    method: name,
                                    url: url
                                }))
                            }
                        })
                    }("get", "delete", "head", "jsonp"),
                    function(name) {
                        forEach(arguments, function(name) {
                            $http[name] = function(url, data, config) {
                                return $http(extend(config || {}, {
                                    method: name,
                                    url: url,
                                    data: data
                                }))
                            }
                        })
                    }("post", "put", "patch"), $http.defaults = defaults, $http
            }]
        }

        function createXhr() {
            return new window.XMLHttpRequest
        }

        function $HttpBackendProvider() {
            this.$get = ["$browser", "$window", "$document", function($browser, $window, $document) {
                return function($browser, createXhr, $browserDefer, callbacks, rawDocument) {
                    return function(method, url, post, callback, headers, timeout, withCredentials, responseType) {
                        if ($browser.$$incOutstandingRequestCount(), url = url || $browser.url(), "jsonp" == lowercase(method)) {
                            var callbackId = "_" + (callbacks.counter++).toString(36);
                            callbacks[callbackId] = function(data) {
                                callbacks[callbackId].data = data, callbacks[callbackId].called = !0
                            };
                            var jsonpDone = function(url, callbackId, done) {
                                var script = rawDocument.createElement("script"),
                                    callback = null;
                                return script.type = "text/javascript", script.src = url, script.async = !0, callback = function(event) {
                                    removeEventListenerFn(script, "load", callback), removeEventListenerFn(script, "error", callback), rawDocument.body.removeChild(script), script = null;
                                    var status = -1,
                                        text = "unknown";
                                    event && ("load" !== event.type || callbacks[callbackId].called || (event = {
                                        type: "error"
                                    }), text = event.type, status = "error" === event.type ? 404 : 200), done && done(status, text)
                                }, addEventListenerFn(script, "load", callback), addEventListenerFn(script, "error", callback), rawDocument.body.appendChild(script), callback
                            }(url.replace("JSON_CALLBACK", "angular.callbacks." + callbackId), callbackId, function(status, text) {
                                completeRequest(callback, status, callbacks[callbackId].data, "", text), callbacks[callbackId] = noop
                            })
                        } else {
                            var xhr = createXhr();
                            xhr.open(method, url, !0), forEach(headers, function(value, key) {
                                isDefined(value) && xhr.setRequestHeader(key, value)
                            }), xhr.onload = function() {
                                var statusText = xhr.statusText || "",
                                    response = "response" in xhr ? xhr.response : xhr.responseText,
                                    status = 1223 === xhr.status ? 204 : xhr.status;
                                0 === status && (status = response ? 200 : "file" == urlResolve(url).protocol ? 404 : 0), completeRequest(callback, status, response, xhr.getAllResponseHeaders(), statusText)
                            };
                            var requestError = function() {
                                completeRequest(callback, -1, null, null, "")
                            };
                            if (xhr.onerror = requestError, xhr.onabort = requestError, withCredentials && (xhr.withCredentials = !0), responseType) try {
                                xhr.responseType = responseType
                            } catch (e) {
                                if ("json" !== responseType) throw e
                            }
                            xhr.send(post || null)
                        }
                        if (0 < timeout) var timeoutId = $browserDefer(timeoutRequest, timeout);
                        else isPromiseLike(timeout) && timeout.then(timeoutRequest);

                        function timeoutRequest() {
                            jsonpDone && jsonpDone(), xhr && xhr.abort()
                        }

                        function completeRequest(callback, status, response, headersString, statusText) {
                            timeoutId !== undefined && $browserDefer.cancel(timeoutId), jsonpDone = xhr = null, callback(status, response, headersString, statusText), $browser.$$completeOutstandingRequest(noop)
                        }
                    }
                }($browser, createXhr, $browser.defer, $window.angular.callbacks, $document[0])
            }]
        }
        var $interpolateMinErr = minErr("$interpolate");

        function $InterpolateProvider() {
            var startSymbol = "{{",
                endSymbol = "}}";
            this.startSymbol = function(value) {
                return value ? (startSymbol = value, this) : startSymbol
            }, this.endSymbol = function(value) {
                return value ? (endSymbol = value, this) : endSymbol
            }, this.$get = ["$parse", "$exceptionHandler", "$sce", function($parse, $exceptionHandler, $sce) {
                var startSymbolLength = startSymbol.length,
                    endSymbolLength = endSymbol.length,
                    escapedStartRegexp = new RegExp(startSymbol.replace(/./g, escape), "g"),
                    escapedEndRegexp = new RegExp(endSymbol.replace(/./g, escape), "g");

                function escape(ch) {
                    return "\\\\\\" + ch
                }

                function unescapeText(text) {
                    return text.replace(escapedStartRegexp, startSymbol).replace(escapedEndRegexp, endSymbol)
                }

                function $interpolate(text, mustHaveExpression, trustedContext, allOrNothing) {
                    allOrNothing = !!allOrNothing;
                    for (var startIndex, endIndex, exp, index = 0, expressions = [], parseFns = [], textLength = text.length, concat = [], expressionPositions = []; index < textLength;) {
                        if (-1 == (startIndex = text.indexOf(startSymbol, index)) || -1 == (endIndex = text.indexOf(endSymbol, startIndex + startSymbolLength))) {
                            index !== textLength && concat.push(unescapeText(text.substring(index)));
                            break
                        }
                        index !== startIndex && concat.push(unescapeText(text.substring(index, startIndex))), exp = text.substring(startIndex + startSymbolLength, endIndex), expressions.push(exp), parseFns.push($parse(exp, parseStringifyInterceptor)), index = endIndex + endSymbolLength, expressionPositions.push(concat.length), concat.push("")
                    }
                    if (trustedContext && 1 < concat.length) throw $interpolateMinErr("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", text);
                    if (!mustHaveExpression || expressions.length) {
                        var compute = function(values) {
                                for (var i = 0, ii = expressions.length; i < ii; i++) {
                                    if (allOrNothing && isUndefined(values[i])) return;
                                    concat[expressionPositions[i]] = values[i]
                                }
                                return concat.join("")
                            },
                            getValue = function(value) {
                                return trustedContext ? $sce.getTrusted(trustedContext, value) : $sce.valueOf(value)
                            };
                        return extend(function(context) {
                            var i = 0,
                                ii = expressions.length,
                                values = new Array(ii);
                            try {
                                for (; i < ii; i++) values[i] = parseFns[i](context);
                                return compute(values)
                            } catch (err) {
                                var newErr = $interpolateMinErr("interr", "Can't interpolate: {0}\n{1}", text, err.toString());
                                $exceptionHandler(newErr)
                            }
                        }, {
                            exp: text,
                            expressions: expressions,
                            $$watchDelegate: function(scope, listener) {
                                var lastValue;
                                return scope.$watchGroup(parseFns, function(values, oldValues) {
                                    var currValue = compute(values);
                                    isFunction(listener) && listener.call(this, currValue, values !== oldValues ? lastValue : currValue, scope), lastValue = currValue
                                })
                            }
                        })
                    }

                    function parseStringifyInterceptor(value) {
                        try {
                            return value = getValue(value), allOrNothing && !isDefined(value) ? value : function(value) {
                                if (null == value) return "";
                                switch (typeof value) {
                                    case "string":
                                        break;
                                    case "number":
                                        value = "" + value;
                                        break;
                                    default:
                                        value = toJson(value)
                                }
                                return value
                            }(value)
                        } catch (err) {
                            var newErr = $interpolateMinErr("interr", "Can't interpolate: {0}\n{1}", text, err.toString());
                            $exceptionHandler(newErr)
                        }
                    }
                }
                return $interpolate.startSymbol = function() {
                    return startSymbol
                }, $interpolate.endSymbol = function() {
                    return endSymbol
                }, $interpolate
            }]
        }

        function $IntervalProvider() {
            this.$get = ["$rootScope", "$window", "$q", "$$q", function($rootScope, $window, $q, $$q) {
                var intervals = {};

                function interval(fn, delay, count, invokeApply) {
                    var hasParams = 4 < arguments.length,
                        args = hasParams ? sliceArgs(arguments, 4) : [],
                        setInterval = $window.setInterval,
                        clearInterval = $window.clearInterval,
                        iteration = 0,
                        skipApply = isDefined(invokeApply) && !invokeApply,
                        deferred = (skipApply ? $$q : $q).defer(),
                        promise = deferred.promise;
                    return count = isDefined(count) ? count : 0, promise.then(null, null, hasParams ? function() {
                        fn.apply(null, args)
                    } : fn), promise.$$intervalId = setInterval(function() {
                        deferred.notify(iteration++), 0 < count && count <= iteration && (deferred.resolve(iteration), clearInterval(promise.$$intervalId), delete intervals[promise.$$intervalId]), skipApply || $rootScope.$apply()
                    }, delay), intervals[promise.$$intervalId] = deferred, promise
                }
                return interval.cancel = function(promise) {
                    return !!(promise && promise.$$intervalId in intervals) && (intervals[promise.$$intervalId].reject("canceled"), $window.clearInterval(promise.$$intervalId), delete intervals[promise.$$intervalId], !0)
                }, interval
            }]
        }

        function $LocaleProvider() {
            this.$get = function() {
                return {
                    id: "en-us",
                    NUMBER_FORMATS: {
                        DECIMAL_SEP: ".",
                        GROUP_SEP: ",",
                        PATTERNS: [{
                            minInt: 1,
                            minFrac: 0,
                            maxFrac: 3,
                            posPre: "",
                            posSuf: "",
                            negPre: "-",
                            negSuf: "",
                            gSize: 3,
                            lgSize: 3
                        }, {
                            minInt: 1,
                            minFrac: 2,
                            maxFrac: 2,
                            posPre: "¤",
                            posSuf: "",
                            negPre: "(¤",
                            negSuf: ")",
                            gSize: 3,
                            lgSize: 3
                        }],
                        CURRENCY_SYM: "$"
                    },
                    DATETIME_FORMATS: {
                        MONTH: "January,February,March,April,May,June,July,August,September,October,November,December".split(","),
                        SHORTMONTH: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
                        DAY: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
                        SHORTDAY: "Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
                        AMPMS: ["AM", "PM"],
                        medium: "MMM d, y h:mm:ss a",
                        short: "M/d/yy h:mm a",
                        fullDate: "EEEE, MMMM d, y",
                        longDate: "MMMM d, y",
                        mediumDate: "MMM d, y",
                        shortDate: "M/d/yy",
                        mediumTime: "h:mm:ss a",
                        shortTime: "h:mm a",
                        ERANAMES: ["Before Christ", "Anno Domini"],
                        ERAS: ["BC", "AD"]
                    },
                    pluralCat: function(num) {
                        return 1 === num ? "one" : "other"
                    }
                }
            }
        }
        var PATH_MATCH = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/,
            DEFAULT_PORTS = {
                http: 80,
                https: 443,
                ftp: 21
            },
            $locationMinErr = minErr("$location");

        function encodePath(path) {
            for (var segments = path.split("/"), i = segments.length; i--;) segments[i] = encodeUriSegment(segments[i]);
            return segments.join("/")
        }

        function parseAbsoluteUrl(absoluteUrl, locationObj) {
            var parsedUrl = urlResolve(absoluteUrl);
            locationObj.$$protocol = parsedUrl.protocol, locationObj.$$host = parsedUrl.hostname, locationObj.$$port = toInt(parsedUrl.port) || DEFAULT_PORTS[parsedUrl.protocol] || null
        }

        function parseAppUrl(relativeUrl, locationObj) {
            var prefixed = "/" !== relativeUrl.charAt(0);
            prefixed && (relativeUrl = "/" + relativeUrl);
            var match = urlResolve(relativeUrl);
            locationObj.$$path = decodeURIComponent(prefixed && "/" === match.pathname.charAt(0) ? match.pathname.substring(1) : match.pathname), locationObj.$$search = parseKeyValue(match.search), locationObj.$$hash = decodeURIComponent(match.hash), locationObj.$$path && "/" != locationObj.$$path.charAt(0) && (locationObj.$$path = "/" + locationObj.$$path)
        }

        function beginsWith(begin, whole) {
            if (0 === whole.indexOf(begin)) return whole.substr(begin.length)
        }

        function stripHash(url) {
            var index = url.indexOf("#");
            return -1 == index ? url : url.substr(0, index)
        }

        function trimEmptyHash(url) {
            return url.replace(/(#.+)|#$/, "$1")
        }

        function stripFile(url) {
            return url.substr(0, stripHash(url).lastIndexOf("/") + 1)
        }

        function LocationHtml5Url(appBase, basePrefix) {
            this.$$html5 = !0, basePrefix = basePrefix || "";
            var appBaseNoFile = stripFile(appBase);
            parseAbsoluteUrl(appBase, this), this.$$parse = function(url) {
                var pathUrl = beginsWith(appBaseNoFile, url);
                if (!isString(pathUrl)) throw $locationMinErr("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', url, appBaseNoFile);
                parseAppUrl(pathUrl, this), this.$$path || (this.$$path = "/"), this.$$compose()
            }, this.$$compose = function() {
                var search = toKeyValue(this.$$search),
                    hash = this.$$hash ? "#" + encodeUriSegment(this.$$hash) : "";
                this.$$url = encodePath(this.$$path) + (search ? "?" + search : "") + hash, this.$$absUrl = appBaseNoFile + this.$$url.substr(1)
            }, this.$$parseLinkUrl = function(url, relHref) {
                return relHref && "#" === relHref[0] ? (this.hash(relHref.slice(1)), !0) : ((appUrl = beginsWith(appBase, url)) !== undefined ? rewrittenUrl = (appUrl = beginsWith(basePrefix, prevAppUrl = appUrl)) !== undefined ? appBaseNoFile + (beginsWith("/", appUrl) || appUrl) : appBase + prevAppUrl : (appUrl = beginsWith(appBaseNoFile, url)) !== undefined ? rewrittenUrl = appBaseNoFile + appUrl : appBaseNoFile == url + "/" && (rewrittenUrl = appBaseNoFile), rewrittenUrl && this.$$parse(rewrittenUrl), !!rewrittenUrl);
                var appUrl, prevAppUrl, rewrittenUrl
            }
        }

        function LocationHashbangUrl(appBase, hashPrefix) {
            var appBaseNoFile = stripFile(appBase);
            parseAbsoluteUrl(appBase, this), this.$$parse = function(url) {
                var withoutHashUrl, withoutBaseUrl = beginsWith(appBase, url) || beginsWith(appBaseNoFile, url);
                "#" === withoutBaseUrl.charAt(0) ? isUndefined(withoutHashUrl = beginsWith(hashPrefix, withoutBaseUrl)) && (withoutHashUrl = withoutBaseUrl) : withoutHashUrl = this.$$html5 ? withoutBaseUrl : "", parseAppUrl(withoutHashUrl, this), this.$$path = function(path, url, base) {
                    var firstPathSegmentMatch, windowsFilePathExp = /^\/[A-Z]:(\/.*)/;
                    0 === url.indexOf(base) && (url = url.replace(base, ""));
                    if (windowsFilePathExp.exec(url)) return path;
                    return (firstPathSegmentMatch = windowsFilePathExp.exec(path)) ? firstPathSegmentMatch[1] : path
                }(this.$$path, withoutHashUrl, appBase), this.$$compose()
            }, this.$$compose = function() {
                var search = toKeyValue(this.$$search),
                    hash = this.$$hash ? "#" + encodeUriSegment(this.$$hash) : "";
                this.$$url = encodePath(this.$$path) + (search ? "?" + search : "") + hash, this.$$absUrl = appBase + (this.$$url ? hashPrefix + this.$$url : "")
            }, this.$$parseLinkUrl = function(url, relHref) {
                return stripHash(appBase) == stripHash(url) && (this.$$parse(url), !0)
            }
        }

        function LocationHashbangInHtml5Url(appBase, hashPrefix) {
            this.$$html5 = !0, LocationHashbangUrl.apply(this, arguments);
            var appBaseNoFile = stripFile(appBase);
            this.$$parseLinkUrl = function(url, relHref) {
                return relHref && "#" === relHref[0] ? (this.hash(relHref.slice(1)), !0) : (appBase == stripHash(url) ? rewrittenUrl = url : (appUrl = beginsWith(appBaseNoFile, url)) ? rewrittenUrl = appBase + hashPrefix + appUrl : appBaseNoFile === url + "/" && (rewrittenUrl = appBaseNoFile), rewrittenUrl && this.$$parse(rewrittenUrl), !!rewrittenUrl);
                var rewrittenUrl, appUrl
            }, this.$$compose = function() {
                var search = toKeyValue(this.$$search),
                    hash = this.$$hash ? "#" + encodeUriSegment(this.$$hash) : "";
                this.$$url = encodePath(this.$$path) + (search ? "?" + search : "") + hash, this.$$absUrl = appBase + hashPrefix + this.$$url
            }
        }
        var locationPrototype = {
            $$html5: !1,
            $$replace: !1,
            absUrl: locationGetter("$$absUrl"),
            url: function(url) {
                if (isUndefined(url)) return this.$$url;
                var match = PATH_MATCH.exec(url);
                return !match[1] && "" !== url || this.path(decodeURIComponent(match[1])), (match[2] || match[1] || "" === url) && this.search(match[3] || ""), this.hash(match[5] || ""), this
            },
            protocol: locationGetter("$$protocol"),
            host: locationGetter("$$host"),
            port: locationGetter("$$port"),
            path: locationGetterSetter("$$path", function(path) {
                return "/" == (path = null !== path ? path.toString() : "").charAt(0) ? path : "/" + path
            }),
            search: function(search, paramValue) {
                switch (arguments.length) {
                    case 0:
                        return this.$$search;
                    case 1:
                        if (isString(search) || isNumber(search)) search = search.toString(), this.$$search = parseKeyValue(search);
                        else {
                            if (!isObject(search)) throw $locationMinErr("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
                            forEach(search = copy(search, {}), function(value, key) {
                                null == value && delete search[key]
                            }), this.$$search = search
                        }
                        break;
                    default:
                        isUndefined(paramValue) || null === paramValue ? delete this.$$search[search] : this.$$search[search] = paramValue
                }
                return this.$$compose(), this
            },
            hash: locationGetterSetter("$$hash", function(hash) {
                return null !== hash ? hash.toString() : ""
            }),
            replace: function() {
                return this.$$replace = !0, this
            }
        };

        function locationGetter(property) {
            return function() {
                return this[property]
            }
        }

        function locationGetterSetter(property, preprocess) {
            return function(value) {
                return isUndefined(value) ? this[property] : (this[property] = preprocess(value), this.$$compose(), this)
            }
        }

        function $LocationProvider() {
            var hashPrefix = "",
                html5Mode = {
                    enabled: !1,
                    requireBase: !0,
                    rewriteLinks: !0
                };
            this.hashPrefix = function(prefix) {
                return isDefined(prefix) ? (hashPrefix = prefix, this) : hashPrefix
            }, this.html5Mode = function(mode) {
                return isBoolean(mode) ? (html5Mode.enabled = mode, this) : isObject(mode) ? (isBoolean(mode.enabled) && (html5Mode.enabled = mode.enabled), isBoolean(mode.requireBase) && (html5Mode.requireBase = mode.requireBase), isBoolean(mode.rewriteLinks) && (html5Mode.rewriteLinks = mode.rewriteLinks), this) : html5Mode
            }, this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function($rootScope, $browser, $sniffer, $rootElement, $window) {
                var $location, LocationMode, appBase, baseHref = $browser.baseHref(),
                    initialUrl = $browser.url();
                if (html5Mode.enabled) {
                    if (!baseHref && html5Mode.requireBase) throw $locationMinErr("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
                    appBase = function(url) {
                        return url.substring(0, url.indexOf("/", url.indexOf("//") + 2))
                    }(initialUrl) + (baseHref || "/"), LocationMode = $sniffer.history ? LocationHtml5Url : LocationHashbangInHtml5Url
                } else appBase = stripHash(initialUrl), LocationMode = LocationHashbangUrl;
                ($location = new LocationMode(appBase, "#" + hashPrefix)).$$parseLinkUrl(initialUrl, initialUrl), $location.$$state = $browser.state();
                var IGNORE_URI_REGEXP = /^\s*(javascript|mailto):/i;

                function setBrowserUrlWithFallback(url, replace, state) {
                    var oldUrl = $location.url(),
                        oldState = $location.$$state;
                    try {
                        $browser.url(url, replace, state), $location.$$state = $browser.state()
                    } catch (e) {
                        throw $location.url(oldUrl), $location.$$state = oldState, e
                    }
                }
                $rootElement.on("click", function(event) {
                    if (html5Mode.rewriteLinks && !event.ctrlKey && !event.metaKey && !event.shiftKey && 2 != event.which && 2 != event.button) {
                        for (var elm = jqLite(event.target);
                            "a" !== nodeName_(elm[0]);)
                            if (elm[0] === $rootElement[0] || !(elm = elm.parent())[0]) return;
                        var absHref = elm.prop("href"),
                            relHref = elm.attr("href") || elm.attr("xlink:href");
                        isObject(absHref) && "[object SVGAnimatedString]" === absHref.toString() && (absHref = urlResolve(absHref.animVal).href), IGNORE_URI_REGEXP.test(absHref) || !absHref || elm.attr("target") || event.isDefaultPrevented() || $location.$$parseLinkUrl(absHref, relHref) && (event.preventDefault(), $location.absUrl() != $browser.url() && ($rootScope.$apply(), $window.angular["ff-684208-preventDefault"] = !0))
                    }
                }), trimEmptyHash($location.absUrl()) != trimEmptyHash(initialUrl) && $browser.url($location.absUrl(), !0);
                var initializing = !0;
                return $browser.onUrlChange(function(newUrl, newState) {
                    $rootScope.$evalAsync(function() {
                        var defaultPrevented, oldUrl = $location.absUrl(),
                            oldState = $location.$$state;
                        $location.$$parse(newUrl), $location.$$state = newState, defaultPrevented = $rootScope.$broadcast("$locationChangeStart", newUrl, oldUrl, newState, oldState).defaultPrevented, $location.absUrl() === newUrl && (defaultPrevented ? ($location.$$parse(oldUrl), setBrowserUrlWithFallback(oldUrl, !1, $location.$$state = oldState)) : (initializing = !1, afterLocationChange(oldUrl, oldState)))
                    }), $rootScope.$$phase || $rootScope.$digest()
                }), $rootScope.$watch(function() {
                    var oldUrl = trimEmptyHash($browser.url()),
                        newUrl = trimEmptyHash($location.absUrl()),
                        oldState = $browser.state(),
                        currentReplace = $location.$$replace,
                        urlOrStateChanged = oldUrl !== newUrl || $location.$$html5 && $sniffer.history && oldState !== $location.$$state;
                    (initializing || urlOrStateChanged) && (initializing = !1, $rootScope.$evalAsync(function() {
                        var newUrl = $location.absUrl(),
                            defaultPrevented = $rootScope.$broadcast("$locationChangeStart", newUrl, oldUrl, $location.$$state, oldState).defaultPrevented;
                        $location.absUrl() === newUrl && (defaultPrevented ? ($location.$$parse(oldUrl), $location.$$state = oldState) : (urlOrStateChanged && setBrowserUrlWithFallback(newUrl, currentReplace, oldState === $location.$$state ? null : $location.$$state), afterLocationChange(oldUrl, oldState)))
                    })), $location.$$replace = !1
                }), $location;

                function afterLocationChange(oldUrl, oldState) {
                    $rootScope.$broadcast("$locationChangeSuccess", $location.absUrl(), oldUrl, $location.$$state, oldState)
                }
            }]
        }

        function $LogProvider() {
            var debug = !0,
                self = this;
            this.debugEnabled = function(flag) {
                return isDefined(flag) ? (debug = flag, this) : debug
            }, this.$get = ["$window", function($window) {
                return {
                    log: consoleLog("log"),
                    info: consoleLog("info"),
                    warn: consoleLog("warn"),
                    error: consoleLog("error"),
                    debug: (fn = consoleLog("debug"), function() {
                        debug && fn.apply(self, arguments)
                    })
                };
                var fn;

                function consoleLog(type) {
                    var console = $window.console || {},
                        logFn = console[type] || console.log || noop,
                        hasApply = !1;
                    try {
                        hasApply = !!logFn.apply
                    } catch (e) {}
                    return hasApply ? function() {
                        var args = [];
                        return forEach(arguments, function(arg) {
                            args.push(function(arg) {
                                return arg instanceof Error && (arg.stack ? arg = arg.message && -1 === arg.stack.indexOf(arg.message) ? "Error: " + arg.message + "\n" + arg.stack : arg.stack : arg.sourceURL && (arg = arg.message + "\n" + arg.sourceURL + ":" + arg.line)), arg
                            }(arg))
                        }), logFn.apply(console, args)
                    } : function(arg1, arg2) {
                        logFn(arg1, null == arg2 ? "" : arg2)
                    }
                }
            }]
        }
        forEach([LocationHashbangInHtml5Url, LocationHashbangUrl, LocationHtml5Url], function(Location) {
            Location.prototype = Object.create(locationPrototype), Location.prototype.state = function(state) {
                if (!arguments.length) return this.$$state;
                if (Location !== LocationHtml5Url || !this.$$html5) throw $locationMinErr("nostate", "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
                return this.$$state = isUndefined(state) ? null : state, this
            }
        });
        var $parseMinErr = minErr("$parse");

        function ensureSafeMemberName(name, fullExpression) {
            if ("__defineGetter__" === name || "__defineSetter__" === name || "__lookupGetter__" === name || "__lookupSetter__" === name || "__proto__" === name) throw $parseMinErr("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", fullExpression);
            return name
        }

        function ensureSafeObject(obj, fullExpression) {
            if (obj) {
                if (obj.constructor === obj) throw $parseMinErr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", fullExpression);
                if (obj.window === obj) throw $parseMinErr("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", fullExpression);
                if (obj.children && (obj.nodeName || obj.prop && obj.attr && obj.find)) throw $parseMinErr("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", fullExpression);
                if (obj === Object) throw $parseMinErr("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", fullExpression)
            }
            return obj
        }
        var CALL = Function.prototype.call,
            APPLY = Function.prototype.apply,
            BIND = Function.prototype.bind;

        function ensureSafeFunction(obj, fullExpression) {
            if (obj) {
                if (obj.constructor === obj) throw $parseMinErr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", fullExpression);
                if (obj === CALL || obj === APPLY || obj === BIND) throw $parseMinErr("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", fullExpression)
            }
        }
        var OPERATORS = createMap();
        forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function(operator) {
            OPERATORS[operator] = !0
        });
        var ESCAPE = {
                n: "\n",
                f: "\f",
                r: "\r",
                t: "\t",
                v: "\v",
                "'": "'",
                '"': '"'
            },
            Lexer = function(options) {
                this.options = options
            };
        Lexer.prototype = {
            constructor: Lexer,
            lex: function(text) {
                for (this.text = text, this.index = 0, this.tokens = []; this.index < this.text.length;) {
                    var ch = this.text.charAt(this.index);
                    if ('"' === ch || "'" === ch) this.readString(ch);
                    else if (this.isNumber(ch) || "." === ch && this.isNumber(this.peek())) this.readNumber();
                    else if (this.isIdent(ch)) this.readIdent();
                    else if (this.is(ch, "(){}[].,;:?")) this.tokens.push({
                        index: this.index,
                        text: ch
                    }), this.index++;
                    else if (this.isWhitespace(ch)) this.index++;
                    else {
                        var ch2 = ch + this.peek(),
                            ch3 = ch2 + this.peek(2),
                            op1 = OPERATORS[ch],
                            op2 = OPERATORS[ch2],
                            op3 = OPERATORS[ch3];
                        if (op1 || op2 || op3) {
                            var token = op3 ? ch3 : op2 ? ch2 : ch;
                            this.tokens.push({
                                index: this.index,
                                text: token,
                                operator: !0
                            }), this.index += token.length
                        } else this.throwError("Unexpected next character ", this.index, this.index + 1)
                    }
                }
                return this.tokens
            },
            is: function(ch, chars) {
                return -1 !== chars.indexOf(ch)
            },
            peek: function(i) {
                var num = i || 1;
                return this.index + num < this.text.length && this.text.charAt(this.index + num)
            },
            isNumber: function(ch) {
                return "0" <= ch && ch <= "9" && "string" == typeof ch
            },
            isWhitespace: function(ch) {
                return " " === ch || "\r" === ch || "\t" === ch || "\n" === ch || "\v" === ch || " " === ch
            },
            isIdent: function(ch) {
                return "a" <= ch && ch <= "z" || "A" <= ch && ch <= "Z" || "_" === ch || "$" === ch
            },
            isExpOperator: function(ch) {
                return "-" === ch || "+" === ch || this.isNumber(ch)
            },
            throwError: function(error, start, end) {
                end = end || this.index;
                var colStr = isDefined(start) ? "s " + start + "-" + this.index + " [" + this.text.substring(start, end) + "]" : " " + end;
                throw $parseMinErr("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", error, colStr, this.text)
            },
            readNumber: function() {
                for (var number = "", start = this.index; this.index < this.text.length;) {
                    var ch = lowercase(this.text.charAt(this.index));
                    if ("." == ch || this.isNumber(ch)) number += ch;
                    else {
                        var peekCh = this.peek();
                        if ("e" == ch && this.isExpOperator(peekCh)) number += ch;
                        else if (this.isExpOperator(ch) && peekCh && this.isNumber(peekCh) && "e" == number.charAt(number.length - 1)) number += ch;
                        else {
                            if (!this.isExpOperator(ch) || peekCh && this.isNumber(peekCh) || "e" != number.charAt(number.length - 1)) break;
                            this.throwError("Invalid exponent")
                        }
                    }
                    this.index++
                }
                this.tokens.push({
                    index: start,
                    text: number,
                    constant: !0,
                    value: Number(number)
                })
            },
            readIdent: function() {
                for (var start = this.index; this.index < this.text.length;) {
                    var ch = this.text.charAt(this.index);
                    if (!this.isIdent(ch) && !this.isNumber(ch)) break;
                    this.index++
                }
                this.tokens.push({
                    index: start,
                    text: this.text.slice(start, this.index),
                    identifier: !0
                })
            },
            readString: function(quote) {
                var start = this.index;
                this.index++;
                for (var string = "", rawString = quote, escape = !1; this.index < this.text.length;) {
                    var ch = this.text.charAt(this.index);
                    if (rawString += ch, escape) {
                        if ("u" === ch) {
                            var hex = this.text.substring(this.index + 1, this.index + 5);
                            hex.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + hex + "]"), this.index += 4, string += String.fromCharCode(parseInt(hex, 16))
                        } else {
                            string += ESCAPE[ch] || ch
                        }
                        escape = !1
                    } else if ("\\" === ch) escape = !0;
                    else {
                        if (ch === quote) return this.index++, void this.tokens.push({
                            index: start,
                            text: rawString,
                            constant: !0,
                            value: string
                        });
                        string += ch
                    }
                    this.index++
                }
                this.throwError("Unterminated quote", start)
            }
        };
        var AST = function(lexer, options) {
            this.lexer = lexer, this.options = options
        };

        function ifDefined(v, d) {
            return void 0 !== v ? v : d
        }

        function plusFn(l, r) {
            return void 0 === l ? r : void 0 === r ? l : l + r
        }

        function isStateless($filter, filterName) {
            return !$filter(filterName).$stateful
        }

        function findConstantAndWatchExpressions(ast, $filter) {
            var allConstants, argsToWatch;
            switch (ast.type) {
                case AST.Program:
                    allConstants = !0, forEach(ast.body, function(expr) {
                        findConstantAndWatchExpressions(expr.expression, $filter), allConstants = allConstants && expr.expression.constant
                    }), ast.constant = allConstants;
                    break;
                case AST.Literal:
                    ast.constant = !0, ast.toWatch = [];
                    break;
                case AST.UnaryExpression:
                    findConstantAndWatchExpressions(ast.argument, $filter), ast.constant = ast.argument.constant, ast.toWatch = ast.argument.toWatch;
                    break;
                case AST.BinaryExpression:
                    findConstantAndWatchExpressions(ast.left, $filter), findConstantAndWatchExpressions(ast.right, $filter), ast.constant = ast.left.constant && ast.right.constant, ast.toWatch = ast.left.toWatch.concat(ast.right.toWatch);
                    break;
                case AST.LogicalExpression:
                    findConstantAndWatchExpressions(ast.left, $filter), findConstantAndWatchExpressions(ast.right, $filter), ast.constant = ast.left.constant && ast.right.constant, ast.toWatch = ast.constant ? [] : [ast];
                    break;
                case AST.ConditionalExpression:
                    findConstantAndWatchExpressions(ast.test, $filter), findConstantAndWatchExpressions(ast.alternate, $filter), findConstantAndWatchExpressions(ast.consequent, $filter), ast.constant = ast.test.constant && ast.alternate.constant && ast.consequent.constant, ast.toWatch = ast.constant ? [] : [ast];
                    break;
                case AST.Identifier:
                    ast.constant = !1, ast.toWatch = [ast];
                    break;
                case AST.MemberExpression:
                    findConstantAndWatchExpressions(ast.object, $filter), ast.computed && findConstantAndWatchExpressions(ast.property, $filter), ast.constant = ast.object.constant && (!ast.computed || ast.property.constant), ast.toWatch = [ast];
                    break;
                case AST.CallExpression:
                    allConstants = !!ast.filter && isStateless($filter, ast.callee.name), argsToWatch = [], forEach(ast.arguments, function(expr) {
                        findConstantAndWatchExpressions(expr, $filter), allConstants = allConstants && expr.constant, expr.constant || argsToWatch.push.apply(argsToWatch, expr.toWatch)
                    }), ast.constant = allConstants, ast.toWatch = ast.filter && isStateless($filter, ast.callee.name) ? argsToWatch : [ast];
                    break;
                case AST.AssignmentExpression:
                    findConstantAndWatchExpressions(ast.left, $filter), findConstantAndWatchExpressions(ast.right, $filter), ast.constant = ast.left.constant && ast.right.constant, ast.toWatch = [ast];
                    break;
                case AST.ArrayExpression:
                    allConstants = !0, argsToWatch = [], forEach(ast.elements, function(expr) {
                        findConstantAndWatchExpressions(expr, $filter), allConstants = allConstants && expr.constant, expr.constant || argsToWatch.push.apply(argsToWatch, expr.toWatch)
                    }), ast.constant = allConstants, ast.toWatch = argsToWatch;
                    break;
                case AST.ObjectExpression:
                    allConstants = !0, argsToWatch = [], forEach(ast.properties, function(property) {
                        findConstantAndWatchExpressions(property.value, $filter), allConstants = allConstants && property.value.constant, property.value.constant || argsToWatch.push.apply(argsToWatch, property.value.toWatch)
                    }), ast.constant = allConstants, ast.toWatch = argsToWatch;
                    break;
                case AST.ThisExpression:
                    ast.constant = !1, ast.toWatch = []
            }
        }

        function getInputs(body) {
            if (1 == body.length) {
                var lastExpression = body[0].expression,
                    candidate = lastExpression.toWatch;
                return 1 !== candidate.length ? candidate : candidate[0] !== lastExpression ? candidate : undefined
            }
        }

        function isAssignable(ast) {
            return ast.type === AST.Identifier || ast.type === AST.MemberExpression
        }

        function assignableAST(ast) {
            if (1 === ast.body.length && isAssignable(ast.body[0].expression)) return {
                type: AST.AssignmentExpression,
                left: ast.body[0].expression,
                right: {
                    type: AST.NGValueParameter
                },
                operator: "="
            }
        }

        function isLiteral(ast) {
            return 0 === ast.body.length || 1 === ast.body.length && (ast.body[0].expression.type === AST.Literal || ast.body[0].expression.type === AST.ArrayExpression || ast.body[0].expression.type === AST.ObjectExpression)
        }

        function isConstant(ast) {
            return ast.constant
        }

        function ASTCompiler(astBuilder, $filter) {
            this.astBuilder = astBuilder, this.$filter = $filter
        }

        function ASTInterpreter(astBuilder, $filter) {
            this.astBuilder = astBuilder, this.$filter = $filter
        }
        AST.Program = "Program", AST.ExpressionStatement = "ExpressionStatement", AST.AssignmentExpression = "AssignmentExpression", AST.ConditionalExpression = "ConditionalExpression", AST.LogicalExpression = "LogicalExpression", AST.BinaryExpression = "BinaryExpression", AST.UnaryExpression = "UnaryExpression", AST.CallExpression = "CallExpression", AST.MemberExpression = "MemberExpression", AST.Identifier = "Identifier", AST.Literal = "Literal", AST.ArrayExpression = "ArrayExpression", AST.Property = "Property", AST.ObjectExpression = "ObjectExpression", AST.ThisExpression = "ThisExpression", AST.NGValueParameter = "NGValueParameter", AST.prototype = {
            ast: function(text) {
                this.text = text, this.tokens = this.lexer.lex(text);
                var value = this.program();
                return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), value
            },
            program: function() {
                for (var body = [];;)
                    if (0 < this.tokens.length && !this.peek("}", ")", ";", "]") && body.push(this.expressionStatement()), !this.expect(";")) return {
                        type: AST.Program,
                        body: body
                    }
            },
            expressionStatement: function() {
                return {
                    type: AST.ExpressionStatement,
                    expression: this.filterChain()
                }
            },
            filterChain: function() {
                for (var left = this.expression(); this.expect("|");) left = this.filter(left);
                return left
            },
            expression: function() {
                return this.assignment()
            },
            assignment: function() {
                var result = this.ternary();
                return this.expect("=") && (result = {
                    type: AST.AssignmentExpression,
                    left: result,
                    right: this.assignment(),
                    operator: "="
                }), result
            },
            ternary: function() {
                var alternate, consequent, test = this.logicalOR();
                return this.expect("?") && (alternate = this.expression(), this.consume(":")) ? (consequent = this.expression(), {
                    type: AST.ConditionalExpression,
                    test: test,
                    alternate: alternate,
                    consequent: consequent
                }) : test
            },
            logicalOR: function() {
                for (var left = this.logicalAND(); this.expect("||");) left = {
                    type: AST.LogicalExpression,
                    operator: "||",
                    left: left,
                    right: this.logicalAND()
                };
                return left
            },
            logicalAND: function() {
                for (var left = this.equality(); this.expect("&&");) left = {
                    type: AST.LogicalExpression,
                    operator: "&&",
                    left: left,
                    right: this.equality()
                };
                return left
            },
            equality: function() {
                for (var token, left = this.relational(); token = this.expect("==", "!=", "===", "!==");) left = {
                    type: AST.BinaryExpression,
                    operator: token.text,
                    left: left,
                    right: this.relational()
                };
                return left
            },
            relational: function() {
                for (var token, left = this.additive(); token = this.expect("<", ">", "<=", ">=");) left = {
                    type: AST.BinaryExpression,
                    operator: token.text,
                    left: left,
                    right: this.additive()
                };
                return left
            },
            additive: function() {
                for (var token, left = this.multiplicative(); token = this.expect("+", "-");) left = {
                    type: AST.BinaryExpression,
                    operator: token.text,
                    left: left,
                    right: this.multiplicative()
                };
                return left
            },
            multiplicative: function() {
                for (var token, left = this.unary(); token = this.expect("*", "/", "%");) left = {
                    type: AST.BinaryExpression,
                    operator: token.text,
                    left: left,
                    right: this.unary()
                };
                return left
            },
            unary: function() {
                var token;
                return (token = this.expect("+", "-", "!")) ? {
                    type: AST.UnaryExpression,
                    operator: token.text,
                    prefix: !0,
                    argument: this.unary()
                } : this.primary()
            },
            primary: function() {
                var primary, next;
                for (this.expect("(") ? (primary = this.filterChain(), this.consume(")")) : this.expect("[") ? primary = this.arrayDeclaration() : this.expect("{") ? primary = this.object() : this.constants.hasOwnProperty(this.peek().text) ? primary = copy(this.constants[this.consume().text]) : this.peek().identifier ? primary = this.identifier() : this.peek().constant ? primary = this.constant() : this.throwError("not a primary expression", this.peek()); next = this.expect("(", "[", ".");) "(" === next.text ? (primary = {
                    type: AST.CallExpression,
                    callee: primary,
                    arguments: this.parseArguments()
                }, this.consume(")")) : "[" === next.text ? (primary = {
                    type: AST.MemberExpression,
                    object: primary,
                    property: this.expression(),
                    computed: !0
                }, this.consume("]")) : "." === next.text ? primary = {
                    type: AST.MemberExpression,
                    object: primary,
                    property: this.identifier(),
                    computed: !1
                } : this.throwError("IMPOSSIBLE");
                return primary
            },
            filter: function(baseExpression) {
                for (var args = [baseExpression], result = {
                        type: AST.CallExpression,
                        callee: this.identifier(),
                        arguments: args,
                        filter: !0
                    }; this.expect(":");) args.push(this.expression());
                return result
            },
            parseArguments: function() {
                var args = [];
                if (")" !== this.peekToken().text)
                    for (; args.push(this.expression()), this.expect(","););
                return args
            },
            identifier: function() {
                var token = this.consume();
                return token.identifier || this.throwError("is not a valid identifier", token), {
                    type: AST.Identifier,
                    name: token.text
                }
            },
            constant: function() {
                return {
                    type: AST.Literal,
                    value: this.consume().value
                }
            },
            arrayDeclaration: function() {
                var elements = [];
                if ("]" !== this.peekToken().text)
                    do {
                        if (this.peek("]")) break;
                        elements.push(this.expression())
                    } while (this.expect(","));
                return this.consume("]"), {
                    type: AST.ArrayExpression,
                    elements: elements
                }
            },
            object: function() {
                var property, properties = [];
                if ("}" !== this.peekToken().text)
                    do {
                        if (this.peek("}")) break;
                        property = {
                            type: AST.Property,
                            kind: "init"
                        }, this.peek().constant ? property.key = this.constant() : this.peek().identifier ? property.key = this.identifier() : this.throwError("invalid key", this.peek()), this.consume(":"), property.value = this.expression(), properties.push(property)
                    } while (this.expect(","));
                return this.consume("}"), {
                    type: AST.ObjectExpression,
                    properties: properties
                }
            },
            throwError: function(msg, token) {
                throw $parseMinErr("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", token.text, msg, token.index + 1, this.text, this.text.substring(token.index))
            },
            consume: function(e1) {
                if (0 === this.tokens.length) throw $parseMinErr("ueoe", "Unexpected end of expression: {0}", this.text);
                var token = this.expect(e1);
                return token || this.throwError("is unexpected, expecting [" + e1 + "]", this.peek()), token
            },
            peekToken: function() {
                if (0 === this.tokens.length) throw $parseMinErr("ueoe", "Unexpected end of expression: {0}", this.text);
                return this.tokens[0]
            },
            peek: function(e1, e2, e3, e4) {
                return this.peekAhead(0, e1, e2, e3, e4)
            },
            peekAhead: function(i, e1, e2, e3, e4) {
                if (this.tokens.length > i) {
                    var token = this.tokens[i],
                        t = token.text;
                    if (t === e1 || t === e2 || t === e3 || t === e4 || !e1 && !e2 && !e3 && !e4) return token
                }
                return !1
            },
            expect: function(e1, e2, e3, e4) {
                var token = this.peek(e1, e2, e3, e4);
                return !!token && (this.tokens.shift(), token)
            },
            constants: {
                true: {
                    type: AST.Literal,
                    value: !0
                },
                false: {
                    type: AST.Literal,
                    value: !1
                },
                null: {
                    type: AST.Literal,
                    value: null
                },
                undefined: {
                    type: AST.Literal,
                    value: undefined
                },
                this: {
                    type: AST.ThisExpression
                }
            }
        }, ASTCompiler.prototype = {
            compile: function(expression, expensiveChecks) {
                var self = this,
                    ast = this.astBuilder.ast(expression);
                this.state = {
                    nextId: 0,
                    filters: {},
                    expensiveChecks: expensiveChecks,
                    fn: {
                        vars: [],
                        body: [],
                        own: {}
                    },
                    assign: {
                        vars: [],
                        body: [],
                        own: {}
                    },
                    inputs: []
                }, findConstantAndWatchExpressions(ast, self.$filter);
                var assignable, extra = "";
                if (this.stage = "assign", assignable = assignableAST(ast)) {
                    this.state.computing = "assign";
                    var result = this.nextId();
                    this.recurse(assignable, result), extra = "fn.assign=" + this.generateFunction("assign", "s,v,l")
                }
                var toWatch = getInputs(ast.body);
                self.stage = "inputs", forEach(toWatch, function(watch, key) {
                    var fnKey = "fn" + key;
                    self.state[fnKey] = {
                        vars: [],
                        body: [],
                        own: {}
                    }, self.state.computing = fnKey;
                    var intoId = self.nextId();
                    self.recurse(watch, intoId), self.return(intoId), self.state.inputs.push(fnKey), watch.watchId = key
                }), this.state.computing = "fn", this.stage = "main", this.recurse(ast);
                var fnString = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + extra + this.watchFns() + "return fn;",
                    fn = new Function("$filter", "ensureSafeMemberName", "ensureSafeObject", "ensureSafeFunction", "ifDefined", "plus", "text", fnString)(this.$filter, ensureSafeMemberName, ensureSafeObject, ensureSafeFunction, ifDefined, plusFn, expression);
                return this.state = this.stage = undefined, fn.literal = isLiteral(ast), fn.constant = isConstant(ast), fn
            },
            USE: "use",
            STRICT: "strict",
            watchFns: function() {
                var result = [],
                    fns = this.state.inputs,
                    self = this;
                return forEach(fns, function(name) {
                    result.push("var " + name + "=" + self.generateFunction(name, "s"))
                }), fns.length && result.push("fn.inputs=[" + fns.join(",") + "];"), result.join("")
            },
            generateFunction: function(name, params) {
                return "function(" + params + "){" + this.varsPrefix(name) + this.body(name) + "};"
            },
            filterPrefix: function() {
                var parts = [],
                    self = this;
                return forEach(this.state.filters, function(id, filter) {
                    parts.push(id + "=$filter(" + self.escape(filter) + ")")
                }), parts.length ? "var " + parts.join(",") + ";" : ""
            },
            varsPrefix: function(section) {
                return this.state[section].vars.length ? "var " + this.state[section].vars.join(",") + ";" : ""
            },
            body: function(section) {
                return this.state[section].body.join("")
            },
            recurse: function(ast, intoId, nameId, recursionFn, create, skipWatchIdCheck) {
                var left, right, args, expression, self = this;
                if (recursionFn = recursionFn || noop, !skipWatchIdCheck && isDefined(ast.watchId)) return intoId = intoId || this.nextId(), void this.if("i", this.lazyAssign(intoId, this.computedMember("i", ast.watchId)), this.lazyRecurse(ast, intoId, nameId, recursionFn, create, !0));
                switch (ast.type) {
                    case AST.Program:
                        forEach(ast.body, function(expression, pos) {
                            self.recurse(expression.expression, undefined, undefined, function(expr) {
                                right = expr
                            }), pos !== ast.body.length - 1 ? self.current().body.push(right, ";") : self.return(right)
                        });
                        break;
                    case AST.Literal:
                        expression = this.escape(ast.value), this.assign(intoId, expression), recursionFn(expression);
                        break;
                    case AST.UnaryExpression:
                        this.recurse(ast.argument, undefined, undefined, function(expr) {
                            right = expr
                        }), expression = ast.operator + "(" + this.ifDefined(right, 0) + ")", this.assign(intoId, expression), recursionFn(expression);
                        break;
                    case AST.BinaryExpression:
                        this.recurse(ast.left, undefined, undefined, function(expr) {
                            left = expr
                        }), this.recurse(ast.right, undefined, undefined, function(expr) {
                            right = expr
                        }), expression = "+" === ast.operator ? this.plus(left, right) : "-" === ast.operator ? this.ifDefined(left, 0) + ast.operator + this.ifDefined(right, 0) : "(" + left + ")" + ast.operator + "(" + right + ")", this.assign(intoId, expression), recursionFn(expression);
                        break;
                    case AST.LogicalExpression:
                        intoId = intoId || this.nextId(), self.recurse(ast.left, intoId), self.if("&&" === ast.operator ? intoId : self.not(intoId), self.lazyRecurse(ast.right, intoId)), recursionFn(intoId);
                        break;
                    case AST.ConditionalExpression:
                        intoId = intoId || this.nextId(), self.recurse(ast.test, intoId), self.if(intoId, self.lazyRecurse(ast.alternate, intoId), self.lazyRecurse(ast.consequent, intoId)), recursionFn(intoId);
                        break;
                    case AST.Identifier:
                        intoId = intoId || this.nextId(), nameId && (nameId.context = "inputs" === self.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", ast.name) + "?l:s"), nameId.computed = !1, nameId.name = ast.name), ensureSafeMemberName(ast.name), self.if("inputs" === self.stage || self.not(self.getHasOwnProperty("l", ast.name)), function() {
                            self.if("inputs" === self.stage || "s", function() {
                                create && 1 !== create && self.if(self.not(self.nonComputedMember("s", ast.name)), self.lazyAssign(self.nonComputedMember("s", ast.name), "{}")), self.assign(intoId, self.nonComputedMember("s", ast.name))
                            })
                        }, intoId && self.lazyAssign(intoId, self.nonComputedMember("l", ast.name))), (self.state.expensiveChecks || isPossiblyDangerousMemberName(ast.name)) && self.addEnsureSafeObject(intoId), recursionFn(intoId);
                        break;
                    case AST.MemberExpression:
                        left = nameId && (nameId.context = this.nextId()) || this.nextId(), intoId = intoId || this.nextId(), self.recurse(ast.object, left, undefined, function() {
                            self.if(self.notNull(left), function() {
                                ast.computed ? (right = self.nextId(), self.recurse(ast.property, right), self.addEnsureSafeMemberName(right), create && 1 !== create && self.if(self.not(self.computedMember(left, right)), self.lazyAssign(self.computedMember(left, right), "{}")), expression = self.ensureSafeObject(self.computedMember(left, right)), self.assign(intoId, expression), nameId && (nameId.computed = !0, nameId.name = right)) : (ensureSafeMemberName(ast.property.name), create && 1 !== create && self.if(self.not(self.nonComputedMember(left, ast.property.name)), self.lazyAssign(self.nonComputedMember(left, ast.property.name), "{}")), expression = self.nonComputedMember(left, ast.property.name), (self.state.expensiveChecks || isPossiblyDangerousMemberName(ast.property.name)) && (expression = self.ensureSafeObject(expression)), self.assign(intoId, expression), nameId && (nameId.computed = !1, nameId.name = ast.property.name)), recursionFn(intoId)
                            })
                        }, !!create);
                        break;
                    case AST.CallExpression:
                        intoId = intoId || this.nextId(), ast.filter ? (right = self.filter(ast.callee.name), args = [], forEach(ast.arguments, function(expr) {
                            var argument = self.nextId();
                            self.recurse(expr, argument), args.push(argument)
                        }), expression = right + "(" + args.join(",") + ")", self.assign(intoId, expression), recursionFn(intoId)) : (right = self.nextId(), left = {}, args = [], self.recurse(ast.callee, right, left, function() {
                            self.if(self.notNull(right), function() {
                                self.addEnsureSafeFunction(right), forEach(ast.arguments, function(expr) {
                                    self.recurse(expr, self.nextId(), undefined, function(argument) {
                                        args.push(self.ensureSafeObject(argument))
                                    })
                                }), expression = left.name ? (self.state.expensiveChecks || self.addEnsureSafeObject(left.context), self.member(left.context, left.name, left.computed) + "(" + args.join(",") + ")") : right + "(" + args.join(",") + ")", expression = self.ensureSafeObject(expression), self.assign(intoId, expression), recursionFn(intoId)
                            })
                        }));
                        break;
                    case AST.AssignmentExpression:
                        if (right = this.nextId(), left = {}, !isAssignable(ast.left)) throw $parseMinErr("lval", "Trying to assing a value to a non l-value");
                        this.recurse(ast.left, undefined, left, function() {
                            self.if(self.notNull(left.context), function() {
                                self.recurse(ast.right, right), self.addEnsureSafeObject(self.member(left.context, left.name, left.computed)), expression = self.member(left.context, left.name, left.computed) + ast.operator + right, self.assign(intoId, expression), recursionFn(intoId || expression)
                            })
                        }, 1);
                        break;
                    case AST.ArrayExpression:
                        args = [], forEach(ast.elements, function(expr) {
                            self.recurse(expr, self.nextId(), undefined, function(argument) {
                                args.push(argument)
                            })
                        }), expression = "[" + args.join(",") + "]", this.assign(intoId, expression), recursionFn(expression);
                        break;
                    case AST.ObjectExpression:
                        args = [], forEach(ast.properties, function(property) {
                            self.recurse(property.value, self.nextId(), undefined, function(expr) {
                                args.push(self.escape(property.key.type === AST.Identifier ? property.key.name : "" + property.key.value) + ":" + expr)
                            })
                        }), expression = "{" + args.join(",") + "}", this.assign(intoId, expression), recursionFn(expression);
                        break;
                    case AST.ThisExpression:
                        this.assign(intoId, "s"), recursionFn("s");
                        break;
                    case AST.NGValueParameter:
                        this.assign(intoId, "v"), recursionFn("v")
                }
            },
            getHasOwnProperty: function(element, property) {
                var key = element + "." + property,
                    own = this.current().own;
                return own.hasOwnProperty(key) || (own[key] = this.nextId(!1, element + "&&(" + this.escape(property) + " in " + element + ")")), own[key]
            },
            assign: function(id, value) {
                if (id) return this.current().body.push(id, "=", value, ";"), id
            },
            filter: function(filterName) {
                return this.state.filters.hasOwnProperty(filterName) || (this.state.filters[filterName] = this.nextId(!0)), this.state.filters[filterName]
            },
            ifDefined: function(id, defaultValue) {
                return "ifDefined(" + id + "," + this.escape(defaultValue) + ")"
            },
            plus: function(left, right) {
                return "plus(" + left + "," + right + ")"
            },
            return: function(id) {
                this.current().body.push("return ", id, ";")
            },
            if: function(test, alternate, consequent) {
                if (!0 === test) alternate();
                else {
                    var body = this.current().body;
                    body.push("if(", test, "){"), alternate(), body.push("}"), consequent && (body.push("else{"), consequent(), body.push("}"))
                }
            },
            not: function(expression) {
                return "!(" + expression + ")"
            },
            notNull: function(expression) {
                return expression + "!=null"
            },
            nonComputedMember: function(left, right) {
                return left + "." + right
            },
            computedMember: function(left, right) {
                return left + "[" + right + "]"
            },
            member: function(left, right, computed) {
                return computed ? this.computedMember(left, right) : this.nonComputedMember(left, right)
            },
            addEnsureSafeObject: function(item) {
                this.current().body.push(this.ensureSafeObject(item), ";")
            },
            addEnsureSafeMemberName: function(item) {
                this.current().body.push(this.ensureSafeMemberName(item), ";")
            },
            addEnsureSafeFunction: function(item) {
                this.current().body.push(this.ensureSafeFunction(item), ";")
            },
            ensureSafeObject: function(item) {
                return "ensureSafeObject(" + item + ",text)"
            },
            ensureSafeMemberName: function(item) {
                return "ensureSafeMemberName(" + item + ",text)"
            },
            ensureSafeFunction: function(item) {
                return "ensureSafeFunction(" + item + ",text)"
            },
            lazyRecurse: function(ast, intoId, nameId, recursionFn, create, skipWatchIdCheck) {
                var self = this;
                return function() {
                    self.recurse(ast, intoId, nameId, recursionFn, create, skipWatchIdCheck)
                }
            },
            lazyAssign: function(id, value) {
                var self = this;
                return function() {
                    self.assign(id, value)
                }
            },
            stringEscapeRegex: /[^ a-zA-Z0-9]/g,
            stringEscapeFn: function(c) {
                return "\\u" + ("0000" + c.charCodeAt(0).toString(16)).slice(-4)
            },
            escape: function(value) {
                if (isString(value)) return "'" + value.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
                if (isNumber(value)) return value.toString();
                if (!0 === value) return "true";
                if (!1 === value) return "false";
                if (null === value) return "null";
                if (void 0 === value) return "undefined";
                throw $parseMinErr("esc", "IMPOSSIBLE")
            },
            nextId: function(skip, init) {
                var id = "v" + this.state.nextId++;
                return skip || this.current().vars.push(id + (init ? "=" + init : "")), id
            },
            current: function() {
                return this.state[this.state.computing]
            }
        }, ASTInterpreter.prototype = {
            compile: function(expression, expensiveChecks) {
                var assignable, assign, self = this,
                    ast = this.astBuilder.ast(expression);
                this.expression = expression, this.expensiveChecks = expensiveChecks, findConstantAndWatchExpressions(ast, self.$filter), (assignable = assignableAST(ast)) && (assign = this.recurse(assignable));
                var inputs, toWatch = getInputs(ast.body);
                toWatch && (inputs = [], forEach(toWatch, function(watch, key) {
                    var input = self.recurse(watch);
                    watch.input = input, inputs.push(input), watch.watchId = key
                }));
                var expressions = [];
                forEach(ast.body, function(expression) {
                    expressions.push(self.recurse(expression.expression))
                });
                var fn = 0 === ast.body.length ? function() {} : 1 === ast.body.length ? expressions[0] : function(scope, locals) {
                    var lastValue;
                    return forEach(expressions, function(exp) {
                        lastValue = exp(scope, locals)
                    }), lastValue
                };
                return assign && (fn.assign = function(scope, value, locals) {
                    return assign(scope, locals, value)
                }), inputs && (fn.inputs = inputs), fn.literal = isLiteral(ast), fn.constant = isConstant(ast), fn
            },
            recurse: function(ast, context, create) {
                var left, right, args, self = this;
                if (ast.input) return this.inputs(ast.input, ast.watchId);
                switch (ast.type) {
                    case AST.Literal:
                        return this.value(ast.value, context);
                    case AST.UnaryExpression:
                        return right = this.recurse(ast.argument), this["unary" + ast.operator](right, context);
                    case AST.BinaryExpression:
                    case AST.LogicalExpression:
                        return left = this.recurse(ast.left), right = this.recurse(ast.right), this["binary" + ast.operator](left, right, context);
                    case AST.ConditionalExpression:
                        return this["ternary?:"](this.recurse(ast.test), this.recurse(ast.alternate), this.recurse(ast.consequent), context);
                    case AST.Identifier:
                        return ensureSafeMemberName(ast.name, self.expression), self.identifier(ast.name, self.expensiveChecks || isPossiblyDangerousMemberName(ast.name), context, create, self.expression);
                    case AST.MemberExpression:
                        return left = this.recurse(ast.object, !1, !!create), ast.computed || (ensureSafeMemberName(ast.property.name, self.expression), right = ast.property.name), ast.computed && (right = this.recurse(ast.property)), ast.computed ? this.computedMember(left, right, context, create, self.expression) : this.nonComputedMember(left, right, self.expensiveChecks, context, create, self.expression);
                    case AST.CallExpression:
                        return args = [], forEach(ast.arguments, function(expr) {
                            args.push(self.recurse(expr))
                        }), ast.filter && (right = this.$filter(ast.callee.name)), ast.filter || (right = this.recurse(ast.callee, !0)), ast.filter ? function(scope, locals, assign, inputs) {
                            for (var values = [], i = 0; i < args.length; ++i) values.push(args[i](scope, locals, assign, inputs));
                            var value = right.apply(undefined, values, inputs);
                            return context ? {
                                context: undefined,
                                name: undefined,
                                value: value
                            } : value
                        } : function(scope, locals, assign, inputs) {
                            var value, rhs = right(scope, locals, assign, inputs);
                            if (null != rhs.value) {
                                ensureSafeObject(rhs.context, self.expression), ensureSafeFunction(rhs.value, self.expression);
                                for (var values = [], i = 0; i < args.length; ++i) values.push(ensureSafeObject(args[i](scope, locals, assign, inputs), self.expression));
                                value = ensureSafeObject(rhs.value.apply(rhs.context, values), self.expression)
                            }
                            return context ? {
                                value: value
                            } : value
                        };
                    case AST.AssignmentExpression:
                        return left = this.recurse(ast.left, !0, 1), right = this.recurse(ast.right),
                            function(scope, locals, assign, inputs) {
                                var lhs = left(scope, locals, assign, inputs),
                                    rhs = right(scope, locals, assign, inputs);
                                return ensureSafeObject(lhs.value, self.expression), lhs.context[lhs.name] = rhs, context ? {
                                    value: rhs
                                } : rhs
                            };
                    case AST.ArrayExpression:
                        return args = [], forEach(ast.elements, function(expr) {
                                args.push(self.recurse(expr))
                            }),
                            function(scope, locals, assign, inputs) {
                                for (var value = [], i = 0; i < args.length; ++i) value.push(args[i](scope, locals, assign, inputs));
                                return context ? {
                                    value: value
                                } : value
                            };
                    case AST.ObjectExpression:
                        return args = [], forEach(ast.properties, function(property) {
                                args.push({
                                    key: property.key.type === AST.Identifier ? property.key.name : "" + property.key.value,
                                    value: self.recurse(property.value)
                                })
                            }),
                            function(scope, locals, assign, inputs) {
                                for (var value = {}, i = 0; i < args.length; ++i) value[args[i].key] = args[i].value(scope, locals, assign, inputs);
                                return context ? {
                                    value: value
                                } : value
                            };
                    case AST.ThisExpression:
                        return function(scope) {
                            return context ? {
                                value: scope
                            } : scope
                        };
                    case AST.NGValueParameter:
                        return function(scope, locals, assign, inputs) {
                            return context ? {
                                value: assign
                            } : assign
                        }
                }
            },
            "unary+": function(argument, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = argument(scope, locals, assign, inputs);
                    return arg = isDefined(arg) ? +arg : 0, context ? {
                        value: arg
                    } : arg
                }
            },
            "unary-": function(argument, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = argument(scope, locals, assign, inputs);
                    return arg = isDefined(arg) ? -arg : 0, context ? {
                        value: arg
                    } : arg
                }
            },
            "unary!": function(argument, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = !argument(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary+": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = plusFn(left(scope, locals, assign, inputs), right(scope, locals, assign, inputs));
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary-": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var lhs = left(scope, locals, assign, inputs),
                        rhs = right(scope, locals, assign, inputs),
                        arg = (isDefined(lhs) ? lhs : 0) - (isDefined(rhs) ? rhs : 0);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary*": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) * right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary/": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) / right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary%": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) % right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary===": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) === right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary!==": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) !== right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary==": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) == right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary!=": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) != right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary<": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) < right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary>": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) > right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary<=": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) <= right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary>=": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) >= right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary&&": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) && right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "binary||": function(left, right, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = left(scope, locals, assign, inputs) || right(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            "ternary?:": function(test, alternate, consequent, context) {
                return function(scope, locals, assign, inputs) {
                    var arg = test(scope, locals, assign, inputs) ? alternate(scope, locals, assign, inputs) : consequent(scope, locals, assign, inputs);
                    return context ? {
                        value: arg
                    } : arg
                }
            },
            value: function(value, context) {
                return function() {
                    return context ? {
                        context: undefined,
                        name: undefined,
                        value: value
                    } : value
                }
            },
            identifier: function(name, expensiveChecks, context, create, expression) {
                return function(scope, locals, assign, inputs) {
                    var base = locals && name in locals ? locals : scope;
                    create && 1 !== create && base && !base[name] && (base[name] = {});
                    var value = base ? base[name] : undefined;
                    return expensiveChecks && ensureSafeObject(value, expression), context ? {
                        context: base,
                        name: name,
                        value: value
                    } : value
                }
            },
            computedMember: function(left, right, context, create, expression) {
                return function(scope, locals, assign, inputs) {
                    var rhs, value, lhs = left(scope, locals, assign, inputs);
                    return null != lhs && (ensureSafeMemberName(rhs = right(scope, locals, assign, inputs), expression), create && 1 !== create && lhs && !lhs[rhs] && (lhs[rhs] = {}), ensureSafeObject(value = lhs[rhs], expression)), context ? {
                        context: lhs,
                        name: rhs,
                        value: value
                    } : value
                }
            },
            nonComputedMember: function(left, right, expensiveChecks, context, create, expression) {
                return function(scope, locals, assign, inputs) {
                    var lhs = left(scope, locals, assign, inputs);
                    create && 1 !== create && lhs && !lhs[right] && (lhs[right] = {});
                    var value = null != lhs ? lhs[right] : undefined;
                    return (expensiveChecks || isPossiblyDangerousMemberName(right)) && ensureSafeObject(value, expression), context ? {
                        context: lhs,
                        name: right,
                        value: value
                    } : value
                }
            },
            inputs: function(input, watchId) {
                return function(scope, value, locals, inputs) {
                    return inputs ? inputs[watchId] : input(scope, value, locals)
                }
            }
        };
        var Parser = function(lexer, $filter, options) {
            this.lexer = lexer, this.$filter = $filter, this.options = options, this.ast = new AST(this.lexer), this.astCompiler = options.csp ? new ASTInterpreter(this.ast, $filter) : new ASTCompiler(this.ast, $filter)
        };

        function setter(obj, path, setValue, fullExp) {
            ensureSafeObject(obj, fullExp);
            for (var key, element = path.split("."), i = 0; 1 < element.length; i++) {
                var propertyObj = ensureSafeObject(obj[key = ensureSafeMemberName(element.shift(), fullExp)], fullExp);
                propertyObj || (propertyObj = {}, obj[key] = propertyObj), obj = propertyObj
            }
            return ensureSafeObject(obj[key = ensureSafeMemberName(element.shift(), fullExp)], fullExp), obj[key] = setValue
        }
        Parser.prototype = {
            constructor: Parser,
            parse: function(text) {
                return this.astCompiler.compile(text, this.options.expensiveChecks)
            }
        };
        createMap(), createMap();

        function isPossiblyDangerousMemberName(name) {
            return "constructor" == name
        }
        var objectValueOf = Object.prototype.valueOf;

        function getValueOf(value) {
            return isFunction(value.valueOf) ? value.valueOf() : objectValueOf.call(value)
        }

        function $ParseProvider() {
            var cacheDefault = createMap(),
                cacheExpensive = createMap();
            this.$get = ["$filter", "$sniffer", function($filter, $sniffer) {
                var $parseOptions = {
                        csp: $sniffer.csp,
                        expensiveChecks: !1
                    },
                    $parseOptionsExpensive = {
                        csp: $sniffer.csp,
                        expensiveChecks: !0
                    };
                return function(exp, interceptorFn, expensiveChecks) {
                    var parsedExpression, oneTime, cacheKey;
                    switch (typeof exp) {
                        case "string":
                            exp = exp.trim();
                            var cache = expensiveChecks ? cacheExpensive : cacheDefault;
                            if (!(parsedExpression = cache[cacheKey = exp])) {
                                ":" === exp.charAt(0) && ":" === exp.charAt(1) && (oneTime = !0, exp = exp.substring(2));
                                var parseOptions = expensiveChecks ? $parseOptionsExpensive : $parseOptions,
                                    lexer = new Lexer(parseOptions);
                                (parsedExpression = new Parser(lexer, $filter, parseOptions).parse(exp)).constant ? parsedExpression.$$watchDelegate = constantWatchDelegate : oneTime ? parsedExpression.$$watchDelegate = parsedExpression.literal ? oneTimeLiteralWatchDelegate : oneTimeWatchDelegate : parsedExpression.inputs && (parsedExpression.$$watchDelegate = inputsWatchDelegate), cache[cacheKey] = parsedExpression
                            }
                            return addInterceptor(parsedExpression, interceptorFn);
                        case "function":
                            return addInterceptor(exp, interceptorFn);
                        default:
                            return noop
                    }
                };

                function expressionInputDirtyCheck(newValue, oldValueOfValue) {
                    return null == newValue || null == oldValueOfValue ? newValue === oldValueOfValue : ("object" != typeof newValue || "object" != typeof(newValue = getValueOf(newValue))) && (newValue === oldValueOfValue || newValue != newValue && oldValueOfValue != oldValueOfValue)
                }

                function inputsWatchDelegate(scope, listener, objectEquality, parsedExpression, prettyPrintExpression) {
                    var lastResult, inputExpressions = parsedExpression.inputs;
                    if (1 === inputExpressions.length) {
                        var oldInputValueOf = expressionInputDirtyCheck;
                        return inputExpressions = inputExpressions[0], scope.$watch(function(scope) {
                            var newInputValue = inputExpressions(scope);
                            return expressionInputDirtyCheck(newInputValue, oldInputValueOf) || (lastResult = parsedExpression(scope, undefined, undefined, [newInputValue]), oldInputValueOf = newInputValue && getValueOf(newInputValue)), lastResult
                        }, listener, objectEquality, prettyPrintExpression)
                    }
                    for (var oldInputValueOfValues = [], oldInputValues = [], i = 0, ii = inputExpressions.length; i < ii; i++) oldInputValueOfValues[i] = expressionInputDirtyCheck, oldInputValues[i] = null;
                    return scope.$watch(function(scope) {
                        for (var changed = !1, i = 0, ii = inputExpressions.length; i < ii; i++) {
                            var newInputValue = inputExpressions[i](scope);
                            (changed || (changed = !expressionInputDirtyCheck(newInputValue, oldInputValueOfValues[i]))) && (oldInputValues[i] = newInputValue, oldInputValueOfValues[i] = newInputValue && getValueOf(newInputValue))
                        }
                        return changed && (lastResult = parsedExpression(scope, undefined, undefined, oldInputValues)), lastResult
                    }, listener, objectEquality, prettyPrintExpression)
                }

                function oneTimeWatchDelegate(scope, listener, objectEquality, parsedExpression) {
                    var unwatch, lastValue;
                    return unwatch = scope.$watch(function(scope) {
                        return parsedExpression(scope)
                    }, function(value, old, scope) {
                        lastValue = value, isFunction(listener) && listener.apply(this, arguments), isDefined(value) && scope.$$postDigest(function() {
                            isDefined(lastValue) && unwatch()
                        })
                    }, objectEquality)
                }

                function oneTimeLiteralWatchDelegate(scope, listener, objectEquality, parsedExpression) {
                    var unwatch, lastValue;
                    return unwatch = scope.$watch(function(scope) {
                        return parsedExpression(scope)
                    }, function(value, old, scope) {
                        lastValue = value, isFunction(listener) && listener.call(this, value, old, scope), isAllDefined(value) && scope.$$postDigest(function() {
                            isAllDefined(lastValue) && unwatch()
                        })
                    }, objectEquality);

                    function isAllDefined(value) {
                        var allDefined = !0;
                        return forEach(value, function(val) {
                            isDefined(val) || (allDefined = !1)
                        }), allDefined
                    }
                }

                function constantWatchDelegate(scope, listener, objectEquality, parsedExpression) {
                    var unwatch;
                    return unwatch = scope.$watch(function(scope) {
                        return parsedExpression(scope)
                    }, function(value, old, scope) {
                        isFunction(listener) && listener.apply(this, arguments), unwatch()
                    }, objectEquality)
                }

                function addInterceptor(parsedExpression, interceptorFn) {
                    if (!interceptorFn) return parsedExpression;
                    var watchDelegate = parsedExpression.$$watchDelegate,
                        fn = watchDelegate !== oneTimeLiteralWatchDelegate && watchDelegate !== oneTimeWatchDelegate ? function(scope, locals, assign, inputs) {
                            var value = parsedExpression(scope, locals, assign, inputs);
                            return interceptorFn(value, scope, locals)
                        } : function(scope, locals, assign, inputs) {
                            var value = parsedExpression(scope, locals, assign, inputs),
                                result = interceptorFn(value, scope, locals);
                            return isDefined(value) ? result : value
                        };
                    return parsedExpression.$$watchDelegate && parsedExpression.$$watchDelegate !== inputsWatchDelegate ? fn.$$watchDelegate = parsedExpression.$$watchDelegate : interceptorFn.$stateful || (fn.$$watchDelegate = inputsWatchDelegate, fn.inputs = parsedExpression.inputs ? parsedExpression.inputs : [parsedExpression]), fn
                }
            }]
        }

        function $QProvider() {
            this.$get = ["$rootScope", "$exceptionHandler", function($rootScope, $exceptionHandler) {
                return qFactory(function(callback) {
                    $rootScope.$evalAsync(callback)
                }, $exceptionHandler)
            }]
        }

        function $$QProvider() {
            this.$get = ["$browser", "$exceptionHandler", function($browser, $exceptionHandler) {
                return qFactory(function(callback) {
                    $browser.defer(callback)
                }, $exceptionHandler)
            }]
        }

        function qFactory(nextTick, exceptionHandler) {
            var $qMinErr = minErr("$q", TypeError);

            function Promise() {
                this.$$state = {
                    status: 0
                }
            }

            function simpleBind(context, fn) {
                return function(value) {
                    fn.call(context, value)
                }
            }

            function scheduleProcessQueue(state) {
                !state.processScheduled && state.pending && (state.processScheduled = !0, nextTick(function() {
                    ! function(state) {
                        var fn, deferred, pending;
                        pending = state.pending, state.processScheduled = !1, state.pending = undefined;
                        for (var i = 0, ii = pending.length; i < ii; ++i) {
                            deferred = pending[i][0], fn = pending[i][state.status];
                            try {
                                isFunction(fn) ? deferred.resolve(fn(state.value)) : 1 === state.status ? deferred.resolve(state.value) : deferred.reject(state.value)
                            } catch (e) {
                                deferred.reject(e), exceptionHandler(e)
                            }
                        }
                    }(state)
                }))
            }

            function Deferred() {
                this.promise = new Promise, this.resolve = simpleBind(this, this.resolve), this.reject = simpleBind(this, this.reject), this.notify = simpleBind(this, this.notify)
            }
            Promise.prototype = {
                then: function(onFulfilled, onRejected, progressBack) {
                    var result = new Deferred;
                    return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([result, onFulfilled, onRejected, progressBack]), 0 < this.$$state.status && scheduleProcessQueue(this.$$state), result.promise
                },
                catch: function(callback) {
                    return this.then(null, callback)
                },
                finally: function(callback, progressBack) {
                    return this.then(function(value) {
                        return handleCallback(value, !0, callback)
                    }, function(error) {
                        return handleCallback(error, !1, callback)
                    }, progressBack)
                }
            }, Deferred.prototype = {
                resolve: function(val) {
                    this.promise.$$state.status || (val === this.promise ? this.$$reject($qMinErr("qcycle", "Expected promise to be resolved with value other than itself '{0}'", val)) : this.$$resolve(val))
                },
                $$resolve: function(val) {
                    var then, fns;
                    fns = function(self, resolveFn, rejectFn) {
                        var called = !1;

                        function wrap(fn) {
                            return function(value) {
                                called || (called = !0, fn.call(self, value))
                            }
                        }
                        return [wrap(resolveFn), wrap(rejectFn)]
                    }(this, this.$$resolve, this.$$reject);
                    try {
                        (isObject(val) || isFunction(val)) && (then = val && val.then), isFunction(then) ? (this.promise.$$state.status = -1, then.call(val, fns[0], fns[1], this.notify)) : (this.promise.$$state.value = val, this.promise.$$state.status = 1, scheduleProcessQueue(this.promise.$$state))
                    } catch (e) {
                        fns[1](e), exceptionHandler(e)
                    }
                },
                reject: function(reason) {
                    this.promise.$$state.status || this.$$reject(reason)
                },
                $$reject: function(reason) {
                    this.promise.$$state.value = reason, this.promise.$$state.status = 2, scheduleProcessQueue(this.promise.$$state)
                },
                notify: function(progress) {
                    var callbacks = this.promise.$$state.pending;
                    this.promise.$$state.status <= 0 && callbacks && callbacks.length && nextTick(function() {
                        for (var callback, result, i = 0, ii = callbacks.length; i < ii; i++) {
                            result = callbacks[i][0], callback = callbacks[i][3];
                            try {
                                result.notify(isFunction(callback) ? callback(progress) : progress)
                            } catch (e) {
                                exceptionHandler(e)
                            }
                        }
                    })
                }
            };

            function when(value, callback, errback, progressBack) {
                var result = new Deferred;
                return result.resolve(value), result.promise.then(callback, errback, progressBack)
            }
            var makePromise = function(value, resolved) {
                    var result = new Deferred;
                    return resolved ? result.resolve(value) : result.reject(value), result.promise
                },
                handleCallback = function(value, isResolved, callback) {
                    var callbackOutput = null;
                    try {
                        isFunction(callback) && (callbackOutput = callback())
                    } catch (e) {
                        return makePromise(e, !1)
                    }
                    return isPromiseLike(callbackOutput) ? callbackOutput.then(function() {
                        return makePromise(value, isResolved)
                    }, function(error) {
                        return makePromise(error, !1)
                    }) : makePromise(value, isResolved)
                };

            function $Q(resolver) {
                if (!isFunction(resolver)) throw $qMinErr("norslvr", "Expected resolverFn, got '{0}'", resolver);
                if (!(this instanceof $Q)) return new $Q(resolver);
                var deferred = new Deferred;
                return resolver(function(value) {
                    deferred.resolve(value)
                }, function(reason) {
                    deferred.reject(reason)
                }), deferred.promise
            }
            return $Q.defer = function() {
                return new Deferred
            }, $Q.reject = function(reason) {
                var result = new Deferred;
                return result.reject(reason), result.promise
            }, $Q.when = when, $Q.all = function(promises) {
                var deferred = new Deferred,
                    counter = 0,
                    results = isArray(promises) ? [] : {};
                return forEach(promises, function(promise, key) {
                    counter++, when(promise).then(function(value) {
                        results.hasOwnProperty(key) || (results[key] = value, --counter || deferred.resolve(results))
                    }, function(reason) {
                        results.hasOwnProperty(key) || deferred.reject(reason)
                    })
                }), 0 === counter && deferred.resolve(results), deferred.promise
            }, $Q
        }

        function $$RAFProvider() {
            this.$get = ["$window", "$timeout", function($window, $timeout) {
                var requestAnimationFrame = $window.requestAnimationFrame || $window.webkitRequestAnimationFrame,
                    cancelAnimationFrame = $window.cancelAnimationFrame || $window.webkitCancelAnimationFrame || $window.webkitCancelRequestAnimationFrame,
                    rafSupported = !!requestAnimationFrame,
                    raf = rafSupported ? function(fn) {
                        var id = requestAnimationFrame(fn);
                        return function() {
                            cancelAnimationFrame(id)
                        }
                    } : function(fn) {
                        var timer = $timeout(fn, 16.66, !1);
                        return function() {
                            $timeout.cancel(timer)
                        }
                    };
                return raf.supported = rafSupported, raf
            }]
        }

        function $RootScopeProvider() {
            var TTL = 10,
                $rootScopeMinErr = minErr("$rootScope"),
                lastDirtyWatch = null,
                applyAsyncId = null;
            this.digestTtl = function(value) {
                return arguments.length && (TTL = value), TTL
            }, this.$get = ["$injector", "$exceptionHandler", "$parse", "$browser", function($injector, $exceptionHandler, $parse, $browser) {
                function destroyChildScope($event) {
                    $event.currentScope.$$destroyed = !0
                }

                function Scope() {
                    this.$id = nextUid(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, (this.$root = this).$$destroyed = !1, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$$isolateBindings = null
                }
                Scope.prototype = {
                    constructor: Scope,
                    $new: function(isolate, parent) {
                        var child;
                        return parent = parent || this, isolate ? (child = new Scope).$root = this.$root : (this.$$ChildScope || (this.$$ChildScope = function(parent) {
                            function ChildScope() {
                                this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$id = nextUid(), this.$$ChildScope = null
                            }
                            return ChildScope.prototype = parent, ChildScope
                        }(this)), child = new this.$$ChildScope), child.$parent = parent, child.$$prevSibling = parent.$$childTail, parent.$$childHead ? (parent.$$childTail.$$nextSibling = child, parent.$$childTail = child) : parent.$$childHead = parent.$$childTail = child, !isolate && parent == this || child.$on("$destroy", destroyChildScope), child
                    },
                    $watch: function(watchExp, listener, objectEquality, prettyPrintExpression) {
                        var get = $parse(watchExp);
                        if (get.$$watchDelegate) return get.$$watchDelegate(this, listener, objectEquality, get, watchExp);
                        var scope = this,
                            array = scope.$$watchers,
                            watcher = {
                                fn: listener,
                                last: initWatchVal,
                                get: get,
                                exp: prettyPrintExpression || watchExp,
                                eq: !!objectEquality
                            };
                        return lastDirtyWatch = null, isFunction(listener) || (watcher.fn = noop), array || (array = scope.$$watchers = []), array.unshift(watcher), incrementWatchersCount(this, 1),
                            function() {
                                0 <= arrayRemove(array, watcher) && incrementWatchersCount(scope, -1), lastDirtyWatch = null
                            }
                    },
                    $watchGroup: function(watchExpressions, listener) {
                        var oldValues = new Array(watchExpressions.length),
                            newValues = new Array(watchExpressions.length),
                            deregisterFns = [],
                            self = this,
                            changeReactionScheduled = !1,
                            firstRun = !0;
                        if (!watchExpressions.length) {
                            var shouldCall = !0;
                            return self.$evalAsync(function() {
                                    shouldCall && listener(newValues, newValues, self)
                                }),
                                function() {
                                    shouldCall = !1
                                }
                        }
                        if (1 === watchExpressions.length) return this.$watch(watchExpressions[0], function(value, oldValue, scope) {
                            newValues[0] = value, oldValues[0] = oldValue, listener(newValues, value === oldValue ? newValues : oldValues, scope)
                        });

                        function watchGroupAction() {
                            changeReactionScheduled = !1, firstRun ? (firstRun = !1, listener(newValues, newValues, self)) : listener(newValues, oldValues, self)
                        }
                        return forEach(watchExpressions, function(expr, i) {
                                var unwatchFn = self.$watch(expr, function(value, oldValue) {
                                    newValues[i] = value, oldValues[i] = oldValue, changeReactionScheduled || (changeReactionScheduled = !0, self.$evalAsync(watchGroupAction))
                                });
                                deregisterFns.push(unwatchFn)
                            }),
                            function() {
                                for (; deregisterFns.length;) deregisterFns.shift()()
                            }
                    },
                    $watchCollection: function(obj, listener) {
                        $watchCollectionInterceptor.$stateful = !0;
                        var newValue, oldValue, veryOldValue, self = this,
                            trackVeryOldValue = 1 < listener.length,
                            changeDetected = 0,
                            changeDetector = $parse(obj, $watchCollectionInterceptor),
                            internalArray = [],
                            internalObject = {},
                            initRun = !0,
                            oldLength = 0;

                        function $watchCollectionInterceptor(_value) {
                            var newLength, key, newItem, oldItem;
                            if (!isUndefined(newValue = _value)) {
                                if (isObject(newValue))
                                    if (isArrayLike(newValue)) {
                                        oldValue !== internalArray && (oldLength = (oldValue = internalArray).length = 0, changeDetected++), newLength = newValue.length, oldLength !== newLength && (changeDetected++, oldValue.length = oldLength = newLength);
                                        for (var i = 0; i < newLength; i++) oldItem = oldValue[i], newItem = newValue[i], oldItem != oldItem && newItem != newItem || oldItem === newItem || (changeDetected++, oldValue[i] = newItem)
                                    } else {
                                        for (key in oldValue !== internalObject && (oldValue = internalObject = {}, oldLength = 0, changeDetected++), newLength = 0, newValue) newValue.hasOwnProperty(key) && (newLength++, newItem = newValue[key], oldItem = oldValue[key], key in oldValue ? oldItem != oldItem && newItem != newItem || oldItem === newItem || (changeDetected++, oldValue[key] = newItem) : (oldLength++, oldValue[key] = newItem, changeDetected++));
                                        if (newLength < oldLength)
                                            for (key in changeDetected++, oldValue) newValue.hasOwnProperty(key) || (oldLength--, delete oldValue[key])
                                    }
                                else oldValue !== newValue && (oldValue = newValue, changeDetected++);
                                return changeDetected
                            }
                        }
                        return this.$watch(changeDetector, function() {
                            if (initRun ? (initRun = !1, listener(newValue, newValue, self)) : listener(newValue, veryOldValue, self), trackVeryOldValue)
                                if (isObject(newValue))
                                    if (isArrayLike(newValue)) {
                                        veryOldValue = new Array(newValue.length);
                                        for (var i = 0; i < newValue.length; i++) veryOldValue[i] = newValue[i]
                                    } else
                                        for (var key in veryOldValue = {}, newValue) hasOwnProperty.call(newValue, key) && (veryOldValue[key] = newValue[key]);
                            else veryOldValue = newValue
                        })
                    },
                    $digest: function() {
                        var watch, value, last, watchers, length, dirty, next, current, logIdx, asyncTask, ttl = TTL,
                            watchLog = [];
                        beginPhase("$digest"), $browser.$$checkUrlChange(), this === $rootScope && null !== applyAsyncId && ($browser.defer.cancel(applyAsyncId), flushApplyAsync()), lastDirtyWatch = null;
                        do {
                            for (dirty = !1, current = this; asyncQueue.length;) {
                                try {
                                    (asyncTask = asyncQueue.shift()).scope.$eval(asyncTask.expression, asyncTask.locals)
                                } catch (e) {
                                    $exceptionHandler(e)
                                }
                                lastDirtyWatch = null
                            }
                            traverseScopesLoop: do {
                                if (watchers = current.$$watchers)
                                    for (length = watchers.length; length--;) try {
                                        if (watch = watchers[length])
                                            if ((value = watch.get(current)) === (last = watch.last) || (watch.eq ? equals(value, last) : "number" == typeof value && "number" == typeof last && isNaN(value) && isNaN(last))) {
                                                if (watch === lastDirtyWatch) {
                                                    dirty = !1;
                                                    break traverseScopesLoop
                                                }
                                            } else dirty = !0, (lastDirtyWatch = watch).last = watch.eq ? copy(value, null) : value, watch.fn(value, last === initWatchVal ? value : last, current), ttl < 5 && (watchLog[logIdx = 4 - ttl] || (watchLog[logIdx] = []), watchLog[logIdx].push({
                                                msg: isFunction(watch.exp) ? "fn: " + (watch.exp.name || watch.exp.toString()) : watch.exp,
                                                newVal: value,
                                                oldVal: last
                                            }))
                                    } catch (e) {
                                        $exceptionHandler(e)
                                    }
                                if (!(next = current.$$watchersCount && current.$$childHead || current !== this && current.$$nextSibling))
                                    for (; current !== this && !(next = current.$$nextSibling);) current = current.$parent
                            } while (current = next);
                            if ((dirty || asyncQueue.length) && !ttl--) throw clearPhase(), $rootScopeMinErr("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", TTL, watchLog)
                        } while (dirty || asyncQueue.length);
                        for (clearPhase(); postDigestQueue.length;) try {
                            postDigestQueue.shift()()
                        } catch (e) {
                            $exceptionHandler(e)
                        }
                    },
                    $destroy: function() {
                        if (!this.$$destroyed) {
                            var parent = this.$parent;
                            if (this.$broadcast("$destroy"), this.$$destroyed = !0, this !== $rootScope) {
                                for (var eventName in incrementWatchersCount(this, -this.$$watchersCount), this.$$listenerCount) decrementListenerCount(this, this.$$listenerCount[eventName], eventName);
                                parent.$$childHead == this && (parent.$$childHead = this.$$nextSibling), parent.$$childTail == this && (parent.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = noop, this.$on = this.$watch = this.$watchGroup = function() {
                                    return noop
                                }, this.$$listeners = {}, this.$parent = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = this.$root = this.$$watchers = null
                            }
                        }
                    },
                    $eval: function(expr, locals) {
                        return $parse(expr)(this, locals)
                    },
                    $evalAsync: function(expr, locals) {
                        $rootScope.$$phase || asyncQueue.length || $browser.defer(function() {
                            asyncQueue.length && $rootScope.$digest()
                        }), asyncQueue.push({
                            scope: this,
                            expression: expr,
                            locals: locals
                        })
                    },
                    $$postDigest: function(fn) {
                        postDigestQueue.push(fn)
                    },
                    $apply: function(expr) {
                        try {
                            return beginPhase("$apply"), this.$eval(expr)
                        } catch (e) {
                            $exceptionHandler(e)
                        } finally {
                            clearPhase();
                            try {
                                $rootScope.$digest()
                            } catch (e) {
                                throw $exceptionHandler(e), e
                            }
                        }
                    },
                    $applyAsync: function(expr) {
                        var scope = this;
                        expr && applyAsyncQueue.push(function() {
                            scope.$eval(expr)
                        }), null === applyAsyncId && (applyAsyncId = $browser.defer(function() {
                            $rootScope.$apply(flushApplyAsync)
                        }))
                    },
                    $on: function(name, listener) {
                        var namedListeners = this.$$listeners[name];
                        namedListeners || (this.$$listeners[name] = namedListeners = []), namedListeners.push(listener);
                        for (var current = this; current.$$listenerCount[name] || (current.$$listenerCount[name] = 0), current.$$listenerCount[name]++, current = current.$parent;);
                        var self = this;
                        return function() {
                            var indexOfListener = namedListeners.indexOf(listener); - 1 !== indexOfListener && (namedListeners[indexOfListener] = null, decrementListenerCount(self, 1, name))
                        }
                    },
                    $emit: function(name, args) {
                        var namedListeners, i, length, empty = [],
                            scope = this,
                            stopPropagation = !1,
                            event = {
                                name: name,
                                targetScope: scope,
                                stopPropagation: function() {
                                    stopPropagation = !0
                                },
                                preventDefault: function() {
                                    event.defaultPrevented = !0
                                },
                                defaultPrevented: !1
                            },
                            listenerArgs = concat([event], arguments, 1);
                        do {
                            for (namedListeners = scope.$$listeners[name] || empty, event.currentScope = scope, i = 0, length = namedListeners.length; i < length; i++)
                                if (namedListeners[i]) try {
                                    namedListeners[i].apply(null, listenerArgs)
                                } catch (e) {
                                    $exceptionHandler(e)
                                } else namedListeners.splice(i, 1), i--, length--;
                            if (stopPropagation) return event.currentScope = null, event;
                            scope = scope.$parent
                        } while (scope);
                        return event.currentScope = null, event
                    },
                    $broadcast: function(name, args) {
                        var current = this,
                            next = this,
                            event = {
                                name: name,
                                targetScope: this,
                                preventDefault: function() {
                                    event.defaultPrevented = !0
                                },
                                defaultPrevented: !1
                            };
                        if (!this.$$listenerCount[name]) return event;
                        for (var listeners, i, length, listenerArgs = concat([event], arguments, 1); current = next;) {
                            for (i = 0, length = (listeners = (event.currentScope = current).$$listeners[name] || []).length; i < length; i++)
                                if (listeners[i]) try {
                                    listeners[i].apply(null, listenerArgs)
                                } catch (e) {
                                    $exceptionHandler(e)
                                } else listeners.splice(i, 1), i--, length--;
                            if (!(next = current.$$listenerCount[name] && current.$$childHead || current !== this && current.$$nextSibling))
                                for (; current !== this && !(next = current.$$nextSibling);) current = current.$parent
                        }
                        return event.currentScope = null, event
                    }
                };
                var $rootScope = new Scope,
                    asyncQueue = $rootScope.$$asyncQueue = [],
                    postDigestQueue = $rootScope.$$postDigestQueue = [],
                    applyAsyncQueue = $rootScope.$$applyAsyncQueue = [];
                return $rootScope;

                function beginPhase(phase) {
                    if ($rootScope.$$phase) throw $rootScopeMinErr("inprog", "{0} already in progress", $rootScope.$$phase);
                    $rootScope.$$phase = phase
                }

                function clearPhase() {
                    $rootScope.$$phase = null
                }

                function incrementWatchersCount(current, count) {
                    for (; current.$$watchersCount += count, current = current.$parent;);
                }

                function decrementListenerCount(current, count, name) {
                    for (; current.$$listenerCount[name] -= count, 0 === current.$$listenerCount[name] && delete current.$$listenerCount[name], current = current.$parent;);
                }

                function initWatchVal() {}

                function flushApplyAsync() {
                    for (; applyAsyncQueue.length;) try {
                        applyAsyncQueue.shift()()
                    } catch (e) {
                        $exceptionHandler(e)
                    }
                    applyAsyncId = null
                }
            }]
        }

        function $$SanitizeUriProvider() {
            var aHrefSanitizationWhitelist = /^\s*(https?|ftp|mailto|tel|file):/,
                imgSrcSanitizationWhitelist = /^\s*((https?|ftp|file|blob):|data:image\/)/;
            this.aHrefSanitizationWhitelist = function(regexp) {
                return isDefined(regexp) ? (aHrefSanitizationWhitelist = regexp, this) : aHrefSanitizationWhitelist
            }, this.imgSrcSanitizationWhitelist = function(regexp) {
                return isDefined(regexp) ? (imgSrcSanitizationWhitelist = regexp, this) : imgSrcSanitizationWhitelist
            }, this.$get = function() {
                return function(uri, isImage) {
                    var normalizedVal, regex = isImage ? imgSrcSanitizationWhitelist : aHrefSanitizationWhitelist;
                    return "" === (normalizedVal = urlResolve(uri).href) || normalizedVal.match(regex) ? uri : "unsafe:" + normalizedVal
                }
            }
        }
        var $sceMinErr = minErr("$sce"),
            SCE_CONTEXTS = {
                HTML: "html",
                CSS: "css",
                URL: "url",
                RESOURCE_URL: "resourceUrl",
                JS: "js"
            };

        function adjustMatchers(matchers) {
            var adjustedMatchers = [];
            return isDefined(matchers) && forEach(matchers, function(matcher) {
                adjustedMatchers.push(function(matcher) {
                    if ("self" === matcher) return matcher;
                    if (isString(matcher)) {
                        if (-1 < matcher.indexOf("***")) throw $sceMinErr("iwcard", "Illegal sequence *** in string matcher.  String: {0}", matcher);
                        return matcher = escapeForRegexp(matcher).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"), new RegExp("^" + matcher + "$")
                    }
                    if (isRegExp(matcher)) return new RegExp("^" + matcher.source + "$");
                    throw $sceMinErr("imatcher", 'Matchers may only be "self", string patterns or RegExp objects')
                }(matcher))
            }), adjustedMatchers
        }

        function $SceDelegateProvider() {
            this.SCE_CONTEXTS = SCE_CONTEXTS;
            var resourceUrlWhitelist = ["self"],
                resourceUrlBlacklist = [];
            this.resourceUrlWhitelist = function(value) {
                return arguments.length && (resourceUrlWhitelist = adjustMatchers(value)), resourceUrlWhitelist
            }, this.resourceUrlBlacklist = function(value) {
                return arguments.length && (resourceUrlBlacklist = adjustMatchers(value)), resourceUrlBlacklist
            }, this.$get = ["$injector", function($injector) {
                var htmlSanitizer = function(html) {
                    throw $sceMinErr("unsafe", "Attempting to use an unsafe value in a safe context.")
                };

                function matchUrl(matcher, parsedUrl) {
                    return "self" === matcher ? urlIsSameOrigin(parsedUrl) : !!matcher.exec(parsedUrl.href)
                }

                function generateHolderType(Base) {
                    function holderType(trustedValue) {
                        this.$$unwrapTrustedValue = function() {
                            return trustedValue
                        }
                    }
                    return Base && (holderType.prototype = new Base), holderType.prototype.valueOf = function() {
                        return this.$$unwrapTrustedValue()
                    }, holderType.prototype.toString = function() {
                        return this.$$unwrapTrustedValue().toString()
                    }, holderType
                }
                $injector.has("$sanitize") && (htmlSanitizer = $injector.get("$sanitize"));
                var trustedValueHolderBase = generateHolderType(),
                    byType = {};
                return byType[SCE_CONTEXTS.HTML] = generateHolderType(trustedValueHolderBase), byType[SCE_CONTEXTS.CSS] = generateHolderType(trustedValueHolderBase), byType[SCE_CONTEXTS.URL] = generateHolderType(trustedValueHolderBase), byType[SCE_CONTEXTS.JS] = generateHolderType(trustedValueHolderBase), byType[SCE_CONTEXTS.RESOURCE_URL] = generateHolderType(byType[SCE_CONTEXTS.URL]), {
                    trustAs: function(type, trustedValue) {
                        var Constructor = byType.hasOwnProperty(type) ? byType[type] : null;
                        if (!Constructor) throw $sceMinErr("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", type, trustedValue);
                        if (null === trustedValue || trustedValue === undefined || "" === trustedValue) return trustedValue;
                        if ("string" != typeof trustedValue) throw $sceMinErr("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", type);
                        return new Constructor(trustedValue)
                    },
                    getTrusted: function(type, maybeTrusted) {
                        if (null === maybeTrusted || maybeTrusted === undefined || "" === maybeTrusted) return maybeTrusted;
                        var constructor = byType.hasOwnProperty(type) ? byType[type] : null;
                        if (constructor && maybeTrusted instanceof constructor) return maybeTrusted.$$unwrapTrustedValue();
                        if (type === SCE_CONTEXTS.RESOURCE_URL) {
                            if (function(url) {
                                    var i, n, parsedUrl = urlResolve(url.toString()),
                                        allowed = !1;
                                    for (i = 0, n = resourceUrlWhitelist.length; i < n; i++)
                                        if (matchUrl(resourceUrlWhitelist[i], parsedUrl)) {
                                            allowed = !0;
                                            break
                                        } if (allowed)
                                        for (i = 0, n = resourceUrlBlacklist.length; i < n; i++)
                                            if (matchUrl(resourceUrlBlacklist[i], parsedUrl)) {
                                                allowed = !1;
                                                break
                                            } return allowed
                                }(maybeTrusted)) return maybeTrusted;
                            throw $sceMinErr("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", maybeTrusted.toString())
                        }
                        if (type === SCE_CONTEXTS.HTML) return htmlSanitizer(maybeTrusted);
                        throw $sceMinErr("unsafe", "Attempting to use an unsafe value in a safe context.")
                    },
                    valueOf: function(maybeTrusted) {
                        return maybeTrusted instanceof trustedValueHolderBase ? maybeTrusted.$$unwrapTrustedValue() : maybeTrusted
                    }
                }
            }]
        }

        function $SceProvider() {
            var enabled = !0;
            this.enabled = function(value) {
                return arguments.length && (enabled = !!value), enabled
            }, this.$get = ["$parse", "$sceDelegate", function($parse, $sceDelegate) {
                if (enabled && msie < 8) throw $sceMinErr("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
                var sce = shallowCopy(SCE_CONTEXTS);
                sce.isEnabled = function() {
                    return enabled
                }, sce.trustAs = $sceDelegate.trustAs, sce.getTrusted = $sceDelegate.getTrusted, sce.valueOf = $sceDelegate.valueOf, enabled || (sce.trustAs = sce.getTrusted = function(type, value) {
                    return value
                }, sce.valueOf = identity), sce.parseAs = function(type, expr) {
                    var parsed = $parse(expr);
                    return parsed.literal && parsed.constant ? parsed : $parse(expr, function(value) {
                        return sce.getTrusted(type, value)
                    })
                };
                var parse = sce.parseAs,
                    getTrusted = sce.getTrusted,
                    trustAs = sce.trustAs;
                return forEach(SCE_CONTEXTS, function(enumValue, name) {
                    var lName = lowercase(name);
                    sce[camelCase("parse_as_" + lName)] = function(expr) {
                        return parse(enumValue, expr)
                    }, sce[camelCase("get_trusted_" + lName)] = function(value) {
                        return getTrusted(enumValue, value)
                    }, sce[camelCase("trust_as_" + lName)] = function(value) {
                        return trustAs(enumValue, value)
                    }
                }), sce
            }]
        }

        function $SnifferProvider() {
            this.$get = ["$window", "$document", function($window, $document) {
                var vendorPrefix, match, eventSupport = {},
                    android = toInt((/android (\d+)/.exec(lowercase(($window.navigator || {}).userAgent)) || [])[1]),
                    boxee = /Boxee/i.test(($window.navigator || {}).userAgent),
                    document = $document[0] || {},
                    vendorRegex = /^(Moz|webkit|ms)(?=[A-Z])/,
                    bodyStyle = document.body && document.body.style,
                    transitions = !1,
                    animations = !1;
                if (bodyStyle) {
                    for (var prop in bodyStyle)
                        if (match = vendorRegex.exec(prop)) {
                            vendorPrefix = (vendorPrefix = match[0]).substr(0, 1).toUpperCase() + vendorPrefix.substr(1);
                            break
                        } vendorPrefix || (vendorPrefix = "WebkitOpacity" in bodyStyle && "webkit"), transitions = !!("transition" in bodyStyle || vendorPrefix + "Transition" in bodyStyle), animations = !!("animation" in bodyStyle || vendorPrefix + "Animation" in bodyStyle), !android || transitions && animations || (transitions = isString(bodyStyle.webkitTransition), animations = isString(bodyStyle.webkitAnimation))
                }
                return {
                    history: !(!$window.history || !$window.history.pushState || android < 4 || boxee),
                    hasEvent: function(event) {
                        if ("input" === event && msie <= 11) return !1;
                        if (isUndefined(eventSupport[event])) {
                            var divElm = document.createElement("div");
                            eventSupport[event] = "on" + event in divElm
                        }
                        return eventSupport[event]
                    },
                    csp: csp(),
                    vendorPrefix: vendorPrefix,
                    transitions: transitions,
                    animations: animations,
                    android: android
                }
            }]
        }
        $compileMinErr = minErr("$compile");

        function $TemplateRequestProvider() {
            this.$get = ["$templateCache", "$http", "$q", function($templateCache, $http, $q) {
                function handleRequestFn(tpl, ignoreRequestError) {
                    handleRequestFn.totalPendingRequests++;
                    var transformResponse = $http.defaults && $http.defaults.transformResponse;
                    isArray(transformResponse) ? transformResponse = transformResponse.filter(function(transformer) {
                        return transformer !== defaultHttpResponseTransform
                    }) : transformResponse === defaultHttpResponseTransform && (transformResponse = null);
                    var httpOptions = {
                        cache: $templateCache,
                        transformResponse: transformResponse
                    };
                    return $http.get(tpl, httpOptions).finally(function() {
                        handleRequestFn.totalPendingRequests--
                    }).then(function(response) {
                        return $templateCache.put(tpl, response.data), response.data
                    }, function(resp) {
                        if (ignoreRequestError) return $q.reject(resp);
                        throw $compileMinErr("tpload", "Failed to load template: {0} (HTTP status: {1} {2})", tpl, resp.status, resp.statusText)
                    })
                }
                return handleRequestFn.totalPendingRequests = 0, handleRequestFn
            }]
        }

        function $$TestabilityProvider() {
            this.$get = ["$rootScope", "$browser", "$location", function($rootScope, $browser, $location) {
                var testability = {
                    findBindings: function(element, expression, opt_exactMatch) {
                        var bindings = element.getElementsByClassName("ng-binding"),
                            matches = [];
                        return forEach(bindings, function(binding) {
                            var dataBinding = angular.element(binding).data("$binding");
                            dataBinding && forEach(dataBinding, function(bindingName) {
                                opt_exactMatch ? new RegExp("(^|\\s)" + escapeForRegexp(expression) + "(\\s|\\||$)").test(bindingName) && matches.push(binding) : -1 != bindingName.indexOf(expression) && matches.push(binding)
                            })
                        }), matches
                    },
                    findModels: function(element, expression, opt_exactMatch) {
                        for (var prefixes = ["ng-", "data-ng-", "ng\\:"], p = 0; p < prefixes.length; ++p) {
                            var selector = "[" + prefixes[p] + "model" + (opt_exactMatch ? "=" : "*=") + '"' + expression + '"]',
                                elements = element.querySelectorAll(selector);
                            if (elements.length) return elements
                        }
                    },
                    getLocation: function() {
                        return $location.url()
                    },
                    setLocation: function(url) {
                        url !== $location.url() && ($location.url(url), $rootScope.$digest())
                    },
                    whenStable: function(callback) {
                        $browser.notifyWhenNoOutstandingRequests(callback)
                    }
                };
                return testability
            }]
        }

        function $TimeoutProvider() {
            this.$get = ["$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function($rootScope, $browser, $q, $$q, $exceptionHandler) {
                var deferreds = {};

                function timeout(fn, delay, invokeApply) {
                    isFunction(fn) || (invokeApply = delay, delay = fn, fn = noop);
                    var timeoutId, args = sliceArgs(arguments, 3),
                        skipApply = isDefined(invokeApply) && !invokeApply,
                        deferred = (skipApply ? $$q : $q).defer(),
                        promise = deferred.promise;
                    return timeoutId = $browser.defer(function() {
                        try {
                            deferred.resolve(fn.apply(null, args))
                        } catch (e) {
                            deferred.reject(e), $exceptionHandler(e)
                        } finally {
                            delete deferreds[promise.$$timeoutId]
                        }
                        skipApply || $rootScope.$apply()
                    }, delay), promise.$$timeoutId = timeoutId, deferreds[timeoutId] = deferred, promise
                }
                return timeout.cancel = function(promise) {
                    return !!(promise && promise.$$timeoutId in deferreds) && (deferreds[promise.$$timeoutId].reject("canceled"), delete deferreds[promise.$$timeoutId], $browser.defer.cancel(promise.$$timeoutId))
                }, timeout
            }]
        }
        var urlParsingNode = document.createElement("a"),
            originUrl = urlResolve(window.location.href);

        function urlResolve(url) {
            var href = url;
            return msie && (urlParsingNode.setAttribute("href", href), href = urlParsingNode.href), urlParsingNode.setAttribute("href", href), {
                href: urlParsingNode.href,
                protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, "") : "",
                host: urlParsingNode.host,
                search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, "") : "",
                hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, "") : "",
                hostname: urlParsingNode.hostname,
                port: urlParsingNode.port,
                pathname: "/" === urlParsingNode.pathname.charAt(0) ? urlParsingNode.pathname : "/" + urlParsingNode.pathname
            }
        }

        function urlIsSameOrigin(requestUrl) {
            var parsed = isString(requestUrl) ? urlResolve(requestUrl) : requestUrl;
            return parsed.protocol === originUrl.protocol && parsed.host === originUrl.host
        }

        function $WindowProvider() {
            this.$get = valueFn(window)
        }

        function $$CookieReader($document) {
            var rawDocument = $document[0],
                lastCookies = {},
                lastCookieString = "";

            function safeDecodeURIComponent(str) {
                try {
                    return decodeURIComponent(str)
                } catch (e) {
                    return str
                }
            }
            return function() {
                var cookieArray, cookie, i, index, name;
                if (rawDocument.cookie !== lastCookieString)
                    for (cookieArray = (lastCookieString = rawDocument.cookie).split("; "), lastCookies = {}, i = 0; i < cookieArray.length; i++) 0 < (index = (cookie = cookieArray[i]).indexOf("=")) && (name = safeDecodeURIComponent(cookie.substring(0, index)), lastCookies[name] === undefined && (lastCookies[name] = safeDecodeURIComponent(cookie.substring(index + 1))));
                return lastCookies
            }
        }

        function $$CookieReaderProvider() {
            this.$get = $$CookieReader
        }

        function $FilterProvider($provide) {
            var suffix = "Filter";

            function register(name, factory) {
                if (isObject(name)) {
                    var filters = {};
                    return forEach(name, function(filter, key) {
                        filters[key] = register(key, filter)
                    }), filters
                }
                return $provide.factory(name + suffix, factory)
            }
            this.register = register, this.$get = ["$injector", function($injector) {
                return function(name) {
                    return $injector.get(name + suffix)
                }
            }], register("currency", currencyFilter), register("date", dateFilter), register("filter", filterFilter), register("json", jsonFilter), register("limitTo", limitToFilter), register("lowercase", lowercaseFilter), register("number", numberFilter), register("orderBy", orderByFilter), register("uppercase", uppercaseFilter)
        }

        function filterFilter() {
            return function(array, expression, comparator) {
                if (!isArray(array)) {
                    if (null == array) return array;
                    throw minErr("filter")("notarray", "Expected array but received: {0}", array)
                }
                var predicateFn, matchAgainstAnyProp;
                switch (typeof expression) {
                    case "function":
                        predicateFn = expression;
                        break;
                    case "boolean":
                    case "number":
                    case "string":
                        matchAgainstAnyProp = !0;
                    case "object":
                        predicateFn = function(expression, comparator, matchAgainstAnyProp) {
                            var shouldMatchPrimitives = isObject(expression) && "$" in expression;
                            !0 === comparator ? comparator = equals : isFunction(comparator) || (comparator = function(actual, expected) {
                                return !(isObject(expected) || isObject(actual) && ! function(obj) {
                                    return isFunction(obj.toString) && obj.toString !== Object.prototype.toString
                                }(actual)) && (actual = lowercase("" + actual), expected = lowercase("" + expected), -1 !== actual.indexOf(expected))
                            });
                            return function(item) {
                                return shouldMatchPrimitives && !isObject(item) ? deepCompare(item, expression.$, comparator, !1) : deepCompare(item, expression, comparator, matchAgainstAnyProp)
                            }
                        }(expression, comparator, matchAgainstAnyProp);
                        break;
                    default:
                        return array
                }
                return array.filter(predicateFn)
            }
        }

        function deepCompare(actual, expected, comparator, matchAgainstAnyProp, dontMatchWholeObject) {
            var actualType = null !== actual ? typeof actual : "null",
                expectedType = null !== expected ? typeof expected : "null";
            if ("string" == expectedType && "!" === expected.charAt(0)) return !deepCompare(actual, expected.substring(1), comparator, matchAgainstAnyProp);
            if (isArray(actual)) return actual.some(function(item) {
                return deepCompare(item, expected, comparator, matchAgainstAnyProp)
            });
            switch (actualType) {
                case "object":
                    var key;
                    if (matchAgainstAnyProp) {
                        for (key in actual)
                            if ("$" !== key.charAt(0) && deepCompare(actual[key], expected, comparator, !0)) return !0;
                        return !dontMatchWholeObject && deepCompare(actual, expected, comparator, !1)
                    }
                    if ("object" != expectedType) return comparator(actual, expected);
                    for (key in expected) {
                        var expectedVal = expected[key];
                        if (!isFunction(expectedVal) && !isUndefined(expectedVal)) {
                            var matchAnyProperty = "$" === key;
                            if (!deepCompare(matchAnyProperty ? actual : actual[key], expectedVal, comparator, matchAnyProperty, matchAnyProperty)) return !1
                        }
                    }
                    return !0;
                case "function":
                    return !1;
                default:
                    return comparator(actual, expected)
            }
        }

        function currencyFilter($locale) {
            var formats = $locale.NUMBER_FORMATS;
            return function(amount, currencySymbol, fractionSize) {
                return isUndefined(currencySymbol) && (currencySymbol = formats.CURRENCY_SYM), isUndefined(fractionSize) && (fractionSize = formats.PATTERNS[1].maxFrac), null == amount ? amount : formatNumber(amount, formats.PATTERNS[1], formats.GROUP_SEP, formats.DECIMAL_SEP, fractionSize).replace(/\u00A4/g, currencySymbol)
            }
        }

        function numberFilter($locale) {
            var formats = $locale.NUMBER_FORMATS;
            return function(number, fractionSize) {
                return null == number ? number : formatNumber(number, formats.PATTERNS[0], formats.GROUP_SEP, formats.DECIMAL_SEP, fractionSize)
            }
        }
        $$CookieReader.$inject = ["$document"], $FilterProvider.$inject = ["$provide"], currencyFilter.$inject = ["$locale"], numberFilter.$inject = ["$locale"];
        var DECIMAL_SEP = ".";

        function formatNumber(number, pattern, groupSep, decimalSep, fractionSize) {
            if (isObject(number)) return "";
            var isNegative = number < 0,
                isInfinity = (number = Math.abs(number)) === 1 / 0;
            if (!isInfinity && !isFinite(number)) return "";
            var numStr = number + "",
                formatedText = "",
                hasExponent = !1,
                parts = [];
            if (isInfinity && (formatedText = "∞"), !isInfinity && -1 !== numStr.indexOf("e")) {
                var match = numStr.match(/([\d\.]+)e(-?)(\d+)/);
                match && "-" == match[2] && match[3] > fractionSize + 1 ? number = 0 : (formatedText = numStr, hasExponent = !0)
            }
            if (isInfinity || hasExponent) 0 < fractionSize && number < 1 && (formatedText = number.toFixed(fractionSize), number = parseFloat(formatedText));
            else {
                var fractionLen = (numStr.split(DECIMAL_SEP)[1] || "").length;
                isUndefined(fractionSize) && (fractionSize = Math.min(Math.max(pattern.minFrac, fractionLen), pattern.maxFrac));
                var fraction = ("" + (number = +(Math.round(+(number.toString() + "e" + fractionSize)).toString() + "e" + -fractionSize))).split(DECIMAL_SEP),
                    whole = fraction[0];
                fraction = fraction[1] || "";
                var i, pos = 0,
                    lgroup = pattern.lgSize,
                    group = pattern.gSize;
                if (whole.length >= lgroup + group)
                    for (pos = whole.length - lgroup, i = 0; i < pos; i++)(pos - i) % group == 0 && 0 !== i && (formatedText += groupSep), formatedText += whole.charAt(i);
                for (i = pos; i < whole.length; i++)(whole.length - i) % lgroup == 0 && 0 !== i && (formatedText += groupSep), formatedText += whole.charAt(i);
                for (; fraction.length < fractionSize;) fraction += "0";
                fractionSize && "0" !== fractionSize && (formatedText += decimalSep + fraction.substr(0, fractionSize))
            }
            return 0 === number && (isNegative = !1), parts.push(isNegative ? pattern.negPre : pattern.posPre, formatedText, isNegative ? pattern.negSuf : pattern.posSuf), parts.join("")
        }

        function padNumber(num, digits, trim) {
            var neg = "";
            for (num < 0 && (neg = "-", num = -num), num = "" + num; num.length < digits;) num = "0" + num;
            return trim && (num = num.substr(num.length - digits)), neg + num
        }

        function dateGetter(name, size, offset, trim) {
            return offset = offset || 0,
                function(date) {
                    var value = date["get" + name]();
                    return (0 < offset || -offset < value) && (value += offset), 0 === value && -12 == offset && (value = 12), padNumber(value, size, trim)
                }
        }

        function dateStrGetter(name, shortForm) {
            return function(date, formats) {
                var value = date["get" + name]();
                return formats[uppercase(shortForm ? "SHORT" + name : name)][value]
            }
        }

        function getFirstThursdayOfYear(year) {
            var dayOfWeekOnFirst = new Date(year, 0, 1).getDay();
            return new Date(year, 0, (dayOfWeekOnFirst <= 4 ? 5 : 12) - dayOfWeekOnFirst)
        }

        function weekGetter(size) {
            return function(date) {
                var firstThurs = getFirstThursdayOfYear(date.getFullYear()),
                    diff = + function(datetime) {
                        return new Date(datetime.getFullYear(), datetime.getMonth(), datetime.getDate() + (4 - datetime.getDay()))
                    }(date) - +firstThurs;
                return padNumber(1 + Math.round(diff / 6048e5), size)
            }
        }

        function eraGetter(date, formats) {
            return date.getFullYear() <= 0 ? formats.ERAS[0] : formats.ERAS[1]
        }
        var DATE_FORMATS = {
                yyyy: dateGetter("FullYear", 4),
                yy: dateGetter("FullYear", 2, 0, !0),
                y: dateGetter("FullYear", 1),
                MMMM: dateStrGetter("Month"),
                MMM: dateStrGetter("Month", !0),
                MM: dateGetter("Month", 2, 1),
                M: dateGetter("Month", 1, 1),
                dd: dateGetter("Date", 2),
                d: dateGetter("Date", 1),
                HH: dateGetter("Hours", 2),
                H: dateGetter("Hours", 1),
                hh: dateGetter("Hours", 2, -12),
                h: dateGetter("Hours", 1, -12),
                mm: dateGetter("Minutes", 2),
                m: dateGetter("Minutes", 1),
                ss: dateGetter("Seconds", 2),
                s: dateGetter("Seconds", 1),
                sss: dateGetter("Milliseconds", 3),
                EEEE: dateStrGetter("Day"),
                EEE: dateStrGetter("Day", !0),
                a: function(date, formats) {
                    return date.getHours() < 12 ? formats.AMPMS[0] : formats.AMPMS[1]
                },
                Z: function(date, formats, offset) {
                    var zone = -1 * offset,
                        paddedZone = 0 <= zone ? "+" : "";
                    return paddedZone += padNumber(Math[0 < zone ? "floor" : "ceil"](zone / 60), 2) + padNumber(Math.abs(zone % 60), 2)
                },
                ww: weekGetter(2),
                w: weekGetter(1),
                G: eraGetter,
                GG: eraGetter,
                GGG: eraGetter,
                GGGG: function(date, formats) {
                    return date.getFullYear() <= 0 ? formats.ERANAMES[0] : formats.ERANAMES[1]
                }
            },
            DATE_FORMATS_SPLIT = /((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
            NUMBER_STRING = /^\-?\d+$/;

        function dateFilter($locale) {
            var R_ISO8601_STR = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
            return function(date, format, timezone) {
                var fn, match, text = "",
                    parts = [];
                if (format = format || "mediumDate", format = $locale.DATETIME_FORMATS[format] || format, isString(date) && (date = NUMBER_STRING.test(date) ? toInt(date) : function(string) {
                        var match;
                        if (match = string.match(R_ISO8601_STR)) {
                            var date = new Date(0),
                                tzHour = 0,
                                tzMin = 0,
                                dateSetter = match[8] ? date.setUTCFullYear : date.setFullYear,
                                timeSetter = match[8] ? date.setUTCHours : date.setHours;
                            match[9] && (tzHour = toInt(match[9] + match[10]), tzMin = toInt(match[9] + match[11])), dateSetter.call(date, toInt(match[1]), toInt(match[2]) - 1, toInt(match[3]));
                            var h = toInt(match[4] || 0) - tzHour,
                                m = toInt(match[5] || 0) - tzMin,
                                s = toInt(match[6] || 0),
                                ms = Math.round(1e3 * parseFloat("0." + (match[7] || 0)));
                            return timeSetter.call(date, h, m, s, ms), date
                        }
                        return string
                    }(date)), isNumber(date) && (date = new Date(date)), !isDate(date) || !isFinite(date.getTime())) return date;
                for (; format;) format = (match = DATE_FORMATS_SPLIT.exec(format)) ? (parts = concat(parts, match, 1)).pop() : (parts.push(format), null);
                var dateTimezoneOffset = date.getTimezoneOffset();
                return timezone && (dateTimezoneOffset = timezoneToOffset(timezone, date.getTimezoneOffset()), date = convertTimezoneToLocal(date, timezone, !0)), forEach(parts, function(value) {
                    fn = DATE_FORMATS[value], text += fn ? fn(date, $locale.DATETIME_FORMATS, dateTimezoneOffset) : value.replace(/(^'|'$)/g, "").replace(/''/g, "'")
                }), text
            }
        }

        function jsonFilter() {
            return function(object, spacing) {
                return isUndefined(spacing) && (spacing = 2), toJson(object, spacing)
            }
        }
        dateFilter.$inject = ["$locale"];
        var lowercaseFilter = valueFn(lowercase),
            uppercaseFilter = valueFn(uppercase);

        function limitToFilter() {
            return function(input, limit, begin) {
                return limit = Math.abs(Number(limit)) === 1 / 0 ? Number(limit) : toInt(limit), isNaN(limit) ? input : (isNumber(input) && (input = input.toString()), isArray(input) || isString(input) ? (begin = (begin = !begin || isNaN(begin) ? 0 : toInt(begin)) < 0 && begin >= -input.length ? input.length + begin : begin, 0 <= limit ? input.slice(begin, begin + limit) : 0 === begin ? input.slice(limit, input.length) : input.slice(Math.max(0, begin + limit), begin)) : input)
            }
        }

        function orderByFilter($parse) {
            return function(array, sortPredicate, reverseOrder) {
                return isArrayLike(array) ? (0 === (sortPredicate = isArray(sortPredicate) ? sortPredicate : [sortPredicate]).length && (sortPredicate = ["+"]), sortPredicate = sortPredicate.map(function(predicate) {
                    var descending = !1,
                        get = predicate || identity;
                    if (isString(predicate)) {
                        if ("+" != predicate.charAt(0) && "-" != predicate.charAt(0) || (descending = "-" == predicate.charAt(0), predicate = predicate.substring(1)), "" === predicate) return reverseComparator(compare, descending);
                        if ((get = $parse(predicate)).constant) {
                            var key = get();
                            return reverseComparator(function(a, b) {
                                return compare(a[key], b[key])
                            }, descending)
                        }
                    }
                    return reverseComparator(function(a, b) {
                        return compare(get(a), get(b))
                    }, descending)
                }), slice.call(array).sort(reverseComparator(function(o1, o2) {
                    for (var i = 0; i < sortPredicate.length; i++) {
                        var comp = sortPredicate[i](o1, o2);
                        if (0 !== comp) return comp
                    }
                    return 0
                }, reverseOrder))) : array;

                function reverseComparator(comp, descending) {
                    return descending ? function(a, b) {
                        return comp(b, a)
                    } : comp
                }

                function isPrimitive(value) {
                    switch (typeof value) {
                        case "number":
                        case "boolean":
                        case "string":
                            return !0;
                        default:
                            return !1
                    }
                }

                function objectToString(value) {
                    return null === value ? "null" : "function" == typeof value.valueOf && isPrimitive(value = value.valueOf()) ? value : "function" == typeof value.toString && isPrimitive(value = value.toString()) ? value : ""
                }

                function compare(v1, v2) {
                    var t1 = typeof v1,
                        t2 = typeof v2;
                    return t1 == t2 && "object" == t1 && (v1 = objectToString(v1), v2 = objectToString(v2)), t1 == t2 ? ("string" == t1 && (v1 = v1.toLowerCase(), v2 = v2.toLowerCase()), v1 === v2 ? 0 : v1 < v2 ? -1 : 1) : t1 < t2 ? -1 : 1
                }
            }
        }

        function ngDirective(directive) {
            return isFunction(directive) && (directive = {
                link: directive
            }), directive.restrict = directive.restrict || "AC", valueFn(directive)
        }
        orderByFilter.$inject = ["$parse"];
        var htmlAnchorDirective = valueFn({
                restrict: "E",
                compile: function(element, attr) {
                    if (!attr.href && !attr.xlinkHref) return function(scope, element) {
                        if ("a" === element[0].nodeName.toLowerCase()) {
                            var href = "[object SVGAnimatedString]" === toString.call(element.prop("href")) ? "xlink:href" : "href";
                            element.on("click", function(event) {
                                element.attr(href) || event.preventDefault()
                            })
                        }
                    }
                }
            }),
            ngAttributeAliasDirectives = {};
        forEach(BOOLEAN_ATTR, function(propName, attrName) {
            if ("multiple" != propName) {
                var normalized = directiveNormalize("ng-" + attrName),
                    linkFn = defaultLinkFn;
                "checked" === propName && (linkFn = function(scope, element, attr) {
                    attr.ngModel !== attr[normalized] && defaultLinkFn(scope, 0, attr)
                }), ngAttributeAliasDirectives[normalized] = function() {
                    return {
                        restrict: "A",
                        priority: 100,
                        link: linkFn
                    }
                }
            }

            function defaultLinkFn(scope, element, attr) {
                scope.$watch(attr[normalized], function(value) {
                    attr.$set(attrName, !!value)
                })
            }
        }), forEach(ALIASED_ATTR, function(htmlAttr, ngAttr) {
            ngAttributeAliasDirectives[ngAttr] = function() {
                return {
                    priority: 100,
                    link: function(scope, element, attr) {
                        if ("ngPattern" === ngAttr && "/" == attr.ngPattern.charAt(0)) {
                            var match = attr.ngPattern.match(REGEX_STRING_REGEXP);
                            if (match) return void attr.$set("ngPattern", new RegExp(match[1], match[2]))
                        }
                        scope.$watch(attr[ngAttr], function(value) {
                            attr.$set(ngAttr, value)
                        })
                    }
                }
            }
        }), forEach(["src", "srcset", "href"], function(attrName) {
            var normalized = directiveNormalize("ng-" + attrName);
            ngAttributeAliasDirectives[normalized] = function() {
                return {
                    priority: 99,
                    link: function(scope, element, attr) {
                        var propName = attrName,
                            name = attrName;
                        "href" === attrName && "[object SVGAnimatedString]" === toString.call(element.prop("href")) && (name = "xlinkHref", attr.$attr[name] = "xlink:href", propName = null), attr.$observe(normalized, function(value) {
                            value ? (attr.$set(name, value), msie && propName && element.prop(propName, attr[name])) : "href" === attrName && attr.$set(name, null)
                        })
                    }
                }
            }
        });
        var nullFormCtrl = {
            $addControl: noop,
            $$renameControl: function(control, name) {
                control.$name = name
            },
            $removeControl: noop,
            $setValidity: noop,
            $setDirty: noop,
            $setPristine: noop,
            $setSubmitted: noop
        };

        function FormController(element, attrs, $scope, $animate, $interpolate) {
            var form = this,
                controls = [],
                parentForm = form.$$parentForm = element.parent().controller("form") || nullFormCtrl;
            form.$error = {}, form.$$success = {}, form.$pending = undefined, form.$name = $interpolate(attrs.name || attrs.ngForm || "")($scope), form.$dirty = !1, form.$pristine = !0, form.$valid = !0, form.$invalid = !1, form.$submitted = !1, parentForm.$addControl(form), form.$rollbackViewValue = function() {
                forEach(controls, function(control) {
                    control.$rollbackViewValue()
                })
            }, form.$commitViewValue = function() {
                forEach(controls, function(control) {
                    control.$commitViewValue()
                })
            }, form.$addControl = function(control) {
                assertNotHasOwnProperty(control.$name, "input"), controls.push(control), control.$name && (form[control.$name] = control)
            }, form.$$renameControl = function(control, newName) {
                var oldName = control.$name;
                form[oldName] === control && delete form[oldName], (form[newName] = control).$name = newName
            }, form.$removeControl = function(control) {
                control.$name && form[control.$name] === control && delete form[control.$name], forEach(form.$pending, function(value, name) {
                    form.$setValidity(name, null, control)
                }), forEach(form.$error, function(value, name) {
                    form.$setValidity(name, null, control)
                }), forEach(form.$$success, function(value, name) {
                    form.$setValidity(name, null, control)
                }), arrayRemove(controls, control)
            }, addSetValidityMethod({
                ctrl: this,
                $element: element,
                set: function(object, property, controller) {
                    var list = object[property];
                    list ? -1 === list.indexOf(controller) && list.push(controller) : object[property] = [controller]
                },
                unset: function(object, property, controller) {
                    var list = object[property];
                    list && (arrayRemove(list, controller), 0 === list.length && delete object[property])
                },
                parentForm: parentForm,
                $animate: $animate
            }), form.$setDirty = function() {
                $animate.removeClass(element, PRISTINE_CLASS), $animate.addClass(element, DIRTY_CLASS), form.$dirty = !0, form.$pristine = !1, parentForm.$setDirty()
            }, form.$setPristine = function() {
                $animate.setClass(element, PRISTINE_CLASS, DIRTY_CLASS + " ng-submitted"), form.$dirty = !1, form.$pristine = !0, form.$submitted = !1, forEach(controls, function(control) {
                    control.$setPristine()
                })
            }, form.$setUntouched = function() {
                forEach(controls, function(control) {
                    control.$setUntouched()
                })
            }, form.$setSubmitted = function() {
                $animate.addClass(element, "ng-submitted"), form.$submitted = !0, parentForm.$setSubmitted()
            }
        }
        FormController.$inject = ["$element", "$attrs", "$scope", "$animate", "$interpolate"];

        function formDirectiveFactory(isNgForm) {
            return ["$timeout", function($timeout) {
                return {
                    name: "form",
                    restrict: isNgForm ? "EAC" : "E",
                    controller: FormController,
                    compile: function(formElement, attr) {
                        formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);
                        var nameAttr = attr.name ? "name" : !(!isNgForm || !attr.ngForm) && "ngForm";
                        return {
                            pre: function(scope, formElement, attr, controller) {
                                if (!("action" in attr)) {
                                    var handleFormSubmission = function(event) {
                                        scope.$apply(function() {
                                            controller.$commitViewValue(), controller.$setSubmitted()
                                        }), event.preventDefault()
                                    };
                                    addEventListenerFn(formElement[0], "submit", handleFormSubmission), formElement.on("$destroy", function() {
                                        $timeout(function() {
                                            removeEventListenerFn(formElement[0], "submit", handleFormSubmission)
                                        }, 0, !1)
                                    })
                                }
                                var parentFormCtrl = controller.$$parentForm;
                                nameAttr && (setter(scope, controller.$name, controller, controller.$name), attr.$observe(nameAttr, function(newValue) {
                                    controller.$name !== newValue && (setter(scope, controller.$name, undefined, controller.$name), parentFormCtrl.$$renameControl(controller, newValue), setter(scope, controller.$name, controller, controller.$name))
                                })), formElement.on("$destroy", function() {
                                    parentFormCtrl.$removeControl(controller), nameAttr && setter(scope, attr[nameAttr], undefined, controller.$name), extend(controller, nullFormCtrl)
                                })
                            }
                        }
                    }
                }
            }]
        }
        var formDirective = formDirectiveFactory(),
            ngFormDirective = formDirectiveFactory(!0),
            ISO_DATE_REGEXP = /\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,
            URL_REGEXP = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,
            EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
            NUMBER_REGEXP = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,
            DATE_REGEXP = /^(\d{4})-(\d{2})-(\d{2})$/,
            DATETIMELOCAL_REGEXP = /^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
            WEEK_REGEXP = /^(\d{4})-W(\d\d)$/,
            MONTH_REGEXP = /^(\d{4})-(\d\d)$/,
            TIME_REGEXP = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
            inputType = {
                text: function(scope, element, attr, ctrl, $sniffer, $browser) {
                    baseInputType(scope, element, attr, ctrl, $sniffer, $browser), stringBasedInputType(ctrl)
                },
                date: createDateInputType("date", DATE_REGEXP, createDateParser(DATE_REGEXP, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"),
                "datetime-local": createDateInputType("datetimelocal", DATETIMELOCAL_REGEXP, createDateParser(DATETIMELOCAL_REGEXP, ["yyyy", "MM", "dd", "HH", "mm", "ss", "sss"]), "yyyy-MM-ddTHH:mm:ss.sss"),
                time: createDateInputType("time", TIME_REGEXP, createDateParser(TIME_REGEXP, ["HH", "mm", "ss", "sss"]), "HH:mm:ss.sss"),
                week: createDateInputType("week", WEEK_REGEXP, function(isoWeek, existingDate) {
                    if (isDate(isoWeek)) return isoWeek;
                    if (isString(isoWeek)) {
                        WEEK_REGEXP.lastIndex = 0;
                        var parts = WEEK_REGEXP.exec(isoWeek);
                        if (parts) {
                            var year = +parts[1],
                                week = +parts[2],
                                hours = 0,
                                minutes = 0,
                                seconds = 0,
                                milliseconds = 0,
                                firstThurs = getFirstThursdayOfYear(year),
                                addDays = 7 * (week - 1);
                            return existingDate && (hours = existingDate.getHours(), minutes = existingDate.getMinutes(), seconds = existingDate.getSeconds(), milliseconds = existingDate.getMilliseconds()), new Date(year, 0, firstThurs.getDate() + addDays, hours, minutes, seconds, milliseconds)
                        }
                    }
                    return NaN
                }, "yyyy-Www"),
                month: createDateInputType("month", MONTH_REGEXP, createDateParser(MONTH_REGEXP, ["yyyy", "MM"]), "yyyy-MM"),
                number: function(scope, element, attr, ctrl, $sniffer, $browser) {
                    if (badInputChecker(scope, element, attr, ctrl), baseInputType(scope, element, attr, ctrl, $sniffer, $browser), ctrl.$$parserName = "number", ctrl.$parsers.push(function(value) {
                            return ctrl.$isEmpty(value) ? null : NUMBER_REGEXP.test(value) ? parseFloat(value) : undefined
                        }), ctrl.$formatters.push(function(value) {
                            if (!ctrl.$isEmpty(value)) {
                                if (!isNumber(value)) throw $ngModelMinErr("numfmt", "Expected `{0}` to be a number", value);
                                value = value.toString()
                            }
                            return value
                        }), isDefined(attr.min) || attr.ngMin) {
                        var minVal;
                        ctrl.$validators.min = function(value) {
                            return ctrl.$isEmpty(value) || isUndefined(minVal) || minVal <= value
                        }, attr.$observe("min", function(val) {
                            isDefined(val) && !isNumber(val) && (val = parseFloat(val, 10)), minVal = isNumber(val) && !isNaN(val) ? val : undefined, ctrl.$validate()
                        })
                    }
                    if (isDefined(attr.max) || attr.ngMax) {
                        var maxVal;
                        ctrl.$validators.max = function(value) {
                            return ctrl.$isEmpty(value) || isUndefined(maxVal) || value <= maxVal
                        }, attr.$observe("max", function(val) {
                            isDefined(val) && !isNumber(val) && (val = parseFloat(val, 10)), maxVal = isNumber(val) && !isNaN(val) ? val : undefined, ctrl.$validate()
                        })
                    }
                },
                url: function(scope, element, attr, ctrl, $sniffer, $browser) {
                    baseInputType(scope, element, attr, ctrl, $sniffer, $browser), stringBasedInputType(ctrl), ctrl.$$parserName = "url", ctrl.$validators.url = function(modelValue, viewValue) {
                        var value = modelValue || viewValue;
                        return ctrl.$isEmpty(value) || URL_REGEXP.test(value)
                    }
                },
                email: function(scope, element, attr, ctrl, $sniffer, $browser) {
                    baseInputType(scope, element, attr, ctrl, $sniffer, $browser), stringBasedInputType(ctrl), ctrl.$$parserName = "email", ctrl.$validators.email = function(modelValue, viewValue) {
                        var value = modelValue || viewValue;
                        return ctrl.$isEmpty(value) || EMAIL_REGEXP.test(value)
                    }
                },
                radio: function(scope, element, attr, ctrl) {
                    isUndefined(attr.name) && element.attr("name", nextUid());
                    element.on("click", function(ev) {
                        element[0].checked && ctrl.$setViewValue(attr.value, ev && ev.type)
                    }), ctrl.$render = function() {
                        var value = attr.value;
                        element[0].checked = value == ctrl.$viewValue
                    }, attr.$observe("value", ctrl.$render)
                },
                checkbox: function(scope, element, attr, ctrl, $sniffer, $browser, $filter, $parse) {
                    var trueValue = parseConstantExpr($parse, scope, "ngTrueValue", attr.ngTrueValue, !0),
                        falseValue = parseConstantExpr($parse, scope, "ngFalseValue", attr.ngFalseValue, !1);
                    element.on("click", function(ev) {
                        ctrl.$setViewValue(element[0].checked, ev && ev.type)
                    }), ctrl.$render = function() {
                        element[0].checked = ctrl.$viewValue
                    }, ctrl.$isEmpty = function(value) {
                        return !1 === value
                    }, ctrl.$formatters.push(function(value) {
                        return equals(value, trueValue)
                    }), ctrl.$parsers.push(function(value) {
                        return value ? trueValue : falseValue
                    })
                },
                hidden: noop,
                button: noop,
                submit: noop,
                reset: noop,
                file: noop
            };

        function stringBasedInputType(ctrl) {
            ctrl.$formatters.push(function(value) {
                return ctrl.$isEmpty(value) ? value : value.toString()
            })
        }

        function baseInputType(scope, element, attr, ctrl, $sniffer, $browser) {
            var type = lowercase(element[0].type);
            if (!$sniffer.android) {
                var composing = !1;
                element.on("compositionstart", function(data) {
                    composing = !0
                }), element.on("compositionend", function() {
                    composing = !1, listener()
                })
            }
            var listener = function(ev) {
                if (timeout && ($browser.defer.cancel(timeout), timeout = null), !composing) {
                    var value = element.val(),
                        event = ev && ev.type;
                    "password" === type || attr.ngTrim && "false" === attr.ngTrim || (value = trim(value)), (ctrl.$viewValue !== value || "" === value && ctrl.$$hasNativeValidators) && ctrl.$setViewValue(value, event)
                }
            };
            if ($sniffer.hasEvent("input")) element.on("input", listener);
            else {
                var timeout, deferListener = function(ev, input, origValue) {
                    timeout || (timeout = $browser.defer(function() {
                        timeout = null, input && input.value === origValue || listener(ev)
                    }))
                };
                element.on("keydown", function(event) {
                    var key = event.keyCode;
                    91 === key || 15 < key && key < 19 || 37 <= key && key <= 40 || deferListener(event, this, this.value)
                }), $sniffer.hasEvent("paste") && element.on("paste cut", deferListener)
            }
            element.on("change", listener), ctrl.$render = function() {
                element.val(ctrl.$isEmpty(ctrl.$viewValue) ? "" : ctrl.$viewValue)
            }
        }

        function createDateParser(regexp, mapping) {
            return function(iso, date) {
                var parts, map;
                if (isDate(iso)) return iso;
                if (isString(iso)) {
                    if ('"' == iso.charAt(0) && '"' == iso.charAt(iso.length - 1) && (iso = iso.substring(1, iso.length - 1)), ISO_DATE_REGEXP.test(iso)) return new Date(iso);
                    if (regexp.lastIndex = 0, parts = regexp.exec(iso)) return parts.shift(), map = date ? {
                        yyyy: date.getFullYear(),
                        MM: date.getMonth() + 1,
                        dd: date.getDate(),
                        HH: date.getHours(),
                        mm: date.getMinutes(),
                        ss: date.getSeconds(),
                        sss: date.getMilliseconds() / 1e3
                    } : {
                        yyyy: 1970,
                        MM: 1,
                        dd: 1,
                        HH: 0,
                        mm: 0,
                        ss: 0,
                        sss: 0
                    }, forEach(parts, function(part, index) {
                        index < mapping.length && (map[mapping[index]] = +part)
                    }), new Date(map.yyyy, map.MM - 1, map.dd, map.HH, map.mm, map.ss || 0, 1e3 * map.sss || 0)
                }
                return NaN
            }
        }

        function createDateInputType(type, regexp, parseDate, format) {
            return function(scope, element, attr, ctrl, $sniffer, $browser, $filter) {
                badInputChecker(scope, element, attr, ctrl), baseInputType(0, element, attr, ctrl, $sniffer, $browser);
                var previousDate, minVal, maxVal, timezone = ctrl && ctrl.$options && ctrl.$options.timezone;
                ctrl.$$parserName = type, ctrl.$parsers.push(function(value) {
                    if (ctrl.$isEmpty(value)) return null;
                    if (regexp.test(value)) {
                        var parsedDate = parseDate(value, previousDate);
                        return timezone && (parsedDate = convertTimezoneToLocal(parsedDate, timezone)), parsedDate
                    }
                    return undefined
                }), ctrl.$formatters.push(function(value) {
                    if (value && !isDate(value)) throw $ngModelMinErr("datefmt", "Expected `{0}` to be a date", value);
                    return isValidDate(value) ? ((previousDate = value) && timezone && (previousDate = convertTimezoneToLocal(previousDate, timezone, !0)), $filter("date")(value, format, timezone)) : (previousDate = null, "")
                }), (isDefined(attr.min) || attr.ngMin) && (ctrl.$validators.min = function(value) {
                    return !isValidDate(value) || isUndefined(minVal) || parseDate(value) >= minVal
                }, attr.$observe("min", function(val) {
                    minVal = parseObservedDateValue(val), ctrl.$validate()
                }));
                (isDefined(attr.max) || attr.ngMax) && (ctrl.$validators.max = function(value) {
                    return !isValidDate(value) || isUndefined(maxVal) || parseDate(value) <= maxVal
                }, attr.$observe("max", function(val) {
                    maxVal = parseObservedDateValue(val), ctrl.$validate()
                }));

                function isValidDate(value) {
                    return value && !(value.getTime && value.getTime() != value.getTime())
                }

                function parseObservedDateValue(val) {
                    return isDefined(val) ? isDate(val) ? val : parseDate(val) : undefined
                }
            }
        }

        function badInputChecker(scope, element, attr, ctrl) {
            var node = element[0];
            (ctrl.$$hasNativeValidators = isObject(node.validity)) && ctrl.$parsers.push(function(value) {
                var validity = element.prop(VALIDITY_STATE_PROPERTY) || {};
                return validity.badInput && !validity.typeMismatch ? undefined : value
            })
        }

        function parseConstantExpr($parse, context, name, expression, fallback) {
            var parseFn;
            if (isDefined(expression)) {
                if (!(parseFn = $parse(expression)).constant) throw minErr("ngModel")("constexpr", "Expected constant expression for `{0}`, but saw `{1}`.", name, expression);
                return parseFn(context)
            }
            return fallback
        }

        function ngValueDirective() {
            return {
                restrict: "A",
                priority: 100,
                compile: function(tpl, tplAttr) {
                    return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue) ? function(scope, elm, attr) {
                        attr.$set("value", scope.$eval(attr.ngValue))
                    } : function(scope, elm, attr) {
                        scope.$watch(attr.ngValue, function(value) {
                            attr.$set("value", value)
                        })
                    }
                }
            }
        }
        var inputDirective = ["$browser", "$sniffer", "$filter", "$parse", function($browser, $sniffer, $filter, $parse) {
                return {
                    restrict: "E",
                    require: ["?ngModel"],
                    link: {
                        pre: function(scope, element, attr, ctrls) {
                            ctrls[0] && (inputType[lowercase(attr.type)] || inputType.text)(scope, element, attr, ctrls[0], $sniffer, $browser, $filter, $parse)
                        }
                    }
                }
            }],
            CONSTANT_VALUE_REGEXP = /^(true|false|\d+)$/,
            ngBindDirective = ["$compile", function($compile) {
                return {
                    restrict: "AC",
                    compile: function(templateElement) {
                        return $compile.$$addBindingClass(templateElement),
                            function(scope, element, attr) {
                                $compile.$$addBindingInfo(element, attr.ngBind), element = element[0], scope.$watch(attr.ngBind, function(value) {
                                    element.textContent = value === undefined ? "" : value
                                })
                            }
                    }
                }
            }],
            ngBindTemplateDirective = ["$interpolate", "$compile", function($interpolate, $compile) {
                return {
                    compile: function(templateElement) {
                        return $compile.$$addBindingClass(templateElement),
                            function(scope, element, attr) {
                                var interpolateFn = $interpolate(element.attr(attr.$attr.ngBindTemplate));
                                $compile.$$addBindingInfo(element, interpolateFn.expressions), element = element[0], attr.$observe("ngBindTemplate", function(value) {
                                    element.textContent = value === undefined ? "" : value
                                })
                            }
                    }
                }
            }],
            ngBindHtmlDirective = ["$sce", "$parse", "$compile", function($sce, $parse, $compile) {
                return {
                    restrict: "A",
                    compile: function(tElement, tAttrs) {
                        var ngBindHtmlGetter = $parse(tAttrs.ngBindHtml),
                            ngBindHtmlWatch = $parse(tAttrs.ngBindHtml, function(value) {
                                return (value || "").toString()
                            });
                        return $compile.$$addBindingClass(tElement),
                            function(scope, element, attr) {
                                $compile.$$addBindingInfo(element, attr.ngBindHtml), scope.$watch(ngBindHtmlWatch, function() {
                                    element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope)) || "")
                                })
                            }
                    }
                }
            }],
            ngChangeDirective = valueFn({
                restrict: "A",
                require: "ngModel",
                link: function(scope, element, attr, ctrl) {
                    ctrl.$viewChangeListeners.push(function() {
                        scope.$eval(attr.ngChange)
                    })
                }
            });

        function classDirective(name, selector) {
            return name = "ngClass" + name, ["$animate", function($animate) {
                return {
                    restrict: "AC",
                    link: function(scope, element, attr) {
                        var oldVal;

                        function addClasses(classes) {
                            var newClasses = digestClassCounts(classes, 1);
                            attr.$addClass(newClasses)
                        }

                        function digestClassCounts(classes, count) {
                            var classCounts = element.data("$classCounts") || {},
                                classesToUpdate = [];
                            return forEach(classes, function(className) {
                                (0 < count || classCounts[className]) && (classCounts[className] = (classCounts[className] || 0) + count, classCounts[className] === +(0 < count) && classesToUpdate.push(className))
                            }), element.data("$classCounts", classCounts), classesToUpdate.join(" ")
                        }

                        function ngClassWatchAction(newVal) {
                            if (!0 === selector || scope.$index % 2 === selector) {
                                var newClasses = arrayClasses(newVal || []);
                                if (oldVal) {
                                    if (!equals(newVal, oldVal)) {
                                        ! function(oldClasses, newClasses) {
                                            var toAdd = arrayDifference(newClasses, oldClasses),
                                                toRemove = arrayDifference(oldClasses, newClasses);
                                            toAdd = digestClassCounts(toAdd, 1), toRemove = digestClassCounts(toRemove, -1), toAdd && toAdd.length && $animate.addClass(element, toAdd), toRemove && toRemove.length && $animate.removeClass(element, toRemove)
                                        }(arrayClasses(oldVal), newClasses)
                                    }
                                } else addClasses(newClasses)
                            }
                            oldVal = shallowCopy(newVal)
                        }
                        scope.$watch(attr[name], ngClassWatchAction, !0), attr.$observe("class", function(value) {
                            ngClassWatchAction(scope.$eval(attr[name]))
                        }), "ngClass" !== name && scope.$watch("$index", function($index, old$index) {
                            var mod = 1 & $index;
                            if (mod != (1 & old$index)) {
                                var classes = arrayClasses(scope.$eval(attr[name]));
                                mod === selector ? addClasses(classes) : function(classes) {
                                    var newClasses = digestClassCounts(classes, -1);
                                    attr.$removeClass(newClasses)
                                }(classes)
                            }
                        })
                    }
                };

                function arrayDifference(tokens1, tokens2) {
                    var values = [];
                    outer: for (var i = 0; i < tokens1.length; i++) {
                        for (var token = tokens1[i], j = 0; j < tokens2.length; j++)
                            if (token == tokens2[j]) continue outer;
                        values.push(token)
                    }
                    return values
                }

                function arrayClasses(classVal) {
                    if (isArray(classVal)) return classVal.join(" ").split(" ");
                    if (isString(classVal)) return classVal.split(" ");
                    if (isObject(classVal)) {
                        var classes = [];
                        return forEach(classVal, function(v, k) {
                            v && (classes = classes.concat(k.split(" ")))
                        }), classes
                    }
                    return classVal
                }
            }]
        }
        var ngClassDirective = classDirective("", !0),
            ngClassOddDirective = classDirective("Odd", 0),
            ngClassEvenDirective = classDirective("Even", 1),
            ngCloakDirective = ngDirective({
                compile: function(element, attr) {
                    attr.$set("ngCloak", undefined), element.removeClass("ng-cloak")
                }
            }),
            ngControllerDirective = [function() {
                return {
                    restrict: "A",
                    scope: !0,
                    controller: "@",
                    priority: 500
                }
            }],
            ngEventDirectives = {},
            forceAsyncEvents = {
                blur: !0,
                focus: !0
            };
        forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(eventName) {
            var directiveName = directiveNormalize("ng-" + eventName);
            ngEventDirectives[directiveName] = ["$parse", "$rootScope", function($parse, $rootScope) {
                return {
                    restrict: "A",
                    compile: function($element, attr) {
                        var fn = $parse(attr[directiveName], null, !0);
                        return function(scope, element) {
                            element.on(eventName, function(event) {
                                function callback() {
                                    fn(scope, {
                                        $event: event
                                    })
                                }
                                forceAsyncEvents[eventName] && $rootScope.$$phase ? scope.$evalAsync(callback) : scope.$apply(callback)
                            })
                        }
                    }
                }
            }]
        });

        function ngListDirective() {
            return {
                restrict: "A",
                priority: 100,
                require: "ngModel",
                link: function(scope, element, attr, ctrl) {
                    var ngList = element.attr(attr.$attr.ngList) || ", ",
                        trimValues = "false" !== attr.ngTrim,
                        separator = trimValues ? trim(ngList) : ngList;
                    ctrl.$parsers.push(function(viewValue) {
                        if (!isUndefined(viewValue)) {
                            var list = [];
                            return viewValue && forEach(viewValue.split(separator), function(value) {
                                value && list.push(trimValues ? trim(value) : value)
                            }), list
                        }
                    }), ctrl.$formatters.push(function(value) {
                        return isArray(value) ? value.join(ngList) : undefined
                    }), ctrl.$isEmpty = function(value) {
                        return !value || !value.length
                    }
                }
            }
        }

        function ngModelOptionsDirective() {
            return {
                restrict: "A",
                controller: ["$scope", "$attrs", function($scope, $attrs) {
                    var that = this;
                    this.$options = copy($scope.$eval($attrs.ngModelOptions)), this.$options.updateOn !== undefined ? (this.$options.updateOnDefault = !1, this.$options.updateOn = trim(this.$options.updateOn.replace(DEFAULT_REGEXP, function() {
                        return that.$options.updateOnDefault = !0, " "
                    }))) : this.$options.updateOnDefault = !0
                }]
            }
        }
        var ngIfDirective = ["$animate", function($animate) {
                return {
                    multiElement: !0,
                    transclude: "element",
                    priority: 600,
                    terminal: !0,
                    restrict: "A",
                    $$tlb: !0,
                    link: function($scope, $element, $attr, ctrl, $transclude) {
                        var block, childScope, previousElements;
                        $scope.$watch($attr.ngIf, function(value) {
                            value ? childScope || $transclude(function(clone, newScope) {
                                childScope = newScope, clone[clone.length++] = document.createComment(" end ngIf: " + $attr.ngIf + " "), block = {
                                    clone: clone
                                }, $animate.enter(clone, $element.parent(), $element)
                            }) : (previousElements && (previousElements.remove(), previousElements = null), childScope && (childScope.$destroy(), childScope = null), block && (previousElements = getBlockNodes(block.clone), $animate.leave(previousElements).then(function() {
                                previousElements = null
                            }), block = null))
                        })
                    }
                }
            }],
            ngIncludeDirective = ["$templateRequest", "$anchorScroll", "$animate", "$sce", function($templateRequest, $anchorScroll, $animate, $sce) {
                return {
                    restrict: "ECA",
                    priority: 400,
                    terminal: !0,
                    transclude: "element",
                    controller: angular.noop,
                    compile: function(element, attr) {
                        var srcExp = attr.ngInclude || attr.src,
                            onloadExp = attr.onload || "",
                            autoScrollExp = attr.autoscroll;
                        return function(scope, $element, $attr, ctrl, $transclude) {
                            function cleanupLastIncludeContent() {
                                previousElement && (previousElement.remove(), previousElement = null), currentScope && (currentScope.$destroy(), currentScope = null), currentElement && ($animate.leave(currentElement).then(function() {
                                    previousElement = null
                                }), previousElement = currentElement, currentElement = null)
                            }
                            var currentScope, previousElement, currentElement, changeCounter = 0;
                            scope.$watch($sce.parseAsResourceUrl(srcExp), function(src) {
                                function afterAnimation() {
                                    !isDefined(autoScrollExp) || autoScrollExp && !scope.$eval(autoScrollExp) || $anchorScroll()
                                }
                                var thisChangeId = ++changeCounter;
                                src ? ($templateRequest(src, !0).then(function(response) {
                                    if (thisChangeId === changeCounter) {
                                        var newScope = scope.$new();
                                        ctrl.template = response;
                                        var clone = $transclude(newScope, function(clone) {
                                            cleanupLastIncludeContent(), $animate.enter(clone, null, $element).then(afterAnimation)
                                        });
                                        currentElement = clone, (currentScope = newScope).$emit("$includeContentLoaded", src), scope.$eval(onloadExp)
                                    }
                                }, function() {
                                    thisChangeId === changeCounter && (cleanupLastIncludeContent(), scope.$emit("$includeContentError", src))
                                }), scope.$emit("$includeContentRequested", src)) : (cleanupLastIncludeContent(), ctrl.template = null)
                            })
                        }
                    }
                }
            }],
            ngIncludeFillContentDirective = ["$compile", function($compile) {
                return {
                    restrict: "ECA",
                    priority: -400,
                    require: "ngInclude",
                    link: function(scope, $element, $attr, ctrl) {
                        if (/SVG/.test($element[0].toString())) return $element.empty(), void $compile(jqLiteBuildFragment(ctrl.template, document).childNodes)(scope, function(clone) {
                            $element.append(clone)
                        }, {
                            futureParentElement: $element
                        });
                        $element.html(ctrl.template), $compile($element.contents())(scope)
                    }
                }
            }],
            ngInitDirective = ngDirective({
                priority: 450,
                compile: function() {
                    return {
                        pre: function(scope, element, attrs) {
                            scope.$eval(attrs.ngInit)
                        }
                    }
                }
            }),
            VALID_CLASS = "ng-valid",
            INVALID_CLASS = "ng-invalid",
            PRISTINE_CLASS = "ng-pristine",
            DIRTY_CLASS = "ng-dirty",
            PENDING_CLASS = "ng-pending",
            $ngModelMinErr = new minErr("ngModel"),
            NgModelController = ["$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function($scope, $exceptionHandler, $attr, $element, $parse, $animate, $timeout, $rootScope, $q, $interpolate) {
                this.$viewValue = Number.NaN, this.$modelValue = Number.NaN, this.$$rawModelValue = undefined, this.$validators = {}, this.$asyncValidators = {}, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$untouched = !0, this.$touched = !1, this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$error = {}, this.$$success = {}, this.$pending = undefined, this.$name = $interpolate($attr.name || "", !1)($scope);
                var parserValid, parsedNgModel = $parse($attr.ngModel),
                    parsedNgModelAssign = parsedNgModel.assign,
                    ngModelGet = parsedNgModel,
                    ngModelSet = parsedNgModelAssign,
                    pendingDebounce = null,
                    ctrl = this;
                this.$$setOptions = function(options) {
                    if ((ctrl.$options = options) && options.getterSetter) {
                        var invokeModelGetter = $parse($attr.ngModel + "()"),
                            invokeModelSetter = $parse($attr.ngModel + "($$$p)");
                        ngModelGet = function($scope) {
                            var modelValue = parsedNgModel($scope);
                            return isFunction(modelValue) && (modelValue = invokeModelGetter($scope)), modelValue
                        }, ngModelSet = function($scope, newValue) {
                            isFunction(parsedNgModel($scope)) ? invokeModelSetter($scope, {
                                $$$p: ctrl.$modelValue
                            }) : parsedNgModelAssign($scope, ctrl.$modelValue)
                        }
                    } else if (!parsedNgModel.assign) throw $ngModelMinErr("nonassign", "Expression '{0}' is non-assignable. Element: {1}", $attr.ngModel, startingTag($element))
                }, this.$render = noop, this.$isEmpty = function(value) {
                    return isUndefined(value) || "" === value || null === value || value != value
                };
                var parentForm = $element.inheritedData("$formController") || nullFormCtrl,
                    currentValidationRunId = 0;
                addSetValidityMethod({
                    ctrl: this,
                    $element: $element,
                    set: function(object, property) {
                        object[property] = !0
                    },
                    unset: function(object, property) {
                        delete object[property]
                    },
                    parentForm: parentForm,
                    $animate: $animate
                }), this.$setPristine = function() {
                    ctrl.$dirty = !1, ctrl.$pristine = !0, $animate.removeClass($element, DIRTY_CLASS), $animate.addClass($element, PRISTINE_CLASS)
                }, this.$setDirty = function() {
                    ctrl.$dirty = !0, ctrl.$pristine = !1, $animate.removeClass($element, PRISTINE_CLASS), $animate.addClass($element, DIRTY_CLASS), parentForm.$setDirty()
                }, this.$setUntouched = function() {
                    ctrl.$touched = !1, ctrl.$untouched = !0, $animate.setClass($element, "ng-untouched", "ng-touched")
                }, this.$setTouched = function() {
                    ctrl.$touched = !0, ctrl.$untouched = !1, $animate.setClass($element, "ng-touched", "ng-untouched")
                }, this.$rollbackViewValue = function() {
                    $timeout.cancel(pendingDebounce), ctrl.$viewValue = ctrl.$$lastCommittedViewValue, ctrl.$render()
                }, this.$validate = function() {
                    if (!isNumber(ctrl.$modelValue) || !isNaN(ctrl.$modelValue)) {
                        var viewValue = ctrl.$$lastCommittedViewValue,
                            modelValue = ctrl.$$rawModelValue,
                            prevValid = ctrl.$valid,
                            prevModelValue = ctrl.$modelValue,
                            allowInvalid = ctrl.$options && ctrl.$options.allowInvalid;
                        ctrl.$$runValidators(modelValue, viewValue, function(allValid) {
                            allowInvalid || prevValid === allValid || (ctrl.$modelValue = allValid ? modelValue : undefined, ctrl.$modelValue !== prevModelValue && ctrl.$$writeModelToScope())
                        })
                    }
                }, this.$$runValidators = function(modelValue, viewValue, doneCallback) {
                    var syncValidatorsValid, validatorPromises, allValid, localValidationRunId = ++currentValidationRunId;
                    (function() {
                        var errorKey = ctrl.$$parserName || "parse"; {
                            if (parserValid !== undefined) return parserValid || (forEach(ctrl.$validators, function(v, name) {
                                setValidity(name, null)
                            }), forEach(ctrl.$asyncValidators, function(v, name) {
                                setValidity(name, null)
                            })), setValidity(errorKey, parserValid), parserValid;
                            setValidity(errorKey, null)
                        }
                        return !0
                    })() ? (syncValidatorsValid = !0, forEach(ctrl.$validators, function(validator, name) {
                        var result = validator(modelValue, viewValue);
                        syncValidatorsValid = syncValidatorsValid && result, setValidity(name, result)
                    }), syncValidatorsValid || (forEach(ctrl.$asyncValidators, function(v, name) {
                        setValidity(name, null)
                    }), 0) ? (validatorPromises = [], allValid = !0, forEach(ctrl.$asyncValidators, function(validator, name) {
                        var promise = validator(modelValue, viewValue);
                        if (!isPromiseLike(promise)) throw $ngModelMinErr("$asyncValidators", "Expected asynchronous validator to return a promise but got '{0}' instead.", promise);
                        setValidity(name, undefined), validatorPromises.push(promise.then(function() {
                            setValidity(name, !0)
                        }, function(error) {
                            setValidity(name, allValid = !1)
                        }))
                    }), validatorPromises.length ? $q.all(validatorPromises).then(function() {
                        validationDone(allValid)
                    }, noop) : validationDone(!0)) : validationDone(!1)) : validationDone(!1);

                    function setValidity(name, isValid) {
                        localValidationRunId === currentValidationRunId && ctrl.$setValidity(name, isValid)
                    }

                    function validationDone(allValid) {
                        localValidationRunId === currentValidationRunId && doneCallback(allValid)
                    }
                }, this.$commitViewValue = function() {
                    var viewValue = ctrl.$viewValue;
                    $timeout.cancel(pendingDebounce), (ctrl.$$lastCommittedViewValue !== viewValue || "" === viewValue && ctrl.$$hasNativeValidators) && (ctrl.$$lastCommittedViewValue = viewValue, ctrl.$pristine && this.$setDirty(), this.$$parseAndValidate())
                }, this.$$parseAndValidate = function() {
                    var modelValue = ctrl.$$lastCommittedViewValue;
                    if (parserValid = !isUndefined(modelValue) || undefined)
                        for (var i = 0; i < ctrl.$parsers.length; i++)
                            if (isUndefined(modelValue = ctrl.$parsers[i](modelValue))) {
                                parserValid = !1;
                                break
                            } isNumber(ctrl.$modelValue) && isNaN(ctrl.$modelValue) && (ctrl.$modelValue = ngModelGet($scope));
                    var prevModelValue = ctrl.$modelValue,
                        allowInvalid = ctrl.$options && ctrl.$options.allowInvalid;

                    function writeToModelIfNeeded() {
                        ctrl.$modelValue !== prevModelValue && ctrl.$$writeModelToScope()
                    }
                    ctrl.$$rawModelValue = modelValue, allowInvalid && (ctrl.$modelValue = modelValue, writeToModelIfNeeded()), ctrl.$$runValidators(modelValue, ctrl.$$lastCommittedViewValue, function(allValid) {
                        allowInvalid || (ctrl.$modelValue = allValid ? modelValue : undefined, writeToModelIfNeeded())
                    })
                }, this.$$writeModelToScope = function() {
                    ngModelSet($scope, ctrl.$modelValue), forEach(ctrl.$viewChangeListeners, function(listener) {
                        try {
                            listener()
                        } catch (e) {
                            $exceptionHandler(e)
                        }
                    })
                }, this.$setViewValue = function(value, trigger) {
                    ctrl.$viewValue = value, ctrl.$options && !ctrl.$options.updateOnDefault || ctrl.$$debounceViewValueCommit(trigger)
                }, this.$$debounceViewValueCommit = function(trigger) {
                    var debounce, debounceDelay = 0,
                        options = ctrl.$options;
                    options && isDefined(options.debounce) && (isNumber(debounce = options.debounce) ? debounceDelay = debounce : isNumber(debounce[trigger]) ? debounceDelay = debounce[trigger] : isNumber(debounce.default) && (debounceDelay = debounce.default)), $timeout.cancel(pendingDebounce), debounceDelay ? pendingDebounce = $timeout(function() {
                        ctrl.$commitViewValue()
                    }, debounceDelay) : $rootScope.$$phase ? ctrl.$commitViewValue() : $scope.$apply(function() {
                        ctrl.$commitViewValue()
                    })
                }, $scope.$watch(function() {
                    var modelValue = ngModelGet($scope);
                    if (modelValue !== ctrl.$modelValue) {
                        ctrl.$modelValue = ctrl.$$rawModelValue = modelValue, parserValid = undefined;
                        for (var formatters = ctrl.$formatters, idx = formatters.length, viewValue = modelValue; idx--;) viewValue = formatters[idx](viewValue);
                        ctrl.$viewValue !== viewValue && (ctrl.$viewValue = ctrl.$$lastCommittedViewValue = viewValue, ctrl.$render(), ctrl.$$runValidators(modelValue, viewValue, noop))
                    }
                    return modelValue
                })
            }],
            ngModelDirective = ["$rootScope", function($rootScope) {
                return {
                    restrict: "A",
                    require: ["ngModel", "^?form", "^?ngModelOptions"],
                    controller: NgModelController,
                    priority: 1,
                    compile: function(element) {
                        return element.addClass(PRISTINE_CLASS).addClass("ng-untouched").addClass(VALID_CLASS), {
                            pre: function(scope, element, attr, ctrls) {
                                var modelCtrl = ctrls[0],
                                    formCtrl = ctrls[1] || nullFormCtrl;
                                modelCtrl.$$setOptions(ctrls[2] && ctrls[2].$options), formCtrl.$addControl(modelCtrl), attr.$observe("name", function(newValue) {
                                    modelCtrl.$name !== newValue && formCtrl.$$renameControl(modelCtrl, newValue)
                                }), scope.$on("$destroy", function() {
                                    formCtrl.$removeControl(modelCtrl)
                                })
                            },
                            post: function(scope, element, attr, ctrls) {
                                var modelCtrl = ctrls[0];
                                modelCtrl.$options && modelCtrl.$options.updateOn && element.on(modelCtrl.$options.updateOn, function(ev) {
                                    modelCtrl.$$debounceViewValueCommit(ev && ev.type)
                                }), element.on("blur", function(ev) {
                                    modelCtrl.$touched || ($rootScope.$$phase ? scope.$evalAsync(modelCtrl.$setTouched) : scope.$apply(modelCtrl.$setTouched))
                                })
                            }
                        }
                    }
                }
            }],
            DEFAULT_REGEXP = /(\s+|^)default(\s+|$)/;

        function addSetValidityMethod(context) {
            var ctrl = context.ctrl,
                $element = context.$element,
                classCache = {},
                set = context.set,
                unset = context.unset,
                parentForm = context.parentForm,
                $animate = context.$animate;

            function cachedToggleClass(className, switchValue) {
                switchValue && !classCache[className] ? ($animate.addClass($element, className), classCache[className] = !0) : !switchValue && classCache[className] && ($animate.removeClass($element, className), classCache[className] = !1)
            }

            function toggleValidationCss(validationErrorKey, isValid) {
                validationErrorKey = validationErrorKey ? "-" + snake_case(validationErrorKey, "-") : "", cachedToggleClass(VALID_CLASS + validationErrorKey, !0 === isValid), cachedToggleClass(INVALID_CLASS + validationErrorKey, !1 === isValid)
            }
            classCache[INVALID_CLASS] = !(classCache[VALID_CLASS] = $element.hasClass(VALID_CLASS)), ctrl.$setValidity = function(validationErrorKey, state, controller) {
                state === undefined ? function(name, value, controller) {
                    ctrl[name] || (ctrl[name] = {});
                    set(ctrl[name], value, controller)
                }("$pending", validationErrorKey, controller) : function(name, value, controller) {
                    ctrl[name] && unset(ctrl[name], value, controller);
                    isObjectEmpty(ctrl[name]) && (ctrl[name] = undefined)
                }("$pending", validationErrorKey, controller);
                isBoolean(state) ? state ? (unset(ctrl.$error, validationErrorKey, controller), set(ctrl.$$success, validationErrorKey, controller)) : (set(ctrl.$error, validationErrorKey, controller), unset(ctrl.$$success, validationErrorKey, controller)) : (unset(ctrl.$error, validationErrorKey, controller), unset(ctrl.$$success, validationErrorKey, controller));
                ctrl.$pending ? (cachedToggleClass(PENDING_CLASS, !0), ctrl.$valid = ctrl.$invalid = undefined, toggleValidationCss("", null)) : (cachedToggleClass(PENDING_CLASS, !1), ctrl.$valid = isObjectEmpty(ctrl.$error), ctrl.$invalid = !ctrl.$valid, toggleValidationCss("", ctrl.$valid));
                var combinedState;
                combinedState = ctrl.$pending && ctrl.$pending[validationErrorKey] ? undefined : !ctrl.$error[validationErrorKey] && (!!ctrl.$$success[validationErrorKey] || null);
                toggleValidationCss(validationErrorKey, combinedState), parentForm.$setValidity(validationErrorKey, combinedState, ctrl)
            }
        }

        function isObjectEmpty(obj) {
            if (obj)
                for (var prop in obj) return !1;
            return !0
        }

        function selectDirective() {
            var lastView;
            return {
                restrict: "E",
                require: ["select", "?ngModel"],
                controller: SelectController,
                link: function(scope, element, attr, ctrls) {
                    var ngModelCtrl = ctrls[1];
                    if (ngModelCtrl) {
                        var selectCtrl = ctrls[0];
                        (selectCtrl.ngModelCtrl = ngModelCtrl).$render = function() {
                            selectCtrl.writeValue(ngModelCtrl.$viewValue)
                        }, element.on("change", function() {
                            scope.$apply(function() {
                                ngModelCtrl.$setViewValue(selectCtrl.readValue())
                            })
                        }), attr.multiple && (selectCtrl.readValue = function() {
                            var array = [];
                            return forEach(element.find("option"), function(option) {
                                option.selected && array.push(option.value)
                            }), array
                        }, selectCtrl.writeValue = function(value) {
                            var items = new HashMap(value);
                            forEach(element.find("option"), function(option) {
                                option.selected = isDefined(items.get(option.value))
                            })
                        }, scope.$watch(function() {
                            equals(lastView, ngModelCtrl.$viewValue) || (lastView = shallowCopy(ngModelCtrl.$viewValue), ngModelCtrl.$render())
                        }), ngModelCtrl.$isEmpty = function(value) {
                            return !value || 0 === value.length
                        })
                    }
                }
            }
        }

        function requiredDirective() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(scope, elm, attr, ctrl) {
                    ctrl && (attr.required = !0, ctrl.$validators.required = function(modelValue, viewValue) {
                        return !attr.required || !ctrl.$isEmpty(viewValue)
                    }, attr.$observe("required", function() {
                        ctrl.$validate()
                    }))
                }
            }
        }

        function patternDirective() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(scope, elm, attr, ctrl) {
                    if (ctrl) {
                        var regexp, patternExp = attr.ngPattern || attr.pattern;
                        attr.$observe("pattern", function(regex) {
                            if (isString(regex) && 0 < regex.length && (regex = new RegExp("^" + regex + "$")), regex && !regex.test) throw minErr("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", patternExp, regex, startingTag(elm));
                            regexp = regex || undefined, ctrl.$validate()
                        }), ctrl.$validators.pattern = function(value) {
                            return ctrl.$isEmpty(value) || isUndefined(regexp) || regexp.test(value)
                        }
                    }
                }
            }
        }

        function maxlengthDirective() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(scope, elm, attr, ctrl) {
                    if (ctrl) {
                        var maxlength = -1;
                        attr.$observe("maxlength", function(value) {
                            var intVal = toInt(value);
                            maxlength = isNaN(intVal) ? -1 : intVal, ctrl.$validate()
                        }), ctrl.$validators.maxlength = function(modelValue, viewValue) {
                            return maxlength < 0 || ctrl.$isEmpty(viewValue) || viewValue.length <= maxlength
                        }
                    }
                }
            }
        }

        function minlengthDirective() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(scope, elm, attr, ctrl) {
                    if (ctrl) {
                        var minlength = 0;
                        attr.$observe("minlength", function(value) {
                            minlength = toInt(value) || 0, ctrl.$validate()
                        }), ctrl.$validators.minlength = function(modelValue, viewValue) {
                            return ctrl.$isEmpty(viewValue) || viewValue.length >= minlength
                        }
                    }
                }
            }
        }
        var ngNonBindableDirective = ngDirective({
                terminal: !0,
                priority: 1e3
            }),
            ngOptionsMinErr = minErr("ngOptions"),
            NG_OPTIONS_REGEXP = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
            ngOptionsDirective = ["$compile", "$parse", function($compile, $parse) {
                var optionTemplate = document.createElement("option"),
                    optGroupTemplate = document.createElement("optgroup");
                return {
                    restrict: "A",
                    terminal: !0,
                    require: ["select", "?ngModel"],
                    link: function(scope, selectElement, attr, ctrls) {
                        var ngModelCtrl = ctrls[1];
                        if (ngModelCtrl) {
                            var options, selectCtrl = ctrls[0],
                                multiple = attr.multiple,
                                emptyOption = selectCtrl.emptyOption,
                                providedEmptyOption = !!emptyOption,
                                unknownOption = jqLite(optionTemplate.cloneNode(!1));
                            unknownOption.val("?");
                            var ngOptions = function(optionsExp, selectElement, scope) {
                                    var match = optionsExp.match(NG_OPTIONS_REGEXP);
                                    if (!match) throw ngOptionsMinErr("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", optionsExp, startingTag(selectElement));
                                    var valueName = match[5] || match[7],
                                        keyName = match[6],
                                        selectAs = / as /.test(match[0]) && match[1],
                                        trackBy = match[9],
                                        valueFn = $parse(match[2] ? match[1] : valueName),
                                        viewValueFn = selectAs && $parse(selectAs) || valueFn,
                                        trackByFn = trackBy && $parse(trackBy),
                                        getTrackByValue = trackBy ? function(viewValue, locals) {
                                            return trackByFn(scope, locals)
                                        } : function(viewValue) {
                                            return hashKey(viewValue)
                                        },
                                        displayFn = $parse(match[2] || match[1]),
                                        groupByFn = $parse(match[3] || ""),
                                        disableWhenFn = $parse(match[4] || ""),
                                        valuesFn = $parse(match[8]),
                                        locals = {},
                                        getLocals = keyName ? function(value, key) {
                                            return locals[keyName] = key, locals[valueName] = value, locals
                                        } : function(value) {
                                            return locals[valueName] = value, locals
                                        };

                                    function Option(selectValue, viewValue, label, group, disabled) {
                                        this.selectValue = selectValue, this.viewValue = viewValue, this.label = label, this.group = group, this.disabled = disabled
                                    }
                                    return {
                                        getWatchables: $parse(valuesFn, function(values) {
                                            var watchedArray = [];
                                            return values = values || [], Object.keys(values).forEach(function(key) {
                                                var locals = getLocals(values[key], key),
                                                    selectValue = getTrackByValue(values[key], locals);
                                                if (watchedArray.push(selectValue), match[2]) {
                                                    var label = displayFn(scope, locals);
                                                    watchedArray.push(label)
                                                }
                                                if (match[4]) {
                                                    var disableWhen = disableWhenFn(scope, locals);
                                                    watchedArray.push(disableWhen)
                                                }
                                            }), watchedArray
                                        }),
                                        getOptions: function() {
                                            var optionItems = [],
                                                selectValueMap = {},
                                                optionValues = valuesFn(scope) || [];
                                            return Object.keys(optionValues).forEach(function(key) {
                                                if ("$" !== key.charAt(0)) {
                                                    var value = optionValues[key],
                                                        locals = getLocals(value, key),
                                                        viewValue = viewValueFn(scope, locals),
                                                        selectValue = getTrackByValue(viewValue, locals),
                                                        optionItem = new Option(selectValue, viewValue, displayFn(scope, locals), groupByFn(scope, locals), disableWhenFn(scope, locals));
                                                    optionItems.push(optionItem), selectValueMap[selectValue] = optionItem
                                                }
                                            }), {
                                                items: optionItems,
                                                selectValueMap: selectValueMap,
                                                getOptionFromViewValue: function(value) {
                                                    return selectValueMap[getTrackByValue(value, getLocals(value))]
                                                },
                                                getViewValueFromOption: function(option) {
                                                    return trackBy ? angular.copy(option.viewValue) : option.viewValue
                                                }
                                            }
                                        }
                                    }
                                }(attr.ngOptions, selectElement, scope),
                                removeEmptyOption = function() {
                                    providedEmptyOption || emptyOption.remove()
                                },
                                removeUnknownOption = function() {
                                    unknownOption.remove()
                                };
                            selectCtrl.writeValue = function(value) {
                                var option = options.getOptionFromViewValue(value);
                                option && !option.disabled ? selectElement[0].value !== option.selectValue && (removeUnknownOption(), removeEmptyOption(), selectElement[0].value = option.selectValue, option.element.selected = !0, option.element.setAttribute("selected", "selected")) : null === value || providedEmptyOption ? (removeUnknownOption(), providedEmptyOption || selectElement.prepend(emptyOption), selectElement.val(""), emptyOption.prop("selected", !0), emptyOption.attr("selected", !0)) : (removeEmptyOption(), selectElement.prepend(unknownOption), selectElement.val("?"), unknownOption.prop("selected", !0), unknownOption.attr("selected", !0))
                            }, selectCtrl.readValue = function() {
                                var selectedOption = options.selectValueMap[selectElement.val()];
                                return selectedOption && !selectedOption.disabled ? (removeEmptyOption(), removeUnknownOption(), options.getViewValueFromOption(selectedOption)) : null
                            }, multiple && (ngModelCtrl.$isEmpty = function(value) {
                                return !value || 0 === value.length
                            }, selectCtrl.writeValue = function(value) {
                                options.items.forEach(function(option) {
                                    option.element.selected = !1
                                }), value && value.forEach(function(item) {
                                    var option = options.getOptionFromViewValue(item);
                                    option && !option.disabled && (option.element.selected = !0)
                                })
                            }, selectCtrl.readValue = function() {
                                var selectedValues = selectElement.val() || [],
                                    selections = [];
                                return forEach(selectedValues, function(value) {
                                    var option = options.selectValueMap[value];
                                    option.disabled || selections.push(options.getViewValueFromOption(option))
                                }), selections
                            }), providedEmptyOption ? (emptyOption.remove(), $compile(emptyOption)(scope), emptyOption.removeClass("ng-scope")) : emptyOption = jqLite(optionTemplate.cloneNode(!1)), updateOptions(), scope.$watchCollection(ngOptions.getWatchables, updateOptions), scope.$watch(attr.ngModel, function() {
                                ngModelCtrl.$render()
                            }, !0)
                        }

                        function updateOptionElement(option, element) {
                            (option.element = element).disabled = option.disabled, option.value !== element.value && (element.value = option.selectValue), option.label !== element.label && (element.label = option.label, element.textContent = option.label)
                        }

                        function addOrReuseElement(parent, current, type, templateElement) {
                            var element;
                            return current && lowercase(current.nodeName) === type ? element = current : (element = templateElement.cloneNode(!1), current ? parent.insertBefore(element, current) : parent.appendChild(element)), element
                        }

                        function removeExcessElements(current) {
                            for (var next; current;) next = current.nextSibling, jqLiteRemove(current), current = next
                        }

                        function updateOptions() {
                            var previousValue = options && selectCtrl.readValue();
                            options = ngOptions.getOptions();
                            var groupMap = {},
                                currentElement = selectElement[0].firstChild;
                            if (providedEmptyOption && selectElement.prepend(emptyOption), currentElement = function(current) {
                                    var emptyOption_ = emptyOption && emptyOption[0],
                                        unknownOption_ = unknownOption && unknownOption[0];
                                    if (emptyOption_ || unknownOption_)
                                        for (; current && (current === emptyOption_ || current === unknownOption_);) current = current.nextSibling;
                                    return current
                                }(currentElement), options.items.forEach(function(option) {
                                    var group, groupElement, optionElement;
                                    option.group ? ((group = groupMap[option.group]) || (groupElement = addOrReuseElement(selectElement[0], currentElement, "optgroup", optGroupTemplate), currentElement = groupElement.nextSibling, groupElement.label = option.group, group = groupMap[option.group] = {
                                        groupElement: groupElement,
                                        currentOptionElement: groupElement.firstChild
                                    }), updateOptionElement(option, optionElement = addOrReuseElement(group.groupElement, group.currentOptionElement, "option", optionTemplate)), group.currentOptionElement = optionElement.nextSibling) : (updateOptionElement(option, optionElement = addOrReuseElement(selectElement[0], currentElement, "option", optionTemplate)), currentElement = optionElement.nextSibling)
                                }), Object.keys(groupMap).forEach(function(key) {
                                    removeExcessElements(groupMap[key].currentOptionElement)
                                }), removeExcessElements(currentElement), ngModelCtrl.$render(), !ngModelCtrl.$isEmpty(previousValue)) {
                                var nextValue = selectCtrl.readValue();
                                equals(previousValue, nextValue) || ngModelCtrl.$setViewValue(nextValue)
                            }
                        }
                    }
                }
            }],
            ngPluralizeDirective = ["$locale", "$interpolate", "$log", function($locale, $interpolate, $log) {
                var BRACE = /{}/g,
                    IS_WHEN = /^when(Minus)?(.+)$/;
                return {
                    link: function(scope, element, attr) {
                        var lastCount, numberExp = attr.count,
                            whenExp = attr.$attr.when && element.attr(attr.$attr.when),
                            offset = attr.offset || 0,
                            whens = scope.$eval(whenExp) || {},
                            whensExpFns = {},
                            startSymbol = $interpolate.startSymbol(),
                            endSymbol = $interpolate.endSymbol(),
                            braceReplacement = startSymbol + numberExp + "-" + offset + endSymbol,
                            watchRemover = angular.noop;

                        function updateElementText(newText) {
                            element.text(newText || "")
                        }
                        forEach(attr, function(expression, attributeName) {
                            var tmpMatch = IS_WHEN.exec(attributeName);
                            if (tmpMatch) {
                                var whenKey = (tmpMatch[1] ? "-" : "") + lowercase(tmpMatch[2]);
                                whens[whenKey] = element.attr(attr.$attr[attributeName])
                            }
                        }), forEach(whens, function(expression, key) {
                            whensExpFns[key] = $interpolate(expression.replace(BRACE, braceReplacement))
                        }), scope.$watch(numberExp, function(newVal) {
                            var count = parseFloat(newVal),
                                countIsNaN = isNaN(count);
                            if (countIsNaN || count in whens || (count = $locale.pluralCat(count - offset)), count !== lastCount && !(countIsNaN && isNumber(lastCount) && isNaN(lastCount))) {
                                watchRemover();
                                var whenExpFn = whensExpFns[count];
                                isUndefined(whenExpFn) ? (null != newVal && $log.debug("ngPluralize: no rule defined for '" + count + "' in " + whenExp), watchRemover = noop, updateElementText()) : watchRemover = scope.$watch(whenExpFn, updateElementText), lastCount = count
                            }
                        })
                    }
                }
            }],
            ngRepeatDirective = ["$parse", "$animate", function($parse, $animate) {
                function updateScope(scope, index, valueIdentifier, value, keyIdentifier, key, arrayLength) {
                    scope[valueIdentifier] = value, keyIdentifier && (scope[keyIdentifier] = key), scope.$index = index, scope.$first = 0 === index, scope.$last = index === arrayLength - 1, scope.$middle = !(scope.$first || scope.$last), scope.$odd = !(scope.$even = 0 == (1 & index))
                }

                function getBlockStart(block) {
                    return block.clone[0]
                }

                function getBlockEnd(block) {
                    return block.clone[block.clone.length - 1]
                }
                var ngRepeatMinErr = minErr("ngRepeat");
                return {
                    restrict: "A",
                    multiElement: !0,
                    transclude: "element",
                    priority: 1e3,
                    terminal: !0,
                    $$tlb: !0,
                    compile: function($element, $attr) {
                        var expression = $attr.ngRepeat,
                            ngRepeatEndComment = document.createComment(" end ngRepeat: " + expression + " "),
                            match = expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
                        if (!match) throw ngRepeatMinErr("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", expression);
                        var lhs = match[1],
                            rhs = match[2],
                            aliasAs = match[3],
                            trackByExp = match[4];
                        if (!(match = lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/))) throw ngRepeatMinErr("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", lhs);
                        var trackByExpGetter, trackByIdExpFn, trackByIdArrayFn, trackByIdObjFn, valueIdentifier = match[3] || match[1],
                            keyIdentifier = match[2];
                        if (aliasAs && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs))) throw ngRepeatMinErr("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", aliasAs);
                        var hashFnLocals = {
                            $id: hashKey
                        };
                        return trackByExp ? trackByExpGetter = $parse(trackByExp) : (trackByIdArrayFn = function(key, value) {
                                return hashKey(value)
                            }, trackByIdObjFn = function(key) {
                                return key
                            }),
                            function($scope, $element, $attr, ctrl, $transclude) {
                                trackByExpGetter && (trackByIdExpFn = function(key, value, index) {
                                    return keyIdentifier && (hashFnLocals[keyIdentifier] = key), hashFnLocals[valueIdentifier] = value, hashFnLocals.$index = index, trackByExpGetter($scope, hashFnLocals)
                                });
                                var lastBlockMap = createMap();
                                $scope.$watchCollection(rhs, function(collection) {
                                    var index, length, nextNode, collectionLength, key, value, trackById, trackByIdFn, collectionKeys, block, nextBlockOrder, elementsToRemove, previousNode = $element[0],
                                        nextBlockMap = createMap();
                                    if (aliasAs && ($scope[aliasAs] = collection), isArrayLike(collection)) collectionKeys = collection, trackByIdFn = trackByIdExpFn || trackByIdArrayFn;
                                    else
                                        for (var itemKey in trackByIdFn = trackByIdExpFn || trackByIdObjFn, collectionKeys = [], collection) collection.hasOwnProperty(itemKey) && "$" !== itemKey.charAt(0) && collectionKeys.push(itemKey);
                                    for (collectionLength = collectionKeys.length, nextBlockOrder = new Array(collectionLength), index = 0; index < collectionLength; index++)
                                        if (key = collection === collectionKeys ? index : collectionKeys[index], value = collection[key], trackById = trackByIdFn(key, value, index), lastBlockMap[trackById]) block = lastBlockMap[trackById], delete lastBlockMap[trackById], nextBlockMap[trackById] = block, nextBlockOrder[index] = block;
                                        else {
                                            if (nextBlockMap[trackById]) throw forEach(nextBlockOrder, function(block) {
                                                block && block.scope && (lastBlockMap[block.id] = block)
                                            }), ngRepeatMinErr("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", expression, trackById, value);
                                            nextBlockOrder[index] = {
                                                id: trackById,
                                                scope: undefined,
                                                clone: undefined
                                            }, nextBlockMap[trackById] = !0
                                        } for (var blockKey in lastBlockMap) {
                                        if (elementsToRemove = getBlockNodes((block = lastBlockMap[blockKey]).clone), $animate.leave(elementsToRemove), elementsToRemove[0].parentNode)
                                            for (index = 0, length = elementsToRemove.length; index < length; index++) elementsToRemove[index].$$NG_REMOVED = !0;
                                        block.scope.$destroy()
                                    }
                                    for (index = 0; index < collectionLength; index++)
                                        if (key = collection === collectionKeys ? index : collectionKeys[index], value = collection[key], (block = nextBlockOrder[index]).scope) {
                                            for (nextNode = previousNode;
                                                (nextNode = nextNode.nextSibling) && nextNode.$$NG_REMOVED;);
                                            getBlockStart(block) != nextNode && $animate.move(getBlockNodes(block.clone), null, jqLite(previousNode)), previousNode = getBlockEnd(block), updateScope(block.scope, index, valueIdentifier, value, keyIdentifier, key, collectionLength)
                                        } else $transclude(function(clone, scope) {
                                            block.scope = scope;
                                            var endNode = ngRepeatEndComment.cloneNode(!1);
                                            clone[clone.length++] = endNode, $animate.enter(clone, null, jqLite(previousNode)), previousNode = endNode, block.clone = clone, nextBlockMap[block.id] = block, updateScope(block.scope, index, valueIdentifier, value, keyIdentifier, key, collectionLength)
                                        });
                                    lastBlockMap = nextBlockMap
                                })
                            }
                    }
                }
            }],
            ngShowDirective = ["$animate", function($animate) {
                return {
                    restrict: "A",
                    multiElement: !0,
                    link: function(scope, element, attr) {
                        scope.$watch(attr.ngShow, function(value) {
                            $animate[value ? "removeClass" : "addClass"](element, "ng-hide", {
                                tempClasses: "ng-hide-animate"
                            })
                        })
                    }
                }
            }],
            ngHideDirective = ["$animate", function($animate) {
                return {
                    restrict: "A",
                    multiElement: !0,
                    link: function(scope, element, attr) {
                        scope.$watch(attr.ngHide, function(value) {
                            $animate[value ? "addClass" : "removeClass"](element, "ng-hide", {
                                tempClasses: "ng-hide-animate"
                            })
                        })
                    }
                }
            }],
            ngStyleDirective = ngDirective(function(scope, element, attr) {
                scope.$watchCollection(attr.ngStyle, function(newStyles, oldStyles) {
                    oldStyles && newStyles !== oldStyles && forEach(oldStyles, function(val, style) {
                        element.css(style, "")
                    }), newStyles && element.css(newStyles)
                })
            }),
            ngSwitchDirective = ["$animate", function($animate) {
                return {
                    require: "ngSwitch",
                    controller: ["$scope", function() {
                        this.cases = {}
                    }],
                    link: function(scope, element, attr, ngSwitchController) {
                        function spliceFactory(array, index) {
                            return function() {
                                array.splice(index, 1)
                            }
                        }
                        var watchExpr = attr.ngSwitch || attr.on,
                            selectedTranscludes = [],
                            selectedElements = [],
                            previousLeaveAnimations = [],
                            selectedScopes = [];
                        scope.$watch(watchExpr, function(value) {
                            var i, ii;
                            for (i = 0, ii = previousLeaveAnimations.length; i < ii; ++i) $animate.cancel(previousLeaveAnimations[i]);
                            for (i = previousLeaveAnimations.length = 0, ii = selectedScopes.length; i < ii; ++i) {
                                var selected = getBlockNodes(selectedElements[i].clone);
                                selectedScopes[i].$destroy(), (previousLeaveAnimations[i] = $animate.leave(selected)).then(spliceFactory(previousLeaveAnimations, i))
                            }
                            selectedElements.length = 0, selectedScopes.length = 0, (selectedTranscludes = ngSwitchController.cases["!" + value] || ngSwitchController.cases["?"]) && forEach(selectedTranscludes, function(selectedTransclude) {
                                selectedTransclude.transclude(function(caseElement, selectedScope) {
                                    selectedScopes.push(selectedScope);
                                    var anchor = selectedTransclude.element;
                                    caseElement[caseElement.length++] = document.createComment(" end ngSwitchWhen: ");
                                    var block = {
                                        clone: caseElement
                                    };
                                    selectedElements.push(block), $animate.enter(caseElement, anchor.parent(), anchor)
                                })
                            })
                        })
                    }
                }
            }],
            ngSwitchWhenDirective = ngDirective({
                transclude: "element",
                priority: 1200,
                require: "^ngSwitch",
                multiElement: !0,
                link: function(scope, element, attrs, ctrl, $transclude) {
                    ctrl.cases["!" + attrs.ngSwitchWhen] = ctrl.cases["!" + attrs.ngSwitchWhen] || [], ctrl.cases["!" + attrs.ngSwitchWhen].push({
                        transclude: $transclude,
                        element: element
                    })
                }
            }),
            ngSwitchDefaultDirective = ngDirective({
                transclude: "element",
                priority: 1200,
                require: "^ngSwitch",
                multiElement: !0,
                link: function(scope, element, attr, ctrl, $transclude) {
                    ctrl.cases["?"] = ctrl.cases["?"] || [], ctrl.cases["?"].push({
                        transclude: $transclude,
                        element: element
                    })
                }
            }),
            ngTranscludeDirective = ngDirective({
                restrict: "EAC",
                link: function($scope, $element, $attrs, controller, $transclude) {
                    if (!$transclude) throw minErr("ngTransclude")("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", startingTag($element));
                    $transclude(function(clone) {
                        $element.empty(), $element.append(clone)
                    })
                }
            }),
            scriptDirective = ["$templateCache", function($templateCache) {
                return {
                    restrict: "E",
                    terminal: !0,
                    compile: function(element, attr) {
                        if ("text/ng-template" == attr.type) {
                            var templateUrl = attr.id,
                                text = element[0].text;
                            $templateCache.put(templateUrl, text)
                        }
                    }
                }
            }],
            noopNgModelController = {
                $setViewValue: noop,
                $render: noop
            },
            SelectController = ["$element", "$scope", "$attrs", function($element, $scope, $attrs) {
                var self = this,
                    optionsMap = new HashMap;
                self.ngModelCtrl = noopNgModelController, self.unknownOption = jqLite(document.createElement("option")), self.renderUnknownOption = function(val) {
                    var unknownVal = "? " + hashKey(val) + " ?";
                    self.unknownOption.val(unknownVal), $element.prepend(self.unknownOption), $element.val(unknownVal)
                }, $scope.$on("$destroy", function() {
                    self.renderUnknownOption = noop
                }), self.removeUnknownOption = function() {
                    self.unknownOption.parent() && self.unknownOption.remove()
                };
                for (var i = 0, children = $element.children(), ii = children.length; i < ii; i++)
                    if ("" === children[i].value) {
                        self.emptyOption = children.eq(i);
                        break
                    } self.readValue = function() {
                    return self.removeUnknownOption(), $element.val()
                }, self.writeValue = function(value) {
                    self.hasOption(value) ? (self.removeUnknownOption(), $element.val(value), "" === value && self.emptyOption.prop("selected", !0)) : isUndefined(value) && self.emptyOption ? (self.removeUnknownOption(), $element.val("")) : self.renderUnknownOption(value)
                }, self.addOption = function(value) {
                    assertNotHasOwnProperty(value, '"option value"');
                    var count = optionsMap.get(value) || 0;
                    optionsMap.put(value, count + 1)
                }, self.removeOption = function(value) {
                    var count = optionsMap.get(value);
                    count && (1 === count ? optionsMap.remove(value) : optionsMap.put(value, count - 1))
                }, self.hasOption = function(value) {
                    return !!optionsMap.get(value)
                }
            }],
            optionDirective = ["$interpolate", function($interpolate) {
                function chromeHack(optionElement) {
                    optionElement[0].hasAttribute("selected") && (optionElement[0].selected = !0)
                }
                return {
                    restrict: "E",
                    priority: 100,
                    compile: function(element, attr) {
                        if (isUndefined(attr.value)) {
                            var interpolateFn = $interpolate(element.text(), !0);
                            interpolateFn || attr.$set("value", element.text())
                        }
                        return function(scope, element, attr) {
                            var parent = element.parent(),
                                selectCtrl = parent.data("$selectController") || parent.parent().data("$selectController");
                            selectCtrl && selectCtrl.ngModelCtrl && (interpolateFn ? scope.$watch(interpolateFn, function(newVal, oldVal) {
                                attr.$set("value", newVal), oldVal !== newVal && selectCtrl.removeOption(oldVal), selectCtrl.addOption(newVal, element), selectCtrl.ngModelCtrl.$render(), chromeHack(element)
                            }) : (selectCtrl.addOption(attr.value, element), selectCtrl.ngModelCtrl.$render(), chromeHack(element)), element.on("$destroy", function() {
                                selectCtrl.removeOption(attr.value), selectCtrl.ngModelCtrl.$render()
                            }))
                        }
                    }
                }
            }],
            styleDirective = valueFn({
                restrict: "E",
                terminal: !1
            });
        window.angular.bootstrap ? console.log("WARNING: Tried to load angular more than once.") : (function() {
            var originalCleanData;
            if (!bindJQueryFired) {
                var jqName = jq();
                jQuery = window.jQuery, isDefined(jqName) && (jQuery = null === jqName ? undefined : window[jqName]), jQuery && jQuery.fn.on ? (extend((jqLite = jQuery).fn, {
                    scope: JQLitePrototype.scope,
                    isolateScope: JQLitePrototype.isolateScope,
                    controller: JQLitePrototype.controller,
                    injector: JQLitePrototype.injector,
                    inheritedData: JQLitePrototype.inheritedData
                }), originalCleanData = jQuery.cleanData, jQuery.cleanData = function(elems) {
                    var events;
                    if (skipDestroyOnNextJQueryCleanData) skipDestroyOnNextJQueryCleanData = !1;
                    else
                        for (var elem, i = 0; null != (elem = elems[i]); i++)(events = jQuery._data(elem, "events")) && events.$destroy && jQuery(elem).triggerHandler("$destroy");
                    originalCleanData(elems)
                }) : jqLite = JQLite, angular.element = jqLite, bindJQueryFired = !0
            }
        }(), function(angular) {
            extend(angular, {
                bootstrap: bootstrap,
                copy: copy,
                extend: extend,
                merge: merge,
                equals: equals,
                element: jqLite,
                forEach: forEach,
                injector: createInjector,
                noop: noop,
                bind: bind,
                toJson: toJson,
                fromJson: fromJson,
                identity: identity,
                isUndefined: isUndefined,
                isDefined: isDefined,
                isString: isString,
                isFunction: isFunction,
                isObject: isObject,
                isNumber: isNumber,
                isElement: isElement,
                isArray: isArray,
                version: version,
                isDate: isDate,
                lowercase: lowercase,
                uppercase: uppercase,
                callbacks: {
                    counter: 0
                },
                getTestability: getTestability,
                $$minErr: minErr,
                $$csp: csp,
                reloadWithDebugInfo: reloadWithDebugInfo
            }), angularModule = function(window) {
                var $injectorMinErr = minErr("$injector"),
                    ngMinErr = minErr("ng");

                function ensure(obj, name, factory) {
                    return obj[name] || (obj[name] = factory())
                }
                var angular = ensure(window, "angular", Object);
                return angular.$$minErr = angular.$$minErr || minErr, ensure(angular, "module", function() {
                    var modules = {};
                    return function(name, requires, configFn) {
                        return function(name, context) {
                            if ("hasOwnProperty" === name) throw ngMinErr("badname", "hasOwnProperty is not a valid {0} name", context)
                        }(name, "module"), requires && modules.hasOwnProperty(name) && (modules[name] = null), ensure(modules, name, function() {
                            if (!requires) throw $injectorMinErr("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", name);
                            var invokeQueue = [],
                                configBlocks = [],
                                runBlocks = [],
                                config = invokeLater("$injector", "invoke", "push", configBlocks),
                                moduleInstance = {
                                    _invokeQueue: invokeQueue,
                                    _configBlocks: configBlocks,
                                    _runBlocks: runBlocks,
                                    requires: requires,
                                    name: name,
                                    provider: invokeLater("$provide", "provider"),
                                    factory: invokeLater("$provide", "factory"),
                                    service: invokeLater("$provide", "service"),
                                    value: invokeLater("$provide", "value"),
                                    constant: invokeLater("$provide", "constant", "unshift"),
                                    animation: invokeLater("$animateProvider", "register"),
                                    filter: invokeLater("$filterProvider", "register"),
                                    controller: invokeLater("$controllerProvider", "register"),
                                    directive: invokeLater("$compileProvider", "directive"),
                                    config: config,
                                    run: function(block) {
                                        return runBlocks.push(block), this
                                    }
                                };
                            return configFn && config(configFn), moduleInstance;

                            function invokeLater(provider, method, insertMethod, queue) {
                                return queue || (queue = invokeQueue),
                                    function() {
                                        return queue[insertMethod || "push"]([provider, method, arguments]), moduleInstance
                                    }
                            }
                        })
                    }
                })
            }(window);
            try {
                angularModule("ngLocale")
            } catch (e) {
                angularModule("ngLocale", []).provider("$locale", $LocaleProvider)
            }
            angularModule("ng", ["ngLocale"], ["$provide", function($provide) {
                $provide.provider({
                    $$sanitizeUri: $$SanitizeUriProvider
                }), $provide.provider("$compile", $CompileProvider).directive({
                    a: htmlAnchorDirective,
                    input: inputDirective,
                    textarea: inputDirective,
                    form: formDirective,
                    script: scriptDirective,
                    select: selectDirective,
                    style: styleDirective,
                    option: optionDirective,
                    ngBind: ngBindDirective,
                    ngBindHtml: ngBindHtmlDirective,
                    ngBindTemplate: ngBindTemplateDirective,
                    ngClass: ngClassDirective,
                    ngClassEven: ngClassEvenDirective,
                    ngClassOdd: ngClassOddDirective,
                    ngCloak: ngCloakDirective,
                    ngController: ngControllerDirective,
                    ngForm: ngFormDirective,
                    ngHide: ngHideDirective,
                    ngIf: ngIfDirective,
                    ngInclude: ngIncludeDirective,
                    ngInit: ngInitDirective,
                    ngNonBindable: ngNonBindableDirective,
                    ngPluralize: ngPluralizeDirective,
                    ngRepeat: ngRepeatDirective,
                    ngShow: ngShowDirective,
                    ngStyle: ngStyleDirective,
                    ngSwitch: ngSwitchDirective,
                    ngSwitchWhen: ngSwitchWhenDirective,
                    ngSwitchDefault: ngSwitchDefaultDirective,
                    ngOptions: ngOptionsDirective,
                    ngTransclude: ngTranscludeDirective,
                    ngModel: ngModelDirective,
                    ngList: ngListDirective,
                    ngChange: ngChangeDirective,
                    pattern: patternDirective,
                    ngPattern: patternDirective,
                    required: requiredDirective,
                    ngRequired: requiredDirective,
                    minlength: minlengthDirective,
                    ngMinlength: minlengthDirective,
                    maxlength: maxlengthDirective,
                    ngMaxlength: maxlengthDirective,
                    ngValue: ngValueDirective,
                    ngModelOptions: ngModelOptionsDirective
                }).directive({
                    ngInclude: ngIncludeFillContentDirective
                }).directive(ngAttributeAliasDirectives).directive(ngEventDirectives), $provide.provider({
                    $anchorScroll: $AnchorScrollProvider,
                    $animate: $AnimateProvider,
                    $browser: $BrowserProvider,
                    $cacheFactory: $CacheFactoryProvider,
                    $controller: $ControllerProvider,
                    $document: $DocumentProvider,
                    $exceptionHandler: $ExceptionHandlerProvider,
                    $filter: $FilterProvider,
                    $interpolate: $InterpolateProvider,
                    $interval: $IntervalProvider,
                    $http: $HttpProvider,
                    $httpBackend: $HttpBackendProvider,
                    $location: $LocationProvider,
                    $log: $LogProvider,
                    $parse: $ParseProvider,
                    $rootScope: $RootScopeProvider,
                    $q: $QProvider,
                    $$q: $$QProvider,
                    $sce: $SceProvider,
                    $sceDelegate: $SceDelegateProvider,
                    $sniffer: $SnifferProvider,
                    $templateCache: $TemplateCacheProvider,
                    $templateRequest: $TemplateRequestProvider,
                    $$testability: $$TestabilityProvider,
                    $timeout: $TimeoutProvider,
                    $window: $WindowProvider,
                    $$rAF: $$RAFProvider,
                    $$asyncCallback: $$AsyncCallbackProvider,
                    $$jqLite: $$jqLiteProvider,
                    $$HashMap: $$HashMapProvider,
                    $$cookieReader: $$CookieReaderProvider
                })
            }])
        }(angular), jqLite(document).ready(function() {
            angularInit(document, bootstrap)
        }))
    }(window, document), window.angular.$$csp() || window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'), define("angular", function(global) {
        return function() {
            return global.angular
        }
    }(this)),
    function(window, angular, undefined) {
        "use strict";

        function $$CookieWriter($document, $log, $browser) {
            var cookiePath = $browser.baseHref(),
                rawDocument = $document[0];
            return function(name, value, options) {
                rawDocument.cookie = function(name, value, options) {
                    var path, expires;
                    expires = (options = options || {}).expires, path = angular.isDefined(options.path) ? options.path : cookiePath, void 0 === value && (expires = "Thu, 01 Jan 1970 00:00:00 GMT", value = ""), angular.isString(expires) && (expires = new Date(expires));
                    var str = encodeURIComponent(name) + "=" + encodeURIComponent(value);
                    str += path ? ";path=" + path : "", str += options.domain ? ";domain=" + options.domain : "", str += expires ? ";expires=" + expires.toUTCString() : "";
                    var cookieLength = (str += options.secure ? ";secure" : "").length + 1;
                    return 4096 < cookieLength && $log.warn("Cookie '" + name + "' possibly not set or overflowed because it was too large (" + cookieLength + " > 4096 bytes)!"), str
                }(name, value, options)
            }
        }
        angular.module("ngCookies", ["ng"]).provider("$cookies", [function() {
            var defaults = this.defaults = {};

            function calcOptions(options) {
                return options ? angular.extend({}, defaults, options) : defaults
            }
            this.$get = ["$$cookieReader", "$$cookieWriter", function($$cookieReader, $$cookieWriter) {
                return {
                    get: function(key) {
                        return $$cookieReader()[key]
                    },
                    getObject: function(key) {
                        var value = this.get(key);
                        return value ? angular.fromJson(value) : value
                    },
                    getAll: function() {
                        return $$cookieReader()
                    },
                    put: function(key, value, options) {
                        $$cookieWriter(key, value, calcOptions(options))
                    },
                    putObject: function(key, value, options) {
                        this.put(key, angular.toJson(value), options)
                    },
                    remove: function(key, options) {
                        $$cookieWriter(key, void 0, calcOptions(options))
                    }
                }
            }]
        }]), angular.module("ngCookies").factory("$cookieStore", ["$cookies", function($cookies) {
            return {
                get: function(key) {
                    return $cookies.getObject(key)
                },
                put: function(key, value) {
                    $cookies.putObject(key, value)
                },
                remove: function(key) {
                    $cookies.remove(key)
                }
            }
        }]), $$CookieWriter.$inject = ["$document", "$log", "$browser"], angular.module("ngCookies").provider("$$cookieWriter", function() {
            this.$get = $$CookieWriter
        })
    }(window, window.angular), define("angular_cookies", ["angular"], function() {}), angular.module("ngIOS9UIWebViewPatch", ["ng"]).config(["$provide", function($provide) {
        "use strict";
        $provide.decorator("$browser", ["$delegate", "$window", function($delegate, $window) {
            if (userAgent = $window.navigator.userAgent, /(iPhone|iPad|iPod).* OS 9_\d/.test(userAgent) && !/Version\/9\./.test(userAgent)) return pendingLocationUrl = null, originalUrlFn = (browser = $delegate).url, browser.url = function() {
                return arguments.length ? (pendingLocationUrl = arguments[0], originalUrlFn.apply(browser, arguments)) : pendingLocationUrl || originalUrlFn.apply(browser, arguments)
            }, window.addEventListener("popstate", clearPendingLocationUrl, !1), window.addEventListener("hashchange", clearPendingLocationUrl, !1), browser;

            function clearPendingLocationUrl() {
                pendingLocationUrl = null
            }
            var browser, pendingLocationUrl, originalUrlFn, userAgent;
            return $delegate
        }])
    }]), define("angular_ios9_uiwebview", ["angular"], function() {}),
    function(window, angular, undefined) {
        "use strict";
        var $resourceMinErr = angular.$$minErr("$resource"),
            MEMBER_NAME_REGEX = /^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;

        function lookupDottedPath(obj, path) {
            if (! function(path) {
                    return null != path && "" !== path && "hasOwnProperty" !== path && MEMBER_NAME_REGEX.test("." + path)
                }(path)) throw $resourceMinErr("badmember", 'Dotted member path "@{0}" is invalid.', path);
            for (var keys = path.split("."), i = 0, ii = keys.length; i < ii && obj !== undefined; i++) {
                var key = keys[i];
                obj = null !== obj ? obj[key] : undefined
            }
            return obj
        }

        function shallowClearAndCopy(src, dst) {
            for (var key in dst = dst || {}, angular.forEach(dst, function(value, key) {
                    delete dst[key]
                }), src) !src.hasOwnProperty(key) || "$" === key.charAt(0) && "$" === key.charAt(1) || (dst[key] = src[key]);
            return dst
        }
        angular.module("ngResource", ["ng"]).provider("$resource", function() {
            var provider = this;
            this.defaults = {
                stripTrailingSlashes: !0,
                actions: {
                    get: {
                        method: "GET"
                    },
                    save: {
                        method: "POST"
                    },
                    query: {
                        method: "GET",
                        isArray: !0
                    },
                    remove: {
                        method: "DELETE"
                    },
                    delete: {
                        method: "DELETE"
                    }
                }
            }, this.$get = ["$http", "$q", function($http, $q) {
                var noop = angular.noop,
                    forEach = angular.forEach,
                    extend = angular.extend,
                    copy = angular.copy,
                    isFunction = angular.isFunction;

                function encodeUriSegment(val) {
                    return function(val, pctEncodeSpaces) {
                        return encodeURIComponent(val).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, pctEncodeSpaces ? "%20" : "+")
                    }(val, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
                }

                function Route(template, defaults) {
                    this.template = template, this.defaults = extend({}, provider.defaults, defaults), this.urlParams = {}
                }
                return Route.prototype = {
                        setUrlParams: function(config, params, actionUrl) {
                            var val, encodedVal, self = this,
                                url = actionUrl || self.template,
                                urlParams = self.urlParams = {};
                            forEach(url.split(/\W/), function(param) {
                                if ("hasOwnProperty" === param) throw $resourceMinErr("badname", "hasOwnProperty is not a valid parameter name.");
                                !new RegExp("^\\d+$").test(param) && param && new RegExp("(^|[^\\\\]):" + param + "(\\W|$)").test(url) && (urlParams[param] = !0)
                            }), url = url.replace(/\\:/g, ":"), params = params || {}, forEach(self.urlParams, function(_, urlParam) {
                                val = params.hasOwnProperty(urlParam) ? params[urlParam] : self.defaults[urlParam], url = angular.isDefined(val) && null !== val ? (encodedVal = encodeUriSegment(val), url.replace(new RegExp(":" + urlParam + "(\\W|$)", "g"), function(match, p1) {
                                    return encodedVal + p1
                                })) : url.replace(new RegExp("(/?):" + urlParam + "(\\W|$)", "g"), function(match, leadingSlashes, tail) {
                                    return "/" == tail.charAt(0) ? tail : leadingSlashes + tail
                                })
                            }), self.defaults.stripTrailingSlashes && (url = url.replace(/\/+$/, "") || "/"), url = url.replace(/\/\.(?=\w+($|\?))/, "."), config.url = url.replace(/\/\\\./, "/."), forEach(params, function(value, key) {
                                self.urlParams[key] || (config.params = config.params || {}, config.params[key] = value)
                            })
                        }
                    },
                    function resourceFactory(url, paramDefaults, actions, options) {
                        var route = new Route(url, options);

                        function defaultResponseInterceptor(response) {
                            return response.resource
                        }

                        function Resource(value) {
                            shallowClearAndCopy(value || {}, this)
                        }
                        return actions = extend({}, provider.defaults.actions, actions), Resource.prototype.toJSON = function() {
                            var data = extend({}, this);
                            return delete data.$promise, delete data.$resolved, data
                        }, forEach(actions, function(action, name) {
                            var hasBody = /^(POST|PUT|PATCH)$/i.test(action.method);
                            Resource[name] = function(a1, a2, a3, a4) {
                                var data, success, error, params = {};
                                switch (arguments.length) {
                                    case 4:
                                        error = a4, success = a3;
                                    case 3:
                                    case 2:
                                        if (!isFunction(a2)) {
                                            params = a1, data = a2, success = a3;
                                            break
                                        }
                                        if (isFunction(a1)) {
                                            success = a1, error = a2;
                                            break
                                        }
                                        success = a2, error = a3;
                                    case 1:
                                        isFunction(a1) ? success = a1 : hasBody ? data = a1 : params = a1;
                                        break;
                                    case 0:
                                        break;
                                    default:
                                        throw $resourceMinErr("badargs", "Expected up to 4 arguments [params, data, success, error], got {0} arguments", arguments.length)
                                }
                                var isInstanceCall = this instanceof Resource,
                                    value = isInstanceCall ? data : action.isArray ? [] : new Resource(data),
                                    httpConfig = {},
                                    responseInterceptor = action.interceptor && action.interceptor.response || defaultResponseInterceptor,
                                    responseErrorInterceptor = action.interceptor && action.interceptor.responseError || undefined;
                                forEach(action, function(value, key) {
                                    "params" != key && "isArray" != key && "interceptor" != key && (httpConfig[key] = copy(value))
                                }), hasBody && (httpConfig.data = data), route.setUrlParams(httpConfig, extend({}, function(data, actionParams) {
                                    var ids = {};
                                    return actionParams = extend({}, paramDefaults, actionParams), forEach(actionParams, function(value, key) {
                                        isFunction(value) && (value = value()), ids[key] = value && value.charAt && "@" == value.charAt(0) ? lookupDottedPath(data, value.substr(1)) : value
                                    }), ids
                                }(data, action.params || {}), params), action.url);
                                var promise = $http(httpConfig).then(function(response) {
                                    var data = response.data,
                                        promise = value.$promise;
                                    if (data) {
                                        if (angular.isArray(data) !== !!action.isArray) throw $resourceMinErr("badcfg", "Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}", name, action.isArray ? "array" : "object", angular.isArray(data) ? "array" : "object");
                                        action.isArray ? (value.length = 0, forEach(data, function(item) {
                                            "object" == typeof item ? value.push(new Resource(item)) : value.push(item)
                                        })) : (shallowClearAndCopy(data, value), value.$promise = promise)
                                    }
                                    return value.$resolved = !0, response.resource = value, response
                                }, function(response) {
                                    return value.$resolved = !0, (error || noop)(response), $q.reject(response)
                                });
                                return promise = promise.then(function(response) {
                                    var value = responseInterceptor(response);
                                    return (success || noop)(value, response.headers), value
                                }, responseErrorInterceptor), isInstanceCall ? promise : (value.$promise = promise, value.$resolved = !1, value)
                            }, Resource.prototype["$" + name] = function(params, success, error) {
                                isFunction(params) && (error = success, success = params, params = {});
                                var result = Resource[name].call(this, params, this, success, error);
                                return result.$promise || result
                            }
                        }), Resource.bind = function(additionalParamDefaults) {
                            return resourceFactory(url, extend({}, paramDefaults, additionalParamDefaults), actions)
                        }, Resource
                    }
            }]
        })
    }(window, window.angular), define("angular_resource", ["angular"], function() {}),
    function(window, angular, undefined) {
        "use strict";
        var ngRouteModule = angular.module("ngRoute", ["ng"]).provider("$route", function() {
                function inherit(parent, extra) {
                    return angular.extend(Object.create(parent), extra)
                }
                var routes = {};

                function pathRegExp(path, opts) {
                    var insensitive = opts.caseInsensitiveMatch,
                        ret = {
                            originalPath: path,
                            regexp: path
                        },
                        keys = ret.keys = [];
                    return path = path.replace(/([().])/g, "\\$1").replace(/(\/)?:(\w+)([\?\*])?/g, function(_, slash, key, option) {
                        var optional = "?" === option ? option : null,
                            star = "*" === option ? option : null;
                        return keys.push({
                            name: key,
                            optional: !!optional
                        }), slash = slash || "", (optional ? "" : slash) + "(?:" + (optional ? slash : "") + (star ? "(.+?)" : "([^/]+)") + (optional || "") + ")" + (optional || "")
                    }).replace(/([\/$\*])/g, "\\$1"), ret.regexp = new RegExp("^" + path + "$", insensitive ? "i" : ""), ret
                }
                this.when = function(path, route) {
                    var routeCopy = angular.copy(route);
                    if (angular.isUndefined(routeCopy.reloadOnSearch) && (routeCopy.reloadOnSearch = !0), angular.isUndefined(routeCopy.caseInsensitiveMatch) && (routeCopy.caseInsensitiveMatch = this.caseInsensitiveMatch), routes[path] = angular.extend(routeCopy, path && pathRegExp(path, routeCopy)), path) {
                        var redirectPath = "/" == path[path.length - 1] ? path.substr(0, path.length - 1) : path + "/";
                        routes[redirectPath] = angular.extend({
                            redirectTo: path
                        }, pathRegExp(redirectPath, routeCopy))
                    }
                    return this
                }, this.caseInsensitiveMatch = !1, this.otherwise = function(params) {
                    return "string" == typeof params && (params = {
                        redirectTo: params
                    }), this.when(null, params), this
                }, this.$get = ["$rootScope", "$location", "$routeParams", "$q", "$injector", "$templateRequest", "$sce", function($rootScope, $location, $routeParams, $q, $injector, $templateRequest, $sce) {
                    var preparedRoute, preparedRouteIsUpdateOnly, forceReload = !1,
                        $route = {
                            routes: routes,
                            reload: function() {
                                forceReload = !0, $rootScope.$evalAsync(function() {
                                    prepareRoute(), commitRoute()
                                })
                            },
                            updateParams: function(newParams) {
                                if (!this.current || !this.current.$$route) throw $routeMinErr("norout", "Tried updating route when with no current route");
                                newParams = angular.extend({}, this.current.params, newParams), $location.path(interpolate(this.current.$$route.originalPath, newParams)), $location.search(newParams)
                            }
                        };
                    return $rootScope.$on("$locationChangeStart", prepareRoute), $rootScope.$on("$locationChangeSuccess", commitRoute), $route;

                    function prepareRoute($locationEvent) {
                        var lastRoute = $route.current;
                        preparedRoute = function() {
                            var params, match;
                            return angular.forEach(routes, function(route, path) {
                                !match && (params = function(on, route) {
                                    var keys = route.keys,
                                        params = {};
                                    if (!route.regexp) return null;
                                    var m = route.regexp.exec(on);
                                    if (!m) return null;
                                    for (var i = 1, len = m.length; i < len; ++i) {
                                        var key = keys[i - 1],
                                            val = m[i];
                                        key && val && (params[key.name] = val)
                                    }
                                    return params
                                }($location.path(), route)) && ((match = inherit(route, {
                                    params: angular.extend({}, $location.search(), params),
                                    pathParams: params
                                })).$$route = route)
                            }), match || routes.null && inherit(routes.null, {
                                params: {},
                                pathParams: {}
                            })
                        }(), (preparedRouteIsUpdateOnly = preparedRoute && lastRoute && preparedRoute.$$route === lastRoute.$$route && angular.equals(preparedRoute.pathParams, lastRoute.pathParams) && !preparedRoute.reloadOnSearch && !forceReload) || !lastRoute && !preparedRoute || $rootScope.$broadcast("$routeChangeStart", preparedRoute, lastRoute).defaultPrevented && $locationEvent && $locationEvent.preventDefault()
                    }

                    function commitRoute() {
                        var lastRoute = $route.current,
                            nextRoute = preparedRoute;
                        preparedRouteIsUpdateOnly ? (lastRoute.params = nextRoute.params, angular.copy(lastRoute.params, $routeParams), $rootScope.$broadcast("$routeUpdate", lastRoute)) : (nextRoute || lastRoute) && (forceReload = !1, ($route.current = nextRoute) && nextRoute.redirectTo && (angular.isString(nextRoute.redirectTo) ? $location.path(interpolate(nextRoute.redirectTo, nextRoute.params)).search(nextRoute.params).replace() : $location.url(nextRoute.redirectTo(nextRoute.pathParams, $location.path(), $location.search())).replace()), $q.when(nextRoute).then(function() {
                            if (nextRoute) {
                                var template, templateUrl, locals = angular.extend({}, nextRoute.resolve);
                                return angular.forEach(locals, function(value, key) {
                                    locals[key] = angular.isString(value) ? $injector.get(value) : $injector.invoke(value, null, null, key)
                                }), angular.isDefined(template = nextRoute.template) ? angular.isFunction(template) && (template = template(nextRoute.params)) : angular.isDefined(templateUrl = nextRoute.templateUrl) && (angular.isFunction(templateUrl) && (templateUrl = templateUrl(nextRoute.params)), templateUrl = $sce.getTrustedResourceUrl(templateUrl), angular.isDefined(templateUrl) && (nextRoute.loadedTemplateUrl = templateUrl, template = $templateRequest(templateUrl))), angular.isDefined(template) && (locals.$template = template), $q.all(locals)
                            }
                        }).then(function(locals) {
                            nextRoute == $route.current && (nextRoute && (nextRoute.locals = locals, angular.copy(nextRoute.params, $routeParams)), $rootScope.$broadcast("$routeChangeSuccess", nextRoute, lastRoute))
                        }, function(error) {
                            nextRoute == $route.current && $rootScope.$broadcast("$routeChangeError", nextRoute, lastRoute, error)
                        }))
                    }

                    function interpolate(string, params) {
                        var result = [];
                        return angular.forEach((string || "").split(":"), function(segment, i) {
                            if (0 === i) result.push(segment);
                            else {
                                var segmentMatch = segment.match(/(\w+)(?:[?*])?(.*)/),
                                    key = segmentMatch[1];
                                result.push(params[key]), result.push(segmentMatch[2] || ""), delete params[key]
                            }
                        }), result.join("")
                    }
                }]
            }),
            $routeMinErr = angular.$$minErr("ngRoute");

        function ngViewFactory($route, $anchorScroll, $animate) {
            return {
                restrict: "ECA",
                terminal: !0,
                priority: 400,
                transclude: "element",
                link: function(scope, $element, attr, ctrl, $transclude) {
                    var currentScope, currentElement, previousLeaveAnimation, autoScrollExp = attr.autoscroll,
                        onloadExp = attr.onload || "";

                    function cleanupLastView() {
                        previousLeaveAnimation && ($animate.cancel(previousLeaveAnimation), previousLeaveAnimation = null), currentScope && (currentScope.$destroy(), currentScope = null), currentElement && ((previousLeaveAnimation = $animate.leave(currentElement)).then(function() {
                            previousLeaveAnimation = null
                        }), currentElement = null)
                    }

                    function update() {
                        var locals = $route.current && $route.current.locals,
                            template = locals && locals.$template;
                        if (angular.isDefined(template)) {
                            var newScope = scope.$new(),
                                current = $route.current,
                                clone = $transclude(newScope, function(clone) {
                                    $animate.enter(clone, null, currentElement || $element).then(function() {
                                        !angular.isDefined(autoScrollExp) || autoScrollExp && !scope.$eval(autoScrollExp) || $anchorScroll()
                                    }), cleanupLastView()
                                });
                            currentElement = clone, (currentScope = current.scope = newScope).$emit("$viewContentLoaded"), currentScope.$eval(onloadExp)
                        } else cleanupLastView()
                    }
                    scope.$on("$routeChangeSuccess", update), update()
                }
            }
        }

        function ngViewFillContentFactory($compile, $controller, $route) {
            return {
                restrict: "ECA",
                priority: -400,
                link: function(scope, $element) {
                    var current = $route.current,
                        locals = current.locals;
                    $element.html(locals.$template);
                    var link = $compile($element.contents());
                    if (current.controller) {
                        locals.$scope = scope;
                        var controller = $controller(current.controller, locals);
                        current.controllerAs && (scope[current.controllerAs] = controller), $element.data("$ngControllerController", controller), $element.children().data("$ngControllerController", controller)
                    }
                    link(scope)
                }
            }
        }
        ngRouteModule.provider("$routeParams", function() {
            this.$get = function() {
                return {}
            }
        }), ngRouteModule.directive("ngView", ngViewFactory), ngRouteModule.directive("ngView", ngViewFillContentFactory), ngViewFactory.$inject = ["$route", "$anchorScroll", "$animate"], ngViewFillContentFactory.$inject = ["$compile", "$controller", "$route"]
    }(window, window.angular), define("angular_route", ["angular"], function() {}),
    function(window, angular, undefined) {
        "use strict";
        var $sanitizeMinErr = angular.$$minErr("$sanitize");
        var START_TAG_REGEXP = /^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,
            END_TAG_REGEXP = /^<\/\s*([\w:-]+)[^>]*>/,
            ATTR_REGEXP = /([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,
            BEGIN_TAG_REGEXP = /^</,
            BEGING_END_TAGE_REGEXP = /^<\//,
            COMMENT_REGEXP = /<!--(.*?)-->/g,
            DOCTYPE_REGEXP = /<!DOCTYPE([^>]*?)>/i,
            CDATA_REGEXP = /<!\[CDATA\[(.*?)]]>/g,
            SURROGATE_PAIR_REGEXP = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            NON_ALPHANUMERIC_REGEXP = /([^\#-~| |!])/g,
            voidElements = makeMap("area,br,col,hr,img,wbr"),
            optionalEndTagBlockElements = makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),
            optionalEndTagInlineElements = makeMap("rp,rt"),
            optionalEndTagElements = angular.extend({}, optionalEndTagInlineElements, optionalEndTagBlockElements),
            blockElements = angular.extend({}, optionalEndTagBlockElements, makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),
            inlineElements = angular.extend({}, optionalEndTagInlineElements, makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),
            svgElements = makeMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),
            specialElements = makeMap("script,style"),
            validElements = angular.extend({}, voidElements, blockElements, inlineElements, optionalEndTagElements, svgElements),
            uriAttrs = makeMap("background,cite,href,longdesc,src,usemap,xlink:href"),
            htmlAttrs = makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),
            svgAttrs = makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan", !0),
            validAttrs = angular.extend({}, uriAttrs, svgAttrs, htmlAttrs);

        function makeMap(str, lowercaseKeys) {
            var i, obj = {},
                items = str.split(",");
            for (i = 0; i < items.length; i++) obj[lowercaseKeys ? angular.lowercase(items[i]) : items[i]] = !0;
            return obj
        }
        var hiddenPre = document.createElement("pre");

        function decodeEntities(value) {
            return value ? (hiddenPre.innerHTML = value.replace(/</g, "&lt;"), hiddenPre.textContent) : ""
        }

        function encodeEntities(value) {
            return value.replace(/&/g, "&amp;").replace(SURROGATE_PAIR_REGEXP, function(value) {
                return "&#" + (1024 * (value.charCodeAt(0) - 55296) + (value.charCodeAt(1) - 56320) + 65536) + ";"
            }).replace(NON_ALPHANUMERIC_REGEXP, function(value) {
                return "&#" + value.charCodeAt(0) + ";"
            }).replace(/</g, "&lt;").replace(/>/g, "&gt;")
        }

        function htmlSanitizeWriter(buf, uriValidator) {
            var ignore = !1,
                out = angular.bind(buf, buf.push);
            return {
                start: function(tag, attrs, unary) {
                    tag = angular.lowercase(tag), !ignore && specialElements[tag] && (ignore = tag), ignore || !0 !== validElements[tag] || (out("<"), out(tag), angular.forEach(attrs, function(value, key) {
                        var lkey = angular.lowercase(key),
                            isImage = "img" === tag && "src" === lkey || "background" === lkey;
                        !0 !== validAttrs[lkey] || !0 === uriAttrs[lkey] && !uriValidator(value, isImage) || (out(" "), out(key), out('="'), out(encodeEntities(value)), out('"'))
                    }), out(unary ? "/>" : ">"))
                },
                end: function(tag) {
                    tag = angular.lowercase(tag), ignore || !0 !== validElements[tag] || (out("</"), out(tag), out(">")), tag == ignore && (ignore = !1)
                },
                chars: function(chars) {
                    ignore || out(encodeEntities(chars))
                }
            }
        }
        angular.module("ngSanitize", []).provider("$sanitize", function() {
            this.$get = ["$$sanitizeUri", function($$sanitizeUri) {
                return function(html) {
                    var buf = [];
                    return function(html, handler) {
                        "string" != typeof html && (html = null == html ? "" : "" + html);
                        var index, chars, match, text, stack = [],
                            last = html;
                        for (stack.last = function() {
                                return stack[stack.length - 1]
                            }; html;) {
                            if (chars = !(text = ""), stack.last() && specialElements[stack.last()] ? (html = html.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*" + stack.last() + "[^>]*>", "i"), function(all, text) {
                                    return text = text.replace(COMMENT_REGEXP, "$1").replace(CDATA_REGEXP, "$1"), handler.chars && handler.chars(decodeEntities(text)), ""
                                }), parseEndTag("", stack.last())) : (0 === html.indexOf("\x3c!--") ? 0 <= (index = html.indexOf("--", 4)) && html.lastIndexOf("--\x3e", index) === index && (handler.comment && handler.comment(html.substring(4, index)), html = html.substring(index + 3), chars = !1) : DOCTYPE_REGEXP.test(html) ? (match = html.match(DOCTYPE_REGEXP)) && (html = html.replace(match[0], ""), chars = !1) : BEGING_END_TAGE_REGEXP.test(html) ? (match = html.match(END_TAG_REGEXP)) && (html = html.substring(match[0].length), match[0].replace(END_TAG_REGEXP, parseEndTag), chars = !1) : BEGIN_TAG_REGEXP.test(html) && ((match = html.match(START_TAG_REGEXP)) ? (match[4] && (html = html.substring(match[0].length), match[0].replace(START_TAG_REGEXP, parseStartTag)), chars = !1) : (text += "<", html = html.substring(1))), chars && (index = html.indexOf("<"), text += index < 0 ? html : html.substring(0, index), html = index < 0 ? "" : html.substring(index), handler.chars && handler.chars(decodeEntities(text)))), html == last) throw $sanitizeMinErr("badparse", "The sanitizer was unable to parse the following block of html: {0}", html);
                            last = html
                        }

                        function parseStartTag(tag, tagName, rest, unary) {
                            if (tagName = angular.lowercase(tagName), blockElements[tagName])
                                for (; stack.last() && inlineElements[stack.last()];) parseEndTag("", stack.last());
                            optionalEndTagElements[tagName] && stack.last() == tagName && parseEndTag("", tagName), (unary = voidElements[tagName] || !!unary) || stack.push(tagName);
                            var attrs = {};
                            rest.replace(ATTR_REGEXP, function(match, name, doubleQuotedValue, singleQuotedValue, unquotedValue) {
                                var value = doubleQuotedValue || singleQuotedValue || unquotedValue || "";
                                attrs[name] = decodeEntities(value)
                            }), handler.start && handler.start(tagName, attrs, unary)
                        }

                        function parseEndTag(tag, tagName) {
                            var i, pos = 0;
                            if (tagName = angular.lowercase(tagName))
                                for (pos = stack.length - 1; 0 <= pos && stack[pos] != tagName; pos--);
                            if (0 <= pos) {
                                for (i = stack.length - 1; pos <= i; i--) handler.end && handler.end(stack[i]);
                                stack.length = pos
                            }
                        }
                        parseEndTag()
                    }(html, htmlSanitizeWriter(buf, function(uri, isImage) {
                        return !/^unsafe/.test($$sanitizeUri(uri, isImage))
                    })), buf.join("")
                }
            }]
        }), angular.module("ngSanitize").filter("linky", ["$sanitize", function($sanitize) {
            var LINKY_URL_REGEXP = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,
                MAILTO_REGEXP = /^mailto:/;
            return function(text, target) {
                if (!text) return text;
                for (var match, url, i, raw = text, html = []; match = raw.match(LINKY_URL_REGEXP);) url = match[0], match[2] || match[4] || (url = (match[3] ? "http://" : "mailto:") + url), i = match.index, addText(raw.substr(0, i)), addLink(url, match[0].replace(MAILTO_REGEXP, "")), raw = raw.substring(i + match[0].length);
                return addText(raw), $sanitize(html.join(""));

                function addText(text) {
                    text && html.push(function(chars) {
                        var buf = [];
                        return htmlSanitizeWriter(buf, angular.noop).chars(chars), buf.join("")
                    }(text))
                }

                function addLink(url, text) {
                    html.push("<a "), angular.isDefined(target) && html.push('target="', target, '" '), html.push('href="', url.replace(/"/g, "&quot;"), '">'), addText(text), html.push("</a>")
                }
            }
        }])
    }(window, window.angular), define("angular_sanitize", ["angular"], function() {}),
    function(root, factory) {
        "use strict";
        "function" == typeof define && define.amd ? define("angular_storage", ["angular"], factory) : "object" == typeof exports ? module.exports = factory(require("angular")) : factory(root.angular)
    }(this, function(angular) {
        "use strict";
        return angular.module("ngStorage", []).factory("$localStorage", _storageFactory("localStorage")).factory("$sessionStorage", _storageFactory("sessionStorage"));

        function _storageFactory(storageType) {
            return ["$rootScope", "$window", "$log", "$timeout", function($rootScope, $window, $log, $timeout) {
                var _last$storage, _debounce, webStorage = function(storageType) {
                        var supported;
                        try {
                            supported = $window[storageType]
                        } catch (err) {
                            supported = !1
                        }
                        if (supported && "localStorage" === storageType) {
                            var key = "__" + Math.round(1e7 * Math.random());
                            try {
                                localStorage.setItem(key, key), localStorage.removeItem(key)
                            } catch (err) {
                                supported = !1
                            }
                        }
                        return supported
                    }(storageType) || ($log.warn("This browser does not support Web Storage!"), {
                        setItem: function() {},
                        getItem: function() {}
                    }),
                    $storage = {
                        $default: function(items) {
                            for (var k in items) angular.isDefined($storage[k]) || ($storage[k] = items[k]);
                            return $storage.$sync(), $storage
                        },
                        $reset: function(items) {
                            for (var k in $storage) "$" === k[0] || delete $storage[k] && webStorage.removeItem("ngStorage-" + k);
                            return $storage.$default(items)
                        },
                        $sync: function() {
                            for (var k, i = 0, l = webStorage.length; i < l; i++)(k = webStorage.key(i)) && "ngStorage-" === k.slice(0, 10) && ($storage[k.slice(10)] = angular.fromJson(webStorage.getItem(k)))
                        }
                    };
                return $storage.$sync(), _last$storage = angular.copy($storage), $rootScope.$watch(function() {
                    var temp$storage;
                    _debounce || (_debounce = $timeout(function() {
                        if (_debounce = null, !angular.equals($storage, _last$storage)) {
                            for (var k in temp$storage = angular.copy(_last$storage), angular.forEach($storage, function(v, k) {
                                    angular.isDefined(v) && "$" !== k[0] && webStorage.setItem("ngStorage-" + k, angular.toJson(v)), delete temp$storage[k]
                                }), temp$storage) webStorage.removeItem("ngStorage-" + k);
                            _last$storage = angular.copy($storage)
                        }
                    }, 100, !1))
                }), $window.addEventListener && $window.addEventListener("storage", function(event) {
                    "ngStorage-" === event.key.slice(0, 10) && (event.newValue ? $storage[event.key.slice(10)] = angular.fromJson(event.newValue) : delete $storage[event.key.slice(10)], _last$storage = angular.copy($storage), $rootScope.$apply())
                }), $storage
            }]
        }
    }),
    function(window, document, undefined) {
        "use strict";

        function bsCompilerService($q, $http, $injector, $compile, $controller, $templateCache) {
            this.compile = function(options) {
                options.template && /\.html$/.test(options.template) && (console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."), options.templateUrl = options.template, options.template = "");
                var templateUrl = options.templateUrl,
                    template = options.template || "",
                    controller = options.controller,
                    controllerAs = options.controllerAs,
                    resolve = angular.copy(options.resolve || {}),
                    locals = angular.copy(options.locals || {}),
                    transformTemplate = options.transformTemplate || angular.identity,
                    bindToController = options.bindToController;
                return angular.forEach(resolve, function(value, key) {
                    angular.isString(value) ? resolve[key] = $injector.get(value) : resolve[key] = $injector.invoke(value)
                }), angular.extend(resolve, locals), resolve.$template = templateUrl ? fetchTemplate(templateUrl) : $q.when(template), options.contentTemplate && (resolve.$template = $q.all([resolve.$template, fetchTemplate(options.contentTemplate)]).then(function(templates) {
                    var templateEl = angular.element(templates[0]),
                        contentEl = function(query, element) {
                            return angular.element((element || document).querySelectorAll(query))
                        }('[ng-bind="content"]', templateEl[0]).removeAttr("ng-bind").html(templates[1]);
                    return options.templateUrl || contentEl.next().remove(), templateEl[0].outerHTML
                })), $q.all(resolve).then(function(locals) {
                    var template = transformTemplate(locals.$template);
                    options.html && (template = template.replace(/ng-bind="/gi, 'ng-bind-html="'));
                    var element = angular.element("<div>").html(template.trim()).contents(),
                        linkFn = $compile(element);
                    return {
                        locals: locals,
                        element: element,
                        link: function(scope) {
                            if (locals.$scope = scope, controller) {
                                var invokeCtrl = $controller(controller, locals, !0);
                                bindToController && angular.extend(invokeCtrl.instance, locals);
                                var ctrl = angular.isObject(invokeCtrl) ? invokeCtrl : invokeCtrl();
                                element.data("$ngControllerController", ctrl), element.children().data("$ngControllerController", ctrl), controllerAs && (scope[controllerAs] = ctrl)
                            }
                            return linkFn.apply(null, arguments)
                        }
                    }
                })
            };
            var fetchPromises = {};

            function fetchTemplate(template) {
                return fetchPromises[template] ? fetchPromises[template] : fetchPromises[template] = $http.get(template, {
                    cache: $templateCache
                }).then(function(res) {
                    return res.data
                })
            }
        }
        angular.module("mgcrea.ngStrap", ["mgcrea.ngStrap.modal", "mgcrea.ngStrap.aside", "mgcrea.ngStrap.alert", "mgcrea.ngStrap.button", "mgcrea.ngStrap.select", "mgcrea.ngStrap.datepicker", "mgcrea.ngStrap.timepicker", "mgcrea.ngStrap.navbar", "mgcrea.ngStrap.tooltip", "mgcrea.ngStrap.popover", "mgcrea.ngStrap.dropdown", "mgcrea.ngStrap.typeahead", "mgcrea.ngStrap.scrollspy", "mgcrea.ngStrap.affix", "mgcrea.ngStrap.tab", "mgcrea.ngStrap.collapse"]), angular.module("mgcrea.ngStrap.affix", ["mgcrea.ngStrap.helpers.dimensions", "mgcrea.ngStrap.helpers.debounce"]).provider("$affix", function() {
            var defaults = this.defaults = {
                offsetTop: "auto",
                inlineStyles: !0
            };
            this.$get = ["$window", "debounce", "dimensions", function($window, debounce, dimensions) {
                var bodyEl = angular.element($window.document.body),
                    windowEl = angular.element($window);
                return function(element, config) {
                    var $affix = {},
                        options = angular.extend({}, defaults, config),
                        targetEl = options.target,
                        setWidth = !1,
                        initialAffixTop = 0,
                        initialOffsetTop = 0,
                        offsetTop = 0,
                        offsetBottom = 0,
                        affixed = null,
                        unpin = null,
                        parent = element.parent();
                    if (options.offsetParent)
                        if (options.offsetParent.match(/^\d+$/))
                            for (var i = 0; i < 1 * options.offsetParent - 1; i++) parent = parent.parent();
                        else parent = angular.element(options.offsetParent);

                    function getScrollTop() {
                        return targetEl[0] === $window ? $window.pageYOffset : targetEl[0].scrollTop
                    }

                    function getScrollHeight() {
                        return targetEl[0] === $window ? $window.document.body.scrollHeight : targetEl[0].scrollHeight
                    }
                    return $affix.init = function() {
                        this.$parseOffsets(), initialOffsetTop = dimensions.offset(element[0]).top + initialAffixTop, setWidth = !element[0].style.width, targetEl.on("scroll", this.checkPosition), targetEl.on("click", this.checkPositionWithEventLoop), windowEl.on("resize", this.$debouncedOnResize), this.checkPosition(), this.checkPositionWithEventLoop()
                    }, $affix.destroy = function() {
                        targetEl.off("scroll", this.checkPosition), targetEl.off("click", this.checkPositionWithEventLoop), windowEl.off("resize", this.$debouncedOnResize)
                    }, $affix.checkPositionWithEventLoop = function() {
                        setTimeout($affix.checkPosition, 1)
                    }, $affix.checkPosition = function() {
                        var scrollTop = getScrollTop(),
                            position = dimensions.offset(element[0]),
                            elementHeight = dimensions.height(element[0]),
                            affix = function(unpin, position, elementHeight) {
                                var scrollTop = getScrollTop(),
                                    scrollHeight = getScrollHeight();
                                return scrollTop <= offsetTop ? "top" : null !== unpin && scrollTop + unpin <= position.top ? "middle" : null !== offsetBottom && position.top + elementHeight + initialAffixTop >= scrollHeight - offsetBottom ? "bottom" : "middle"
                            }(unpin, position, elementHeight);
                        affixed !== affix && (affixed = affix, element.removeClass("affix affix-top affix-bottom").addClass("affix" + ("middle" !== affix ? "-" + affix : "")), "top" === affix ? (unpin = null, setWidth && element.css("width", ""), options.inlineStyles && (element.css("position", options.offsetParent ? "" : "relative"), element.css("top", ""))) : "bottom" === affix ? (unpin = options.offsetUnpin ? -1 * options.offsetUnpin : position.top - scrollTop, setWidth && element.css("width", ""), options.inlineStyles && (element.css("position", options.offsetParent ? "" : "relative"), element.css("top", options.offsetParent ? "" : bodyEl[0].offsetHeight - offsetBottom - elementHeight - initialOffsetTop + "px"))) : (unpin = null, setWidth && element.css("width", element[0].offsetWidth + "px"), options.inlineStyles && (element.css("position", "fixed"), element.css("top", initialAffixTop + "px"))))
                    }, $affix.$onResize = function() {
                        $affix.$parseOffsets(), $affix.checkPosition()
                    }, $affix.$debouncedOnResize = debounce($affix.$onResize, 50), $affix.$parseOffsets = function() {
                        var initialPosition = element.css("position");
                        options.inlineStyles && element.css("position", options.offsetParent ? "" : "relative"), options.offsetTop && ("auto" === options.offsetTop && (options.offsetTop = "+0"), offsetTop = options.offsetTop.match(/^[-+]\d+$/) ? (initialAffixTop = 1 * -options.offsetTop, options.offsetParent ? dimensions.offset(parent[0]).top + 1 * options.offsetTop : dimensions.offset(element[0]).top - dimensions.css(element[0], "marginTop", !0) + 1 * options.offsetTop) : 1 * options.offsetTop), options.offsetBottom && (offsetBottom = options.offsetParent && options.offsetBottom.match(/^[-+]\d+$/) ? getScrollHeight() - (dimensions.offset(parent[0]).top + dimensions.height(parent[0])) + 1 * options.offsetBottom + 1 : 1 * options.offsetBottom), options.inlineStyles && element.css("position", initialPosition)
                    }, $affix.init(), $affix
                }
            }]
        }).directive("bsAffix", ["$affix", "$window", function($affix, $window) {
            return {
                restrict: "EAC",
                require: "^?bsAffixTarget",
                link: function(scope, element, attr, affixTarget) {
                    var options = {
                        scope: scope,
                        target: affixTarget ? affixTarget.$element : angular.element($window)
                    };
                    angular.forEach(["offsetTop", "offsetBottom", "offsetParent", "offsetUnpin", "inlineStyles"], function(key) {
                        if (angular.isDefined(attr[key])) {
                            var option = attr[key];
                            /true/i.test(option) && (option = !0), /false/i.test(option) && (option = !1), options[key] = option
                        }
                    });
                    var affix = $affix(element, options);
                    scope.$on("$destroy", function() {
                        affix && affix.destroy(), affix = options = null
                    })
                }
            }
        }]).directive("bsAffixTarget", function() {
            return {
                controller: ["$element", function($element) {
                    this.$element = $element
                }]
            }
        }), angular.module("mgcrea.ngStrap.alert", ["mgcrea.ngStrap.modal"]).provider("$alert", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                prefixClass: "alert",
                prefixEvent: "alert",
                placement: null,
                templateUrl: "alert/alert.tpl.html",
                container: !1,
                element: null,
                backdrop: !1,
                keyboard: !0,
                show: !0,
                duration: !1,
                type: !1,
                dismissable: !0
            };
            this.$get = ["$modal", "$timeout", function($modal, $timeout) {
                return function(config) {
                    var $alert = {},
                        options = angular.extend({}, defaults, config);
                    ($alert = $modal(options)).$scope.dismissable = !!options.dismissable, options.type && ($alert.$scope.type = options.type);
                    var show = $alert.show;
                    return options.duration && ($alert.show = function() {
                        show(), $timeout(function() {
                            $alert.hide()
                        }, 1e3 * options.duration)
                    }), $alert
                }
            }]
        }).directive("bsAlert", ["$window", "$sce", "$alert", function($window, $sce, $alert) {
            $window.requestAnimationFrame || $window.setTimeout;
            return {
                restrict: "EAC",
                scope: !0,
                link: function(scope, element, attr, transclusion) {
                    var options = {
                        scope: scope,
                        element: element,
                        show: !1
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "placement", "keyboard", "html", "container", "animation", "duration", "dismissable"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["keyboard", "html", "container", "dismissable"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    }), scope.hasOwnProperty("title") || (scope.title = ""), angular.forEach(["title", "content", "type"], function(key) {
                        attr[key] && attr.$observe(key, function(newValue, oldValue) {
                            scope[key] = $sce.trustAsHtml(newValue)
                        })
                    }), attr.bsAlert && scope.$watch(attr.bsAlert, function(newValue, oldValue) {
                        angular.isObject(newValue) ? angular.extend(scope, newValue) : scope.content = newValue
                    }, !0);
                    var alert = $alert(options);
                    element.on(attr.trigger || "click", alert.toggle), scope.$on("$destroy", function() {
                        alert && alert.destroy(), alert = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.aside", ["mgcrea.ngStrap.modal"]).provider("$aside", function() {
            var defaults = this.defaults = {
                animation: "am-fade-and-slide-right",
                prefixClass: "aside",
                prefixEvent: "aside",
                placement: "right",
                templateUrl: "aside/aside.tpl.html",
                contentTemplate: !1,
                container: !1,
                element: null,
                backdrop: !0,
                keyboard: !0,
                html: !1,
                show: !0
            };
            this.$get = ["$modal", function($modal) {
                return function(config) {
                    var options = angular.extend({}, defaults, config);
                    return $modal(options)
                }
            }]
        }).directive("bsAside", ["$window", "$sce", "$aside", function($window, $sce, $aside) {
            $window.requestAnimationFrame || $window.setTimeout;
            return {
                restrict: "EAC",
                scope: !0,
                link: function(scope, element, attr, transclusion) {
                    var options = {
                        scope: scope,
                        element: element,
                        show: !1
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "contentTemplate", "placement", "backdrop", "keyboard", "html", "container", "animation"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["backdrop", "keyboard", "html", "container"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    }), angular.forEach(["title", "content"], function(key) {
                        attr[key] && attr.$observe(key, function(newValue, oldValue) {
                            scope[key] = $sce.trustAsHtml(newValue)
                        })
                    }), attr.bsAside && scope.$watch(attr.bsAside, function(newValue, oldValue) {
                        angular.isObject(newValue) ? angular.extend(scope, newValue) : scope.content = newValue
                    }, !0);
                    var aside = $aside(options);
                    element.on(attr.trigger || "click", aside.toggle), scope.$on("$destroy", function() {
                        aside && aside.destroy(), aside = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.button", []).provider("$button", function() {
            var defaults = this.defaults = {
                activeClass: "active",
                toggleEvent: "click"
            };
            this.$get = function() {
                return {
                    defaults: defaults
                }
            }
        }).directive("bsCheckboxGroup", function() {
            return {
                restrict: "A",
                require: "ngModel",
                compile: function(element, attr) {
                    element.attr("data-toggle", "buttons"), element.removeAttr("ng-model");
                    var children = element[0].querySelectorAll('input[type="checkbox"]');
                    angular.forEach(children, function(child) {
                        var childEl = angular.element(child);
                        childEl.attr("bs-checkbox", ""), childEl.attr("ng-model", attr.ngModel + "." + childEl.attr("value"))
                    })
                }
            }
        }).directive("bsCheckbox", ["$button", "$$rAF", function($button, $$rAF) {
            var defaults = $button.defaults,
                constantValueRegExp = /^(true|false|\d+)$/;
            return {
                restrict: "A",
                require: "ngModel",
                link: function(scope, element, attr, controller) {
                    var options = defaults,
                        isInput = "INPUT" === element[0].nodeName,
                        activeElement = isInput ? element.parent() : element,
                        trueValue = !angular.isDefined(attr.trueValue) || attr.trueValue;
                    constantValueRegExp.test(attr.trueValue) && (trueValue = scope.$eval(attr.trueValue));
                    var falseValue = !!angular.isDefined(attr.falseValue) && attr.falseValue;
                    constantValueRegExp.test(attr.falseValue) && (falseValue = scope.$eval(attr.falseValue));
                    var hasExoticValues = "boolean" != typeof trueValue || "boolean" != typeof falseValue;
                    hasExoticValues && (controller.$parsers.push(function(viewValue) {
                        return viewValue ? trueValue : falseValue
                    }), controller.$formatters.push(function(modelValue) {
                        return angular.equals(modelValue, trueValue)
                    }), scope.$watch(attr.ngModel, function(newValue, oldValue) {
                        controller.$render()
                    })), controller.$render = function() {
                        var isActive = angular.equals(controller.$modelValue, trueValue);
                        $$rAF(function() {
                            isInput && (element[0].checked = isActive), activeElement.toggleClass(options.activeClass, isActive)
                        })
                    }, element.bind(options.toggleEvent, function() {
                        scope.$apply(function() {
                            isInput || controller.$setViewValue(!activeElement.hasClass("active")), hasExoticValues || controller.$render()
                        })
                    })
                }
            }
        }]).directive("bsRadioGroup", function() {
            return {
                restrict: "A",
                require: "ngModel",
                compile: function(element, attr) {
                    element.attr("data-toggle", "buttons"), element.removeAttr("ng-model");
                    var children = element[0].querySelectorAll('input[type="radio"]');
                    angular.forEach(children, function(child) {
                        angular.element(child).attr("bs-radio", ""), angular.element(child).attr("ng-model", attr.ngModel)
                    })
                }
            }
        }).directive("bsRadio", ["$button", "$$rAF", function($button, $$rAF) {
            var defaults = $button.defaults,
                constantValueRegExp = /^(true|false|\d+)$/;
            return {
                restrict: "A",
                require: "ngModel",
                link: function(scope, element, attr, controller) {
                    var value, options = defaults,
                        isInput = "INPUT" === element[0].nodeName,
                        activeElement = isInput ? element.parent() : element;
                    attr.$observe("value", function(v) {
                        value = constantValueRegExp.test(v) ? scope.$eval(v) : v, controller.$render()
                    }), controller.$render = function() {
                        var isActive = angular.equals(controller.$modelValue, value);
                        $$rAF(function() {
                            isInput && (element[0].checked = isActive), activeElement.toggleClass(options.activeClass, isActive)
                        })
                    }, element.bind(options.toggleEvent, function() {
                        scope.$apply(function() {
                            controller.$setViewValue(value), controller.$render()
                        })
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.collapse", []).provider("$collapse", function() {
            var defaults = this.defaults = {
                    animation: "am-collapse",
                    disallowToggle: !1,
                    activeClass: "in",
                    startCollapsed: !1,
                    allowMultiple: !1
                },
                controller = this.controller = function($scope, $element, $attrs) {
                    var self = this;
                    self.$options = angular.copy(defaults), angular.forEach(["animation", "disallowToggle", "activeClass", "startCollapsed", "allowMultiple"], function(key) {
                        angular.isDefined($attrs[key]) && (self.$options[key] = $attrs[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;

                    function deactivateItem(value) {
                        var index = self.$targets.$active.indexOf(value); - 1 !== index && self.$targets.$active.splice(index, 1)
                    }

                    function activateItem(value) {
                        self.$options.allowMultiple || self.$targets.$active.splice(0, 1), -1 === self.$targets.$active.indexOf(value) && self.$targets.$active.push(value)
                    }
                    angular.forEach(["disallowToggle", "startCollapsed", "allowMultiple"], function(key) {
                        angular.isDefined($attrs[key]) && falseValueRegExp.test($attrs[key]) && (self.$options[key] = !1)
                    }), self.$toggles = [], self.$targets = [], self.$viewChangeListeners = [], self.$registerToggle = function(element) {
                        self.$toggles.push(element)
                    }, self.$registerTarget = function(element) {
                        self.$targets.push(element)
                    }, self.$unregisterToggle = function(element) {
                        var index = self.$toggles.indexOf(element);
                        self.$toggles.splice(index, 1)
                    }, self.$unregisterTarget = function(element) {
                        var index = self.$targets.indexOf(element);
                        self.$targets.splice(index, 1), self.$options.allowMultiple && deactivateItem(element),
                            function(index) {
                                for (var activeIndexes = self.$targets.$active, i = 0; i < activeIndexes.length; i++) index < activeIndexes[i] && (activeIndexes[i] = activeIndexes[i] - 1), activeIndexes[i] === self.$targets.length && (activeIndexes[i] = self.$targets.length - 1)
                            }(index), self.$viewChangeListeners.forEach(function(fn) {
                                fn()
                            })
                    }, self.$targets.$active = self.$options.startCollapsed ? [] : [0], self.$setActive = $scope.$setActive = function(value) {
                        angular.isArray(value) ? self.$targets.$active = value : self.$options.disallowToggle ? activateItem(value) : ! function(value) {
                            return -1 !== self.$targets.$active.indexOf(value)
                        }(value) ? activateItem(value) : deactivateItem(value), self.$viewChangeListeners.forEach(function(fn) {
                            fn()
                        })
                    }, self.$activeIndexes = function() {
                        return self.$options.allowMultiple ? self.$targets.$active : 1 === self.$targets.$active.length ? self.$targets.$active[0] : -1
                    }
                };
            this.$get = function() {
                var $collapse = {};
                return $collapse.defaults = defaults, $collapse.controller = controller, $collapse
            }
        }).directive("bsCollapse", ["$window", "$animate", "$collapse", function($window, $animate, $collapse) {
            $collapse.defaults;
            return {
                require: ["?ngModel", "bsCollapse"],
                controller: ["$scope", "$element", "$attrs", $collapse.controller],
                link: function(scope, element, attrs, controllers) {
                    var ngModelCtrl = controllers[0],
                        bsCollapseCtrl = controllers[1];
                    ngModelCtrl && (bsCollapseCtrl.$viewChangeListeners.push(function() {
                        ngModelCtrl.$setViewValue(bsCollapseCtrl.$activeIndexes())
                    }), ngModelCtrl.$formatters.push(function(modelValue) {
                        if (angular.isArray(modelValue)) bsCollapseCtrl.$setActive(modelValue);
                        else {
                            var activeIndexes = bsCollapseCtrl.$activeIndexes();
                            angular.isArray(activeIndexes) ? -1 === activeIndexes.indexOf(1 * modelValue) && bsCollapseCtrl.$setActive(1 * modelValue) : activeIndexes !== 1 * modelValue && bsCollapseCtrl.$setActive(1 * modelValue)
                        }
                        return modelValue
                    }))
                }
            }
        }]).directive("bsCollapseToggle", function() {
            return {
                require: ["^?ngModel", "^bsCollapse"],
                link: function(scope, element, attrs, controllers) {
                    controllers[0];
                    var bsCollapseCtrl = controllers[1];
                    element.attr("data-toggle", "collapse"), bsCollapseCtrl.$registerToggle(element), scope.$on("$destroy", function() {
                        bsCollapseCtrl.$unregisterToggle(element)
                    }), element.on("click", function() {
                        var index = attrs.bsCollapseToggle && "bs-collapse-toggle" !== attrs.bsCollapseToggle ? attrs.bsCollapseToggle : bsCollapseCtrl.$toggles.indexOf(element);
                        bsCollapseCtrl.$setActive(1 * index), scope.$apply()
                    })
                }
            }
        }).directive("bsCollapseTarget", ["$animate", function($animate) {
            return {
                require: ["^?ngModel", "^bsCollapse"],
                link: function(scope, element, attrs, controllers) {
                    controllers[0];
                    var bsCollapseCtrl = controllers[1];

                    function render() {
                        var index = bsCollapseCtrl.$targets.indexOf(element),
                            active = bsCollapseCtrl.$activeIndexes(),
                            action = "removeClass";
                        angular.isArray(active) ? -1 !== active.indexOf(index) && (action = "addClass") : index === active && (action = "addClass"), $animate[action](element, bsCollapseCtrl.$options.activeClass)
                    }
                    element.addClass("collapse"), bsCollapseCtrl.$options.animation && element.addClass(bsCollapseCtrl.$options.animation), bsCollapseCtrl.$registerTarget(element), scope.$on("$destroy", function() {
                        bsCollapseCtrl.$unregisterTarget(element)
                    }), bsCollapseCtrl.$viewChangeListeners.push(function() {
                        render()
                    }), render()
                }
            }
        }]), angular.module("mgcrea.ngStrap.datepicker", ["mgcrea.ngStrap.helpers.dateParser", "mgcrea.ngStrap.helpers.dateFormatter", "mgcrea.ngStrap.tooltip"]).provider("$datepicker", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                prefixClass: "datepicker",
                placement: "bottom-left",
                templateUrl: "datepicker/datepicker.tpl.html",
                trigger: "focus",
                container: !1,
                keyboard: !0,
                html: !1,
                delay: 0,
                useNative: !1,
                dateType: "date",
                dateFormat: "shortDate",
                timezone: null,
                modelDateFormat: null,
                dayFormat: "dd",
                monthFormat: "MMM",
                yearFormat: "yyyy",
                monthTitleFormat: "MMMM yyyy",
                yearTitleFormat: "yyyy",
                strictFormat: !1,
                autoclose: !1,
                minDate: -1 / 0,
                maxDate: 1 / 0,
                startView: 0,
                minView: 0,
                startWeek: 0,
                daysOfWeekDisabled: "",
                iconLeft: "glyphicon glyphicon-chevron-left",
                iconRight: "glyphicon glyphicon-chevron-right"
            };
            this.$get = ["$window", "$document", "$rootScope", "$sce", "$dateFormatter", "datepickerViews", "$tooltip", "$timeout", function($window, $document, $rootScope, $sce, $dateFormatter, datepickerViews, $tooltip, $timeout) {
                angular.element($window.document.body);
                var isNative = /(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),
                    isTouch = "createTouch" in $window.document && isNative;

                function DatepickerFactory(element, controller, config) {
                    var $datepicker = $tooltip(element, angular.extend({}, defaults, config)),
                        parentScope = config.scope,
                        options = $datepicker.$options,
                        scope = $datepicker.$scope;
                    options.startView && (options.startView -= options.minView);
                    var pickerViews = datepickerViews($datepicker);
                    $datepicker.$views = pickerViews.views;
                    var viewDate = pickerViews.viewDate;
                    scope.$mode = options.startView, scope.$iconLeft = options.iconLeft, scope.$iconRight = options.iconRight;
                    var $picker = $datepicker.$views[scope.$mode];

                    function updateSelected(el) {
                        el.selected = $datepicker.$isSelected(el.date)
                    }

                    function focusElement() {
                        element[0].focus()
                    }
                    scope.$select = function(date) {
                        $datepicker.select(date)
                    }, scope.$selectPane = function(value) {
                        $datepicker.$selectPane(value)
                    }, scope.$toggleMode = function() {
                        $datepicker.setMode((scope.$mode + 1) % $datepicker.$views.length)
                    }, $datepicker.update = function(date) {
                        angular.isDate(date) && !isNaN(date.getTime()) && ($datepicker.$date = date, $picker.update.call($picker, date)), $datepicker.$build(!0)
                    }, $datepicker.updateDisabledDates = function(dateRanges) {
                        options.disabledDateRanges = dateRanges;
                        for (var i = 0, l = scope.rows.length; i < l; i++) angular.forEach(scope.rows[i], $datepicker.$setDisabledEl)
                    }, $datepicker.select = function(date, keep) {
                        angular.isDate(controller.$dateValue) || (controller.$dateValue = new Date(date)), !scope.$mode || keep ? (controller.$setViewValue(angular.copy(date)), controller.$render(), options.autoclose && !keep && $timeout(function() {
                            $datepicker.hide(!0)
                        })) : (angular.extend(viewDate, {
                            year: date.getFullYear(),
                            month: date.getMonth(),
                            date: date.getDate()
                        }), $datepicker.setMode(scope.$mode - 1), $datepicker.$build())
                    }, $datepicker.setMode = function(mode) {
                        scope.$mode = mode, $picker = $datepicker.$views[scope.$mode], $datepicker.$build()
                    }, $datepicker.$build = function(pristine) {
                        !0 === pristine && $picker.built || !1 === pristine && !$picker.built || $picker.build.call($picker)
                    }, $datepicker.$updateSelected = function() {
                        for (var i = 0, l = scope.rows.length; i < l; i++) angular.forEach(scope.rows[i], updateSelected)
                    }, $datepicker.$isSelected = function(date) {
                        return $picker.isSelected(date)
                    }, $datepicker.$setDisabledEl = function(el) {
                        el.disabled = $picker.isDisabled(el.date)
                    }, $datepicker.$selectPane = function(value) {
                        var steps = $picker.steps,
                            targetDate = new Date(Date.UTC(viewDate.year + (steps.year || 0) * value, viewDate.month + (steps.month || 0) * value, 1));
                        angular.extend(viewDate, {
                            year: targetDate.getUTCFullYear(),
                            month: targetDate.getUTCMonth(),
                            date: targetDate.getUTCDate()
                        }), $datepicker.$build()
                    }, $datepicker.$onMouseDown = function(evt) {
                        if (evt.preventDefault(), evt.stopPropagation(), isTouch) {
                            var targetEl = angular.element(evt.target);
                            "button" !== targetEl[0].nodeName.toLowerCase() && (targetEl = targetEl.parent()), targetEl.triggerHandler("click")
                        }
                    }, $datepicker.$onKeyDown = function(evt) {
                        if (/(38|37|39|40|13)/.test(evt.keyCode) && !evt.shiftKey && !evt.altKey) {
                            if (evt.preventDefault(), evt.stopPropagation(), 13 === evt.keyCode) return scope.$mode ? scope.$apply(function() {
                                $datepicker.setMode(scope.$mode - 1)
                            }) : $datepicker.hide(!0);
                            $picker.onKeyDown(evt), parentScope.$digest()
                        }
                    };
                    var _init = $datepicker.init;
                    $datepicker.init = function() {
                        if (isNative && options.useNative) return element.prop("type", "date"), void element.css("-webkit-appearance", "textfield");
                        isTouch && (element.prop("type", "text"), element.attr("readonly", "true"), element.on("click", focusElement)), _init()
                    };
                    var _destroy = $datepicker.destroy;
                    $datepicker.destroy = function() {
                        isNative && options.useNative && element.off("click", focusElement), _destroy()
                    };
                    var _show = $datepicker.show;
                    $datepicker.show = function() {
                        !isTouch && element.attr("readonly") || element.attr("disabled") || (_show(), $timeout(function() {
                            $datepicker.$isShown && ($datepicker.$element.on(isTouch ? "touchstart" : "mousedown", $datepicker.$onMouseDown), options.keyboard && element.on("keydown", $datepicker.$onKeyDown))
                        }, 0, !1))
                    };
                    var _hide = $datepicker.hide;
                    return $datepicker.hide = function(blur) {
                        $datepicker.$isShown && ($datepicker.$element.off(isTouch ? "touchstart" : "mousedown", $datepicker.$onMouseDown), options.keyboard && element.off("keydown", $datepicker.$onKeyDown), _hide(blur))
                    }, $datepicker
                }
                return defaults.lang || (defaults.lang = $dateFormatter.getDefaultLocale()), DatepickerFactory.defaults = defaults, DatepickerFactory
            }]
        }).directive("bsDatepicker", ["$window", "$parse", "$q", "$dateFormatter", "$dateParser", "$datepicker", function($window, $parse, $q, $dateFormatter, $dateParser, $datepicker) {
            $datepicker.defaults;
            var isNative = /(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent);
            return {
                restrict: "EAC",
                require: "ngModel",
                link: function(scope, element, attr, controller) {
                    var options = {
                        scope: scope
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "placement", "container", "delay", "trigger", "html", "animation", "autoclose", "dateType", "dateFormat", "timezone", "modelDateFormat", "dayFormat", "strictFormat", "startWeek", "startDate", "useNative", "lang", "startView", "minView", "iconLeft", "iconRight", "daysOfWeekDisabled", "id", "prefixClass", "prefixEvent"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["html", "container", "autoclose", "useNative"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    }), attr.bsShow && scope.$watch(attr.bsShow, function(newValue, oldValue) {
                        datepicker && angular.isDefined(newValue) && (angular.isString(newValue) && (newValue = !!newValue.match(/true|,?(datepicker),?/i)), !0 === newValue ? datepicker.show() : datepicker.hide())
                    });
                    var datepicker = $datepicker(element, controller, options);
                    options = datepicker.$options, isNative && options.useNative && (options.dateFormat = "yyyy-MM-dd");

                    function formatDate(date, format) {
                        return $dateFormatter.formatDate(date, format, lang)
                    }
                    var lang = options.lang,
                        dateParser = $dateParser({
                            format: options.dateFormat,
                            lang: lang,
                            strict: options.strictFormat
                        });

                    function normalizeDateRanges(ranges) {
                        return ranges && ranges.length ? ranges : null
                    }

                    function validateAgainstMinMaxDate(parsedDate) {
                        if (angular.isDate(parsedDate)) {
                            var isMinValid = isNaN(datepicker.$options.minDate) || parsedDate.getTime() >= datepicker.$options.minDate,
                                isMaxValid = isNaN(datepicker.$options.maxDate) || parsedDate.getTime() <= datepicker.$options.maxDate,
                                isValid = isMinValid && isMaxValid;
                            controller.$setValidity("date", isValid), controller.$setValidity("min", isMinValid), controller.$setValidity("max", isMaxValid), isValid && (controller.$dateValue = parsedDate)
                        }
                    }

                    function getDateFormattedString() {
                        return !controller.$dateValue || isNaN(controller.$dateValue.getTime()) ? "" : formatDate(controller.$dateValue, options.dateFormat)
                    }
                    angular.forEach(["minDate", "maxDate"], function(key) {
                        angular.isDefined(attr[key]) && attr.$observe(key, function(newValue) {
                            datepicker.$options[key] = dateParser.getDateForAttribute(key, newValue), isNaN(datepicker.$options[key]) || datepicker.$build(!1), validateAgainstMinMaxDate(controller.$dateValue)
                        })
                    }), scope.$watch(attr.ngModel, function(newValue, oldValue) {
                        datepicker.update(controller.$dateValue)
                    }, !0), angular.isDefined(attr.disabledDates) && scope.$watch(attr.disabledDates, function(disabledRanges, previousValue) {
                        disabledRanges = normalizeDateRanges(disabledRanges), previousValue = normalizeDateRanges(previousValue), disabledRanges && datepicker.updateDisabledDates(disabledRanges)
                    }), controller.$parsers.unshift(function(viewValue) {
                        var date;
                        if (!viewValue) return controller.$setValidity("date", !0), null;
                        var parsedDate = dateParser.parse(viewValue, controller.$dateValue);
                        if (parsedDate && !isNaN(parsedDate.getTime())) return validateAgainstMinMaxDate(parsedDate), "string" === options.dateType ? (date = dateParser.timezoneOffsetAdjust(parsedDate, options.timezone, !0), formatDate(date, options.modelDateFormat || options.dateFormat)) : (date = dateParser.timezoneOffsetAdjust(controller.$dateValue, options.timezone, !0), "number" === options.dateType ? date.getTime() : "unix" === options.dateType ? date.getTime() / 1e3 : "iso" === options.dateType ? date.toISOString() : new Date(date));
                        controller.$setValidity("date", !1)
                    }), controller.$formatters.push(function(modelValue) {
                        var date;
                        return date = angular.isUndefined(modelValue) || null === modelValue ? NaN : angular.isDate(modelValue) ? modelValue : "string" === options.dateType ? dateParser.parse(modelValue, null, options.modelDateFormat) : "unix" === options.dateType ? new Date(1e3 * modelValue) : new Date(modelValue), controller.$dateValue = dateParser.timezoneOffsetAdjust(date, options.timezone), getDateFormattedString()
                    }), controller.$render = function() {
                        element.val(getDateFormattedString())
                    }, scope.$on("$destroy", function() {
                        datepicker && datepicker.destroy(), datepicker = options = null
                    })
                }
            }
        }]).provider("datepickerViews", function() {
            this.defaults = {
                dayFormat: "dd",
                daySplit: 7
            };

            function split(arr, size) {
                for (var arrays = []; 0 < arr.length;) arrays.push(arr.splice(0, size));
                return arrays
            }
            this.$get = ["$dateFormatter", "$dateParser", "$sce", function($dateFormatter, $dateParser, $sce) {
                return function(picker) {
                    function formatDate(date, format) {
                        return $dateFormatter.formatDate(date, format, lang)
                    }
                    var scope = picker.$scope,
                        options = picker.$options,
                        lang = options.lang,
                        dateParser = $dateParser({
                            format: options.dateFormat,
                            lang: lang,
                            strict: options.strictFormat
                        }),
                        weekDaysMin = $dateFormatter.weekdaysShort(lang),
                        weekDaysLabels = weekDaysMin.slice(options.startWeek).concat(weekDaysMin.slice(0, options.startWeek)),
                        weekDaysLabelsHtml = $sce.trustAsHtml('<th class="dow text-center">' + weekDaysLabels.join('</th><th class="dow text-center">') + "</th>"),
                        startDate = picker.$date || (options.startDate ? dateParser.getDateForAttribute("startDate", options.startDate) : new Date),
                        viewDate = {
                            year: startDate.getFullYear(),
                            month: startDate.getMonth(),
                            date: startDate.getDate()
                        },
                        views = [{
                            format: options.dayFormat,
                            split: 7,
                            steps: {
                                month: 1
                            },
                            update: function(date, force) {
                                !this.built || force || date.getFullYear() !== viewDate.year || date.getMonth() !== viewDate.month ? (angular.extend(viewDate, {
                                    year: picker.$date.getFullYear(),
                                    month: picker.$date.getMonth(),
                                    date: picker.$date.getDate()
                                }), picker.$build()) : date.getDate() === viewDate.date && 1 !== date.getDate() || (viewDate.date = picker.$date.getDate(), picker.$updateSelected())
                            },
                            build: function() {
                                var firstDayOfMonth = new Date(viewDate.year, viewDate.month, 1),
                                    firstDayOfMonthOffset = firstDayOfMonth.getTimezoneOffset(),
                                    firstDate = new Date(+firstDayOfMonth - 864e5 * function(n, m) {
                                        return (n % m + m) % m
                                    }(firstDayOfMonth.getDay() - options.startWeek, 7)),
                                    firstDateOffset = firstDate.getTimezoneOffset(),
                                    today = dateParser.timezoneOffsetAdjust(new Date, options.timezone).toDateString();
                                firstDateOffset !== firstDayOfMonthOffset && (firstDate = new Date(+firstDate + 6e4 * (firstDateOffset - firstDayOfMonthOffset)));
                                for (var day, days = [], i = 0; i < 42; i++) day = dateParser.daylightSavingAdjust(new Date(firstDate.getFullYear(), firstDate.getMonth(), firstDate.getDate() + i)), days.push({
                                    date: day,
                                    isToday: day.toDateString() === today,
                                    label: formatDate(day, this.format),
                                    selected: picker.$date && this.isSelected(day),
                                    muted: day.getMonth() !== viewDate.month,
                                    disabled: this.isDisabled(day)
                                });
                                scope.title = formatDate(firstDayOfMonth, options.monthTitleFormat), scope.showLabels = !0, scope.labels = weekDaysLabelsHtml, scope.rows = split(days, this.split), this.built = !0
                            },
                            isSelected: function(date) {
                                return picker.$date && date.getFullYear() === picker.$date.getFullYear() && date.getMonth() === picker.$date.getMonth() && date.getDate() === picker.$date.getDate()
                            },
                            isDisabled: function(date) {
                                var time = date.getTime();
                                if (time < options.minDate || time > options.maxDate) return !0;
                                if (-1 !== options.daysOfWeekDisabled.indexOf(date.getDay())) return !0;
                                if (options.disabledDateRanges)
                                    for (var i = 0; i < options.disabledDateRanges.length; i++)
                                        if (time >= options.disabledDateRanges[i].start && time <= options.disabledDateRanges[i].end) return !0;
                                return !1
                            },
                            onKeyDown: function(evt) {
                                if (picker.$date) {
                                    var newDate, actualTime = picker.$date.getTime();
                                    37 === evt.keyCode ? newDate = new Date(actualTime - 864e5) : 38 === evt.keyCode ? newDate = new Date(actualTime - 6048e5) : 39 === evt.keyCode ? newDate = new Date(actualTime + 864e5) : 40 === evt.keyCode && (newDate = new Date(actualTime + 6048e5)), this.isDisabled(newDate) || picker.select(newDate, !0)
                                }
                            }
                        }, {
                            name: "month",
                            format: options.monthFormat,
                            split: 4,
                            steps: {
                                year: 1
                            },
                            update: function(date, force) {
                                this.built && date.getFullYear() === viewDate.year ? date.getMonth() !== viewDate.month && (angular.extend(viewDate, {
                                    month: picker.$date.getMonth(),
                                    date: picker.$date.getDate()
                                }), picker.$updateSelected()) : (angular.extend(viewDate, {
                                    year: picker.$date.getFullYear(),
                                    month: picker.$date.getMonth(),
                                    date: picker.$date.getDate()
                                }), picker.$build())
                            },
                            build: function() {
                                new Date(viewDate.year, 0, 1);
                                for (var month, months = [], i = 0; i < 12; i++) month = new Date(viewDate.year, i, 1), months.push({
                                    date: month,
                                    label: formatDate(month, this.format),
                                    selected: picker.$isSelected(month),
                                    disabled: this.isDisabled(month)
                                });
                                scope.title = formatDate(month, options.yearTitleFormat), scope.showLabels = !1, scope.rows = split(months, this.split), this.built = !0
                            },
                            isSelected: function(date) {
                                return picker.$date && date.getFullYear() === picker.$date.getFullYear() && date.getMonth() === picker.$date.getMonth()
                            },
                            isDisabled: function(date) {
                                return +new Date(date.getFullYear(), date.getMonth() + 1, 0) < options.minDate || date.getTime() > options.maxDate
                            },
                            onKeyDown: function(evt) {
                                if (picker.$date) {
                                    var actualMonth = picker.$date.getMonth(),
                                        newDate = new Date(picker.$date);
                                    37 === evt.keyCode ? newDate.setMonth(actualMonth - 1) : 38 === evt.keyCode ? newDate.setMonth(actualMonth - 4) : 39 === evt.keyCode ? newDate.setMonth(actualMonth + 1) : 40 === evt.keyCode && newDate.setMonth(actualMonth + 4), this.isDisabled(newDate) || picker.select(newDate, !0)
                                }
                            }
                        }, {
                            name: "year",
                            format: options.yearFormat,
                            split: 4,
                            steps: {
                                year: 12
                            },
                            update: function(date, force) {
                                !this.built || force || parseInt(date.getFullYear() / 20, 10) !== parseInt(viewDate.year / 20, 10) ? (angular.extend(viewDate, {
                                    year: picker.$date.getFullYear(),
                                    month: picker.$date.getMonth(),
                                    date: picker.$date.getDate()
                                }), picker.$build()) : date.getFullYear() !== viewDate.year && (angular.extend(viewDate, {
                                    year: picker.$date.getFullYear(),
                                    month: picker.$date.getMonth(),
                                    date: picker.$date.getDate()
                                }), picker.$updateSelected())
                            },
                            build: function() {
                                for (var year, firstYear = viewDate.year - viewDate.year % (3 * this.split), years = [], i = 0; i < 12; i++) year = new Date(firstYear + i, 0, 1), years.push({
                                    date: year,
                                    label: formatDate(year, this.format),
                                    selected: picker.$isSelected(year),
                                    disabled: this.isDisabled(year)
                                });
                                scope.title = years[0].label + "-" + years[years.length - 1].label, scope.showLabels = !1, scope.rows = split(years, this.split), this.built = !0
                            },
                            isSelected: function(date) {
                                return picker.$date && date.getFullYear() === picker.$date.getFullYear()
                            },
                            isDisabled: function(date) {
                                return +new Date(date.getFullYear() + 1, 0, 0) < options.minDate || date.getTime() > options.maxDate
                            },
                            onKeyDown: function(evt) {
                                if (picker.$date) {
                                    var actualYear = picker.$date.getFullYear(),
                                        newDate = new Date(picker.$date);
                                    37 === evt.keyCode ? newDate.setYear(actualYear - 1) : 38 === evt.keyCode ? newDate.setYear(actualYear - 4) : 39 === evt.keyCode ? newDate.setYear(actualYear + 1) : 40 === evt.keyCode && newDate.setYear(actualYear + 4), this.isDisabled(newDate) || picker.select(newDate, !0)
                                }
                            }
                        }];
                    return {
                        views: options.minView ? Array.prototype.slice.call(views, options.minView) : views,
                        viewDate: viewDate
                    }
                }
            }]
        }), angular.module("mgcrea.ngStrap.dropdown", ["mgcrea.ngStrap.tooltip"]).provider("$dropdown", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                prefixClass: "dropdown",
                prefixEvent: "dropdown",
                placement: "bottom-left",
                templateUrl: "dropdown/dropdown.tpl.html",
                trigger: "click",
                container: !1,
                keyboard: !0,
                html: !1,
                delay: 0
            };
            this.$get = ["$window", "$rootScope", "$tooltip", "$timeout", function($window, $rootScope, $tooltip, $timeout) {
                var bodyEl = angular.element($window.document.body),
                    matchesSelector = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector;
                return function(element, config) {
                    var $dropdown = {},
                        options = angular.extend({}, defaults, config);
                    $dropdown.$scope = options.scope && options.scope.$new() || $rootScope.$new(), $dropdown = $tooltip(element, options);
                    var parentEl = element.parent();
                    $dropdown.$onKeyDown = function(evt) {
                        if (/(38|40)/.test(evt.keyCode)) {
                            evt.preventDefault(), evt.stopPropagation();
                            var index, items = angular.element($dropdown.$element[0].querySelectorAll("li:not(.divider) a"));
                            items.length && (angular.forEach(items, function(el, i) {
                                matchesSelector && matchesSelector.call(el, ":focus") && (index = i)
                            }), 38 === evt.keyCode && 0 < index ? index-- : 40 === evt.keyCode && index < items.length - 1 ? index++ : angular.isUndefined(index) && (index = 0), items.eq(index)[0].focus())
                        }
                    };
                    var show = $dropdown.show;
                    $dropdown.show = function() {
                        show(), $timeout(function() {
                            options.keyboard && $dropdown.$element && $dropdown.$element.on("keydown", $dropdown.$onKeyDown), bodyEl.on("click", onBodyClick)
                        }, 0, !1), parentEl.hasClass("dropdown") && parentEl.addClass("open")
                    };
                    var hide = $dropdown.hide;
                    $dropdown.hide = function() {
                        $dropdown.isPreventHide || $dropdown.$isShown && (options.keyboard && $dropdown.$element && $dropdown.$element.off("keydown", $dropdown.$onKeyDown), bodyEl.off("click", onBodyClick), parentEl.hasClass("dropdown") && parentEl.removeClass("open"), hide())
                    };
                    var destroy = $dropdown.destroy;

                    function onBodyClick(evt) {
                        if (evt.target !== element[0]) return evt.target !== element[0] && $dropdown.hide()
                    }
                    return $dropdown.destroy = function() {
                        bodyEl.off("click", onBodyClick), destroy()
                    }, $dropdown
                }
            }]
        }).directive("bsDropdown", ["$window", "$sce", "$dropdown", function($window, $sce, $dropdown) {
            return {
                restrict: "EAC",
                scope: !0,
                link: function(scope, element, attr, transclusion) {
                    var options = {
                        scope: scope
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "placement", "container", "delay", "trigger", "keyboard", "html", "animation", "id"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["html", "container"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    }), attr.bsDropdown && scope.$watch(attr.bsDropdown, function(newValue, oldValue) {
                        scope.content = newValue
                    }, !0), attr.bsShow && scope.$watch(attr.bsShow, function(newValue, oldValue) {
                        dropdown && angular.isDefined(newValue) && (angular.isString(newValue) && (newValue = !!newValue.match(/true|,?(dropdown),?/i)), !0 === newValue ? dropdown.show() : dropdown.hide())
                    });
                    var dropdown = $dropdown(element, options);
                    scope.$on("$destroy", function() {
                        dropdown && dropdown.destroy(), dropdown = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.core", []).service("$bsCompiler", bsCompilerService), bsCompilerService.$inject = ["$q", "$http", "$injector", "$compile", "$controller", "$templateCache"], angular.module("mgcrea.ngStrap.helpers.dateFormatter", []).service("$dateFormatter", ["$locale", "dateFilter", function($locale, dateFilter) {
            function splitTimeFormat(format) {
                return /(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(format).slice(1)
            }
            this.getDefaultLocale = function() {
                return $locale.id
            }, this.getDatetimeFormat = function(format, lang) {
                return $locale.DATETIME_FORMATS[format] || format
            }, this.weekdaysShort = function(lang) {
                return $locale.DATETIME_FORMATS.SHORTDAY
            }, this.hoursFormat = function(timeFormat) {
                return splitTimeFormat(timeFormat)[0]
            }, this.minutesFormat = function(timeFormat) {
                return splitTimeFormat(timeFormat)[2]
            }, this.secondsFormat = function(timeFormat) {
                return splitTimeFormat(timeFormat)[4]
            }, this.timeSeparator = function(timeFormat) {
                return splitTimeFormat(timeFormat)[1]
            }, this.showSeconds = function(timeFormat) {
                return !!splitTimeFormat(timeFormat)[4]
            }, this.showAM = function(timeFormat) {
                return !!splitTimeFormat(timeFormat)[5]
            }, this.formatDate = function(date, format, lang, timezone) {
                return dateFilter(date, format, timezone)
            }
        }]), angular.module("mgcrea.ngStrap.helpers.dateParser", []).provider("$dateParser", ["$localeProvider", function($localeProvider) {
            function ParseDate() {
                this.year = 1970, this.month = 0, this.day = 1, this.hours = 0, this.minutes = 0, this.seconds = 0, this.milliseconds = 0
            }
            ParseDate.prototype.setMilliseconds = function(value) {
                this.milliseconds = value
            }, ParseDate.prototype.setSeconds = function(value) {
                this.seconds = value
            }, ParseDate.prototype.setMinutes = function(value) {
                this.minutes = value
            }, ParseDate.prototype.setHours = function(value) {
                this.hours = value
            }, ParseDate.prototype.getHours = function() {
                return this.hours
            }, ParseDate.prototype.setDate = function(value) {
                this.day = value
            }, ParseDate.prototype.setMonth = function(value) {
                this.month = value
            }, ParseDate.prototype.setFullYear = function(value) {
                this.year = value
            }, ParseDate.prototype.fromDate = function(value) {
                return this.year = value.getFullYear(), this.month = value.getMonth(), this.day = value.getDate(), this.hours = value.getHours(), this.minutes = value.getMinutes(), this.seconds = value.getSeconds(), this.milliseconds = value.getMilliseconds(), this
            }, ParseDate.prototype.toDate = function() {
                return new Date(this.year, this.month, this.day, this.hours, this.minutes, this.seconds, this.milliseconds)
            };
            var proto = ParseDate.prototype;

            function noop() {}

            function isNumeric(n) {
                return !isNaN(parseFloat(n)) && isFinite(n)
            }

            function indexOfCaseInsensitive(array, value) {
                for (var len = array.length, str = value.toString().toLowerCase(), i = 0; i < len; i++)
                    if (array[i].toLowerCase() === str) return i;
                return -1
            }
            var defaults = this.defaults = {
                format: "shortDate",
                strict: !1
            };
            this.$get = ["$locale", "dateFilter", function($locale, dateFilter) {
                return function(config) {
                    var regex, setMap, options = angular.extend({}, defaults, config),
                        $dateParser = {},
                        regExpMap = {
                            sss: "[0-9]{3}",
                            ss: "[0-5][0-9]",
                            s: options.strict ? "[1-5]?[0-9]" : "[0-9]|[0-5][0-9]",
                            mm: "[0-5][0-9]",
                            m: options.strict ? "[1-5]?[0-9]" : "[0-9]|[0-5][0-9]",
                            HH: "[01][0-9]|2[0-3]",
                            H: options.strict ? "1?[0-9]|2[0-3]" : "[01]?[0-9]|2[0-3]",
                            hh: "[0][1-9]|[1][012]",
                            h: options.strict ? "[1-9]|1[012]" : "0?[1-9]|1[012]",
                            a: "AM|PM",
                            EEEE: $locale.DATETIME_FORMATS.DAY.join("|"),
                            EEE: $locale.DATETIME_FORMATS.SHORTDAY.join("|"),
                            dd: "0[1-9]|[12][0-9]|3[01]",
                            d: options.strict ? "[1-9]|[1-2][0-9]|3[01]" : "0?[1-9]|[1-2][0-9]|3[01]",
                            MMMM: $locale.DATETIME_FORMATS.MONTH.join("|"),
                            MMM: $locale.DATETIME_FORMATS.SHORTMONTH.join("|"),
                            MM: "0[1-9]|1[012]",
                            M: options.strict ? "[1-9]|1[012]" : "0?[1-9]|1[012]",
                            yyyy: "[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",
                            yy: "[0-9]{2}",
                            y: options.strict ? "-?(0|[1-9][0-9]{0,3})" : "-?0*[0-9]{1,4}"
                        },
                        setFnMap = {
                            sss: proto.setMilliseconds,
                            ss: proto.setSeconds,
                            s: proto.setSeconds,
                            mm: proto.setMinutes,
                            m: proto.setMinutes,
                            HH: proto.setHours,
                            H: proto.setHours,
                            hh: proto.setHours,
                            h: proto.setHours,
                            EEEE: noop,
                            EEE: noop,
                            dd: proto.setDate,
                            d: proto.setDate,
                            a: function(value) {
                                var hours = this.getHours() % 12;
                                return this.setHours(value.match(/pm/i) ? 12 + hours : hours)
                            },
                            MMMM: function(value) {
                                return this.setMonth(indexOfCaseInsensitive($locale.DATETIME_FORMATS.MONTH, value))
                            },
                            MMM: function(value) {
                                return this.setMonth(indexOfCaseInsensitive($locale.DATETIME_FORMATS.SHORTMONTH, value))
                            },
                            MM: function(value) {
                                return this.setMonth(1 * value - 1)
                            },
                            M: function(value) {
                                return this.setMonth(1 * value - 1)
                            },
                            yyyy: proto.setFullYear,
                            yy: function(value) {
                                return this.setFullYear(2e3 + 1 * value)
                            },
                            y: function(value) {
                                return 1 * value <= 50 && 2 === value.length ? this.setFullYear(2e3 + 1 * value) : this.setFullYear(1 * value)
                            }
                        };

                    function setMapForFormat(format) {
                        var i, keys = Object.keys(setFnMap),
                            map = [],
                            sortedMap = [],
                            clonedFormat = format;
                        for (i = 0; i < keys.length; i++)
                            if (1 < format.split(keys[i]).length) {
                                var index = clonedFormat.search(keys[i]);
                                format = format.split(keys[i]).join(""), setFnMap[keys[i]] && (map[index] = setFnMap[keys[i]])
                            } return angular.forEach(map, function(v) {
                            v && sortedMap.push(v)
                        }), sortedMap
                    }

                    function regExpForFormat(format) {
                        var i, keys = Object.keys(regExpMap),
                            re = format;
                        for (i = 0; i < keys.length; i++) re = re.split(keys[i]).join("${" + i + "}");
                        for (i = 0; i < keys.length; i++) re = re.split("${" + i + "}").join("(" + regExpMap[keys[i]] + ")");
                        return format = function(text) {
                            return text.replace(/\//g, "[\\/]").replace("/-/g", "[-]").replace(/\./g, "[.]").replace(/\\s/g, "[\\s]")
                        }(format), new RegExp("^" + re + "$", ["i"])
                    }
                    return $dateParser.init = function() {
                        $dateParser.$format = $locale.DATETIME_FORMATS[options.format] || options.format, regex = regExpForFormat($dateParser.$format), setMap = setMapForFormat($dateParser.$format)
                    }, $dateParser.isValid = function(date) {
                        return angular.isDate(date) ? !isNaN(date.getTime()) : regex.test(date)
                    }, $dateParser.parse = function(value, baseDate, format, timezone) {
                        format && (format = $locale.DATETIME_FORMATS[format] || format), angular.isDate(value) && (value = dateFilter(value, format || $dateParser.$format, timezone));
                        var formatRegex = format ? regExpForFormat(format) : regex,
                            formatSetMap = format ? setMapForFormat(format) : setMap,
                            matches = formatRegex.exec(value);
                        if (!matches) return !1;
                        for (var date = baseDate && !isNaN(baseDate.getTime()) ? (new ParseDate).fromDate(baseDate) : (new ParseDate).fromDate(new Date(1970, 0, 1, 0)), i = 0; i < matches.length - 1; i++) formatSetMap[i] && formatSetMap[i].call(date, matches[i + 1]);
                        var newDate = date.toDate();
                        return parseInt(date.day, 10) === newDate.getDate() && newDate
                    }, $dateParser.getDateForAttribute = function(key, value) {
                        var date;
                        if ("today" === value) {
                            var today = new Date;
                            date = new Date(today.getFullYear(), today.getMonth(), today.getDate() + ("maxDate" === key ? 1 : 0), 0, 0, 0, "minDate" === key ? 0 : -1)
                        } else date = angular.isString(value) && value.match(/^".+"$/) ? new Date(value.substr(1, value.length - 2)) : isNumeric(value) ? new Date(parseInt(value, 10)) : angular.isString(value) && 0 === value.length ? "minDate" === key ? -1 / 0 : 1 / 0 : new Date(value);
                        return date
                    }, $dateParser.getTimeForAttribute = function(key, value) {
                        return "now" === value ? (new Date).setFullYear(1970, 0, 1) : angular.isString(value) && value.match(/^".+"$/) ? new Date(value.substr(1, value.length - 2)).setFullYear(1970, 0, 1) : isNumeric(value) ? new Date(parseInt(value, 10)).setFullYear(1970, 0, 1) : angular.isString(value) && 0 === value.length ? "minTime" === key ? -1 / 0 : 1 / 0 : $dateParser.parse(value, new Date(1970, 0, 1, 0))
                    }, $dateParser.daylightSavingAdjust = function(date) {
                        return date ? (date.setHours(12 < date.getHours() ? date.getHours() + 2 : 0), date) : null
                    }, $dateParser.timezoneOffsetAdjust = function(date, timezone, undo) {
                        return date ? (timezone && "UTC" === timezone && (date = new Date(date.getTime())).setMinutes(date.getMinutes() + (undo ? -1 : 1) * date.getTimezoneOffset()), date) : null
                    }, $dateParser.init(), $dateParser
                }
            }]
        }]), angular.module("mgcrea.ngStrap.helpers.debounce", []).factory("debounce", ["$timeout", function($timeout) {
            return function(func, wait, immediate) {
                var timeout = null;
                return function() {
                    var context = this,
                        args = arguments,
                        callNow = immediate && !timeout;
                    return timeout && $timeout.cancel(timeout), timeout = $timeout(function() {
                        timeout = null, immediate || func.apply(context, args)
                    }, wait, !1), callNow && func.apply(context, args), timeout
                }
            }
        }]).factory("throttle", ["$timeout", function($timeout) {
            return function(func, wait, options) {
                var timeout = null;
                return options || (options = {}),
                    function() {
                        var context = this,
                            args = arguments;
                        timeout || (!1 !== options.leading && func.apply(context, args), timeout = $timeout(function() {
                            timeout = null, !1 !== options.trailing && func.apply(context, args)
                        }, wait, !1))
                    }
            }
        }]), angular.module("mgcrea.ngStrap.helpers.dimensions", []).factory("dimensions", ["$document", "$window", function($document, $window) {
            angular.element;
            var fn = {},
                nodeName = fn.nodeName = function(element, name) {
                    return element.nodeName && element.nodeName.toLowerCase() === name.toLowerCase()
                };
            fn.css = function(element, prop, extra) {
                var value;
                return value = element.currentStyle ? element.currentStyle[prop] : window.getComputedStyle ? window.getComputedStyle(element)[prop] : element.style[prop], !0 === extra ? parseFloat(value) || 0 : value
            }, fn.offset = function(element) {
                var boxRect = element.getBoundingClientRect(),
                    docElement = element.ownerDocument;
                return {
                    width: boxRect.width || element.offsetWidth,
                    height: boxRect.height || element.offsetHeight,
                    top: boxRect.top + (window.pageYOffset || docElement.documentElement.scrollTop) - (docElement.documentElement.clientTop || 0),
                    left: boxRect.left + (window.pageXOffset || docElement.documentElement.scrollLeft) - (docElement.documentElement.clientLeft || 0)
                }
            }, fn.setOffset = function(element, options, i) {
                var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, position = fn.css(element, "position"),
                    curElem = angular.element(element),
                    props = {};
                "static" === position && (element.style.position = "relative"), curOffset = fn.offset(element), curCSSTop = fn.css(element, "top"), curCSSLeft = fn.css(element, "left"), curLeft = ("absolute" === position || "fixed" === position) && -1 < (curCSSTop + curCSSLeft).indexOf("auto") ? (curTop = (curPosition = fn.position(element)).top, curPosition.left) : (curTop = parseFloat(curCSSTop) || 0, parseFloat(curCSSLeft) || 0), angular.isFunction(options) && (options = options.call(element, i, curOffset)), null !== options.top && (props.top = options.top - curOffset.top + curTop), null !== options.left && (props.left = options.left - curOffset.left + curLeft), "using" in options ? options.using.call(curElem, props) : curElem.css({
                    top: props.top + "px",
                    left: props.left + "px"
                })
            }, fn.position = function(element) {
                var offsetParentElement, offset, offsetParentRect = {
                    top: 0,
                    left: 0
                };
                return "fixed" === fn.css(element, "position") ? offset = element.getBoundingClientRect() : (offsetParentElement = offsetParent(element), offset = fn.offset(element), nodeName(offsetParentElement, "html") || (offsetParentRect = fn.offset(offsetParentElement)), offsetParentRect.top += fn.css(offsetParentElement, "borderTopWidth", !0), offsetParentRect.left += fn.css(offsetParentElement, "borderLeftWidth", !0)), {
                    width: element.offsetWidth,
                    height: element.offsetHeight,
                    top: offset.top - offsetParentRect.top - fn.css(element, "marginTop", !0),
                    left: offset.left - offsetParentRect.left - fn.css(element, "marginLeft", !0)
                }
            };
            var offsetParent = function(element) {
                var docElement = element.ownerDocument,
                    offsetParent = element.offsetParent || docElement;
                if (nodeName(offsetParent, "#document")) return docElement.documentElement;
                for (; offsetParent && !nodeName(offsetParent, "html") && "static" === fn.css(offsetParent, "position");) offsetParent = offsetParent.offsetParent;
                return offsetParent || docElement.documentElement
            };
            return fn.height = function(element, outer) {
                var value = element.offsetHeight;
                return outer ? value += fn.css(element, "marginTop", !0) + fn.css(element, "marginBottom", !0) : value -= fn.css(element, "paddingTop", !0) + fn.css(element, "paddingBottom", !0) + fn.css(element, "borderTopWidth", !0) + fn.css(element, "borderBottomWidth", !0), value
            }, fn.width = function(element, outer) {
                var value = element.offsetWidth;
                return outer ? value += fn.css(element, "marginLeft", !0) + fn.css(element, "marginRight", !0) : value -= fn.css(element, "paddingLeft", !0) + fn.css(element, "paddingRight", !0) + fn.css(element, "borderLeftWidth", !0) + fn.css(element, "borderRightWidth", !0), value
            }, fn
        }]), angular.module("mgcrea.ngStrap.helpers.parseOptions", []).provider("$parseOptions", function() {
            var defaults = this.defaults = {
                regexp: /^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/
            };
            this.$get = ["$parse", "$q", function($parse, $q) {
                return function(attr, config) {
                    var match, displayFn, valueName, valueFn, valuesFn, $parseOptions = {},
                        options = angular.extend({}, defaults, config);
                    return $parseOptions.$values = [], $parseOptions.init = function() {
                        $parseOptions.$match = match = attr.match(options.regexp), displayFn = $parse(match[2] || match[1]), valueName = match[4] || match[6], match[5], $parse(match[3] || ""), valueFn = $parse(match[2] ? match[1] : valueName), valuesFn = $parse(match[7])
                    }, $parseOptions.valuesFn = function(scope, controller) {
                        return $q.when(valuesFn(scope, controller)).then(function(values) {
                            return angular.isArray(values) || (values = []), $parseOptions.$values = values.length ? function(values, scope) {
                                return values.map(function(match, index) {
                                    var label, value, locals = {};
                                    return locals[valueName] = match, label = displayFn(scope, locals), value = valueFn(scope, locals), {
                                        label: label,
                                        value: value,
                                        index: index
                                    }
                                })
                            }(values, scope) : [], $parseOptions.$values
                        })
                    }, $parseOptions.displayValue = function(modelValue) {
                        var scope = {};
                        return scope[valueName] = modelValue, displayFn(scope)
                    }, $parseOptions.init(), $parseOptions
                }
            }]
        }), angular.version.minor < 3 && angular.version.dot < 14 && angular.module("ng").factory("$$rAF", ["$window", "$timeout", function($window, $timeout) {
            var requestAnimationFrame = $window.requestAnimationFrame || $window.webkitRequestAnimationFrame || $window.mozRequestAnimationFrame,
                cancelAnimationFrame = $window.cancelAnimationFrame || $window.webkitCancelAnimationFrame || $window.mozCancelAnimationFrame || $window.webkitCancelRequestAnimationFrame,
                rafSupported = !!requestAnimationFrame,
                raf = rafSupported ? function(fn) {
                    var id = requestAnimationFrame(fn);
                    return function() {
                        cancelAnimationFrame(id)
                    }
                } : function(fn) {
                    var timer = $timeout(fn, 16.66, !1);
                    return function() {
                        $timeout.cancel(timer)
                    }
                };
            return raf.supported = rafSupported, raf
        }]), angular.module("mgcrea.ngStrap.modal", ["mgcrea.ngStrap.core", "mgcrea.ngStrap.helpers.dimensions"]).provider("$modal", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                backdropAnimation: "am-fade",
                prefixClass: "modal",
                prefixEvent: "modal",
                placement: "top",
                templateUrl: "modal/modal.tpl.html",
                template: "",
                contentTemplate: !1,
                container: !1,
                element: null,
                backdrop: !0,
                keyboard: !0,
                html: !1,
                show: !0
            };
            this.$get = ["$window", "$rootScope", "$bsCompiler", "$q", "$templateCache", "$http", "$animate", "$timeout", "$sce", "dimensions", function($window, $rootScope, $bsCompiler, $q, $templateCache, $http, $animate, $timeout, $sce, dimensions) {
                var forEach = angular.forEach,
                    requestAnimationFrame = (String.prototype.trim, $window.requestAnimationFrame || $window.setTimeout),
                    bodyElement = angular.element($window.document.body);

                function safeDigest(scope) {
                    scope.$$phase || scope.$root && scope.$root.$$phase || scope.$digest()
                }
                return function(config) {
                    var compileData, modalElement, modalScope, $modal = {},
                        options = $modal.$options = angular.extend({}, defaults, config),
                        promise = $modal.$promise = $bsCompiler.compile(options),
                        scope = $modal.$scope = options.scope && options.scope.$new() || $rootScope.$new();
                    options.element || options.container || (options.container = "body"), $modal.$id = options.id || options.element && options.element.attr("id") || "", forEach(["title", "content"], function(key) {
                        options[key] && (scope[key] = $sce.trustAsHtml(options[key]))
                    }), scope.$hide = function() {
                        scope.$$postDigest(function() {
                            $modal.hide()
                        })
                    }, scope.$show = function() {
                        scope.$$postDigest(function() {
                            $modal.show()
                        })
                    }, scope.$toggle = function() {
                        scope.$$postDigest(function() {
                            $modal.toggle()
                        })
                    }, $modal.$isShown = scope.$isShown = !1;
                    var backdropElement = angular.element('<div class="' + options.prefixClass + '-backdrop"/>');

                    function enterAnimateCallback() {
                        scope.$emit(options.prefixEvent + ".show", $modal)
                    }

                    function leaveAnimateCallback() {
                        scope.$emit(options.prefixEvent + ".hide", $modal), bodyElement.removeClass(options.prefixClass + "-open"), options.animation && bodyElement.removeClass(options.prefixClass + "-with-" + options.animation)
                    }

                    function unbindBackdropEvents() {
                        options.backdrop && (modalElement.off("click", hideOnBackdropClick), backdropElement.off("click", hideOnBackdropClick), backdropElement.off("wheel", preventEventDefault))
                    }

                    function unbindKeyboardEvents() {
                        options.keyboard && modalElement.off("keyup", $modal.$onKeyUp)
                    }

                    function hideOnBackdropClick(evt) {
                        evt.target === evt.currentTarget && ("static" === options.backdrop ? $modal.focus() : $modal.hide())
                    }

                    function preventEventDefault(evt) {
                        evt.preventDefault()
                    }

                    function destroyModalElement() {
                        $modal.$isShown && null !== modalElement && (unbindBackdropEvents(), unbindKeyboardEvents()), modalScope && (modalScope.$destroy(), modalScope = null), modalElement && (modalElement.remove(), modalElement = $modal.$element = null)
                    }
                    return backdropElement.css({
                        position: "fixed",
                        top: "0px",
                        left: "0px",
                        bottom: "0px",
                        right: "0px",
                        "z-index": 1038
                    }), promise.then(function(data) {
                        compileData = data, $modal.init()
                    }), $modal.init = function() {
                        options.show && scope.$$postDigest(function() {
                            $modal.show()
                        })
                    }, $modal.destroy = function() {
                        destroyModalElement(), backdropElement && (backdropElement.remove(), backdropElement = null), scope.$destroy()
                    }, $modal.show = function() {
                        var parent, after;
                        if (!$modal.$isShown && (after = angular.isElement(options.container) ? (parent = options.container, options.container[0].lastChild ? angular.element(options.container[0].lastChild) : null) : options.container ? (parent = function(query, element) {
                                return angular.element((element || document).querySelectorAll(query))
                            }(options.container))[0] && parent[0].lastChild ? angular.element(parent[0].lastChild) : null : (parent = null, options.element), modalElement && destroyModalElement(), modalScope = $modal.$scope.$new(), modalElement = $modal.$element = compileData.link(modalScope, function(clonedElement, scope) {}), !scope.$emit(options.prefixEvent + ".show.before", $modal).defaultPrevented)) {
                            modalElement.css({
                                display: "block"
                            }).addClass(options.placement), options.animation && (options.backdrop && backdropElement.addClass(options.backdropAnimation), modalElement.addClass(options.animation)), options.backdrop && $animate.enter(backdropElement, bodyElement, null), angular.version.minor <= 2 ? $animate.enter(modalElement, parent, after, enterAnimateCallback) : $animate.enter(modalElement, parent, after).then(enterAnimateCallback), $modal.$isShown = scope.$isShown = !0, safeDigest(scope);
                            var el = modalElement[0];
                            requestAnimationFrame(function() {
                                el.focus()
                            }), bodyElement.addClass(options.prefixClass + "-open"), options.animation && bodyElement.addClass(options.prefixClass + "-with-" + options.animation), options.backdrop && (modalElement.on("click", hideOnBackdropClick), backdropElement.on("click", hideOnBackdropClick), backdropElement.on("wheel", preventEventDefault)), options.keyboard && modalElement.on("keyup", $modal.$onKeyUp)
                        }
                    }, $modal.hide = function() {
                        $modal.$isShown && (scope.$emit(options.prefixEvent + ".hide.before", $modal).defaultPrevented || (angular.version.minor <= 2 ? $animate.leave(modalElement, leaveAnimateCallback) : $animate.leave(modalElement).then(leaveAnimateCallback), options.backdrop && $animate.leave(backdropElement), $modal.$isShown = scope.$isShown = !1, safeDigest(scope), unbindBackdropEvents(), unbindKeyboardEvents()))
                    }, $modal.toggle = function() {
                        $modal.$isShown ? $modal.hide() : $modal.show()
                    }, $modal.focus = function() {
                        modalElement[0].focus()
                    }, $modal.$onKeyUp = function(evt) {
                        27 === evt.which && $modal.$isShown && ($modal.hide(), evt.stopPropagation())
                    }, $modal
                }
            }]
        }).directive("bsModal", ["$window", "$sce", "$modal", function($window, $sce, $modal) {
            return {
                restrict: "EAC",
                scope: !0,
                link: function(scope, element, attr, transclusion) {
                    var options = {
                        scope: scope,
                        element: element,
                        show: !1
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "contentTemplate", "controller", "placement", "backdrop", "keyboard", "html", "container", "animation", "id", "prefixEvent", "prefixClass"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["backdrop", "keyboard", "html", "container"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    }), angular.forEach(["title", "content"], function(key) {
                        attr[key] && attr.$observe(key, function(newValue, oldValue) {
                            scope[key] = $sce.trustAsHtml(newValue)
                        })
                    }), attr.bsModal && scope.$watch(attr.bsModal, function(newValue, oldValue) {
                        angular.isObject(newValue) ? angular.extend(scope, newValue) : scope.content = newValue
                    }, !0);
                    var modal = $modal(options);
                    element.on(attr.trigger || "click", modal.toggle), scope.$on("$destroy", function() {
                        modal && modal.destroy(), modal = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.navbar", []).provider("$navbar", function() {
            var defaults = this.defaults = {
                activeClass: "active",
                routeAttr: "data-match-route",
                strict: !1
            };
            this.$get = function() {
                return {
                    defaults: defaults
                }
            }
        }).directive("bsNavbar", ["$window", "$location", "$navbar", function($window, $location, $navbar) {
            var defaults = $navbar.defaults;
            return {
                restrict: "A",
                link: function(scope, element, attr, controller) {
                    var options = angular.copy(defaults);
                    angular.forEach(Object.keys(defaults), function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    }), scope.$watch(function() {
                        return $location.path()
                    }, function(newValue, oldValue) {
                        var liElements = element[0].querySelectorAll("li[" + options.routeAttr + "]");
                        angular.forEach(liElements, function(li) {
                            var liElement = angular.element(li),
                                pattern = liElement.attr(options.routeAttr).replace("/", "\\/");
                            options.strict && (pattern = "^" + pattern + "$"), new RegExp(pattern, "i").test(newValue) ? liElement.addClass(options.activeClass) : liElement.removeClass(options.activeClass)
                        })
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.popover", ["mgcrea.ngStrap.tooltip"]).provider("$popover", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                customClass: "",
                container: !1,
                target: !1,
                placement: "right",
                templateUrl: "popover/popover.tpl.html",
                contentTemplate: !1,
                trigger: "click",
                keyboard: !0,
                html: !1,
                title: "",
                content: "",
                delay: 0,
                autoClose: !1
            };
            this.$get = ["$tooltip", function($tooltip) {
                return function(element, config) {
                    var options = angular.extend({}, defaults, config),
                        $popover = $tooltip(element, options);
                    return options.content && ($popover.$scope.content = options.content), $popover
                }
            }]
        }).directive("bsPopover", ["$window", "$sce", "$popover", function($window, $sce, $popover) {
            var requestAnimationFrame = $window.requestAnimationFrame || $window.setTimeout;
            return {
                restrict: "EAC",
                scope: !0,
                link: function(scope, element, attr) {
                    var options = {
                        scope: scope
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "contentTemplate", "placement", "container", "delay", "trigger", "html", "animation", "customClass", "autoClose", "id", "prefixClass", "prefixEvent"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["html", "container", "autoClose"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    });
                    var dataTarget = element.attr("data-target");
                    angular.isDefined(dataTarget) && (falseValueRegExp.test(dataTarget) ? options.target = !1 : options.target = dataTarget), angular.forEach(["title", "content"], function(key) {
                        attr[key] && attr.$observe(key, function(newValue, oldValue) {
                            scope[key] = $sce.trustAsHtml(newValue), angular.isDefined(oldValue) && requestAnimationFrame(function() {
                                popover && popover.$applyPlacement()
                            })
                        })
                    }), attr.bsPopover && scope.$watch(attr.bsPopover, function(newValue, oldValue) {
                        angular.isObject(newValue) ? angular.extend(scope, newValue) : scope.content = newValue, angular.isDefined(oldValue) && requestAnimationFrame(function() {
                            popover && popover.$applyPlacement()
                        })
                    }, !0), attr.bsShow && scope.$watch(attr.bsShow, function(newValue, oldValue) {
                        popover && angular.isDefined(newValue) && (angular.isString(newValue) && (newValue = !!newValue.match(/true|,?(popover),?/i)), !0 === newValue ? popover.show() : popover.hide())
                    }), attr.viewport && scope.$watch(attr.viewport, function(newValue) {
                        popover && angular.isDefined(newValue) && popover.setViewport(newValue)
                    });
                    var popover = $popover(element, options);
                    scope.$on("$destroy", function() {
                        popover && popover.destroy(), popover = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.scrollspy", ["mgcrea.ngStrap.helpers.debounce", "mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy", function() {
            var spies = this.$$spies = {},
                defaults = this.defaults = {
                    debounce: 150,
                    throttle: 100,
                    offset: 100
                };
            this.$get = ["$window", "$document", "$rootScope", "dimensions", "debounce", "throttle", function($window, $document, $rootScope, dimensions, debounce, throttle) {
                var windowEl = angular.element($window),
                    docEl = angular.element($document.prop("documentElement")),
                    bodyEl = angular.element($window.document.body);

                function nodeName(element, name) {
                    return element[0].nodeName && element[0].nodeName.toLowerCase() === name.toLowerCase()
                }
                return function(config) {
                    var options = angular.extend({}, defaults, config);
                    options.element || (options.element = bodyEl);
                    var isWindowSpy = nodeName(options.element, "body"),
                        scrollEl = isWindowSpy ? windowEl : options.element,
                        scrollId = isWindowSpy ? "window" : options.id;
                    if (spies[scrollId]) return spies[scrollId].$$count++, spies[scrollId];
                    var unbindViewContentLoaded, unbindIncludeContentLoaded, activeTarget, debouncedCheckPosition, throttledCheckPosition, debouncedCheckOffsets, scrollTop, $scrollspy = {},
                        trackedElements = $scrollspy.$trackedElements = [],
                        sortedElements = [];
                    return $scrollspy.init = function() {
                        this.$$count = 1, debouncedCheckPosition = debounce(this.checkPosition, options.debounce), throttledCheckPosition = throttle(this.checkPosition, options.throttle), scrollEl.on("click", this.checkPositionWithEventLoop), windowEl.on("resize", debouncedCheckPosition), scrollEl.on("scroll", throttledCheckPosition), debouncedCheckOffsets = debounce(this.checkOffsets, options.debounce), unbindViewContentLoaded = $rootScope.$on("$viewContentLoaded", debouncedCheckOffsets), unbindIncludeContentLoaded = $rootScope.$on("$includeContentLoaded", debouncedCheckOffsets), debouncedCheckOffsets(), scrollId && (spies[scrollId] = $scrollspy)
                    }, $scrollspy.destroy = function() {
                        this.$$count--, 0 < this.$$count || (scrollEl.off("click", this.checkPositionWithEventLoop), windowEl.off("resize", debouncedCheckPosition), scrollEl.off("scroll", throttledCheckPosition), unbindViewContentLoaded(), unbindIncludeContentLoaded(), scrollId && delete spies[scrollId])
                    }, $scrollspy.checkPosition = function() {
                        if (sortedElements.length) {
                            if (scrollTop = (isWindowSpy ? $window.pageYOffset : scrollEl.prop("scrollTop")) || 0, Math.max($window.innerHeight, docEl.prop("clientHeight")), scrollTop < sortedElements[0].offsetTop && activeTarget !== sortedElements[0].target) return $scrollspy.$activateElement(sortedElements[0]);
                            for (var i = sortedElements.length; i--;)
                                if (!angular.isUndefined(sortedElements[i].offsetTop) && null !== sortedElements[i].offsetTop && activeTarget !== sortedElements[i].target && !(scrollTop < sortedElements[i].offsetTop || sortedElements[i + 1] && scrollTop > sortedElements[i + 1].offsetTop)) return $scrollspy.$activateElement(sortedElements[i])
                        }
                    }, $scrollspy.checkPositionWithEventLoop = function() {
                        setTimeout($scrollspy.checkPosition, 1)
                    }, $scrollspy.$activateElement = function(element) {
                        if (activeTarget) {
                            var activeElement = $scrollspy.$getTrackedElement(activeTarget);
                            activeElement && (activeElement.source.removeClass("active"), nodeName(activeElement.source, "li") && nodeName(activeElement.source.parent().parent(), "li") && activeElement.source.parent().parent().removeClass("active"))
                        }
                        activeTarget = element.target, element.source.addClass("active"), nodeName(element.source, "li") && nodeName(element.source.parent().parent(), "li") && element.source.parent().parent().addClass("active")
                    }, $scrollspy.$getTrackedElement = function(target) {
                        return trackedElements.filter(function(obj) {
                            return obj.target === target
                        })[0]
                    }, $scrollspy.checkOffsets = function() {
                        angular.forEach(trackedElements, function(trackedElement) {
                            var targetElement = document.querySelector(trackedElement.target);
                            trackedElement.offsetTop = targetElement ? dimensions.offset(targetElement).top : null, options.offset && null !== trackedElement.offsetTop && (trackedElement.offsetTop -= 1 * options.offset)
                        }), sortedElements = trackedElements.filter(function(el) {
                            return null !== el.offsetTop
                        }).sort(function(a, b) {
                            return a.offsetTop - b.offsetTop
                        }), debouncedCheckPosition()
                    }, $scrollspy.trackElement = function(target, source) {
                        trackedElements.push({
                            target: target,
                            source: source
                        })
                    }, $scrollspy.untrackElement = function(target, source) {
                        for (var toDelete, i = trackedElements.length; i--;)
                            if (trackedElements[i].target === target && trackedElements[i].source === source) {
                                toDelete = i;
                                break
                            } trackedElements = trackedElements.splice(toDelete, 1)
                    }, $scrollspy.activate = function(i) {
                        trackedElements[i].addClass("active")
                    }, $scrollspy.init(), $scrollspy
                }
            }]
        }).directive("bsScrollspy", ["$rootScope", "debounce", "dimensions", "$scrollspy", function($rootScope, debounce, dimensions, $scrollspy) {
            return {
                restrict: "EAC",
                link: function(scope, element, attr) {
                    var options = {
                        scope: scope
                    };
                    angular.forEach(["offset", "target"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var scrollspy = $scrollspy(options);
                    scrollspy.trackElement(options.target, element), scope.$on("$destroy", function() {
                        scrollspy && (scrollspy.untrackElement(options.target, element), scrollspy.destroy()), scrollspy = options = null
                    })
                }
            }
        }]).directive("bsScrollspyList", ["$rootScope", "debounce", "dimensions", "$scrollspy", function($rootScope, debounce, dimensions, $scrollspy) {
            return {
                restrict: "A",
                compile: function(element, attr) {
                    var children = element[0].querySelectorAll("li > a[href]");
                    angular.forEach(children, function(child) {
                        var childEl = angular.element(child);
                        childEl.parent().attr("bs-scrollspy", "").attr("data-target", childEl.attr("href"))
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.select", ["mgcrea.ngStrap.tooltip", "mgcrea.ngStrap.helpers.parseOptions"]).provider("$select", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                prefixClass: "select",
                prefixEvent: "$select",
                placement: "bottom-left",
                templateUrl: "select/select.tpl.html",
                trigger: "focus",
                container: !1,
                keyboard: !0,
                html: !1,
                delay: 0,
                multiple: !1,
                allNoneButtons: !1,
                sort: !0,
                caretHtml: '&nbsp;<span class="caret"></span>',
                placeholder: "Choose among the following...",
                allText: "All",
                noneText: "None",
                maxLength: 3,
                maxLengthHtml: "selected",
                iconCheckmark: "glyphicon glyphicon-ok"
            };
            this.$get = ["$window", "$document", "$rootScope", "$tooltip", "$timeout", function($window, $document, $rootScope, $tooltip, $timeout) {
                angular.element($window.document.body);
                var isNative = /(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),
                    isTouch = "createTouch" in $window.document && isNative;

                function SelectFactory(element, controller, config) {
                    var $select = {},
                        options = angular.extend({}, defaults, config),
                        scope = ($select = $tooltip(element, options)).$scope;
                    scope.$matches = [], options.multiple ? scope.$activeIndex = [] : scope.$activeIndex = -1, scope.$isMultiple = options.multiple, scope.$showAllNoneButtons = options.allNoneButtons && options.multiple, scope.$iconCheckmark = options.iconCheckmark, scope.$allText = options.allText, scope.$noneText = options.noneText, scope.$activate = function(index) {
                        scope.$$postDigest(function() {
                            $select.activate(index)
                        })
                    }, scope.$select = function(index, evt) {
                        scope.$$postDigest(function() {
                            $select.select(index)
                        })
                    }, scope.$isVisible = function() {
                        return $select.$isVisible()
                    }, scope.$isActive = function(index) {
                        return $select.$isActive(index)
                    }, scope.$selectAll = function() {
                        for (var i = 0; i < scope.$matches.length; i++) scope.$isActive(i) || scope.$select(i)
                    }, scope.$selectNone = function() {
                        for (var i = 0; i < scope.$matches.length; i++) scope.$isActive(i) && scope.$select(i)
                    }, $select.update = function(matches) {
                        scope.$matches = matches, $select.$updateActiveIndex()
                    }, $select.activate = function(index) {
                        return options.multiple ? ($select.$isActive(index) ? scope.$activeIndex.splice(scope.$activeIndex.indexOf(index), 1) : scope.$activeIndex.push(index), options.sort && scope.$activeIndex.sort(function(a, b) {
                            return a - b
                        })) : scope.$activeIndex = index, scope.$activeIndex
                    }, $select.select = function(index) {
                        var value = scope.$matches[index].value;
                        scope.$apply(function() {
                            $select.activate(index), options.multiple ? controller.$setViewValue(scope.$activeIndex.map(function(index) {
                                return scope.$matches[index].value
                            })) : (controller.$setViewValue(value), $select.hide())
                        }), scope.$emit(options.prefixEvent + ".select", value, index, $select)
                    }, $select.$updateActiveIndex = function() {
                        controller.$modelValue && scope.$matches.length ? options.multiple && angular.isArray(controller.$modelValue) ? scope.$activeIndex = controller.$modelValue.map(function(value) {
                            return $select.$getIndex(value)
                        }) : scope.$activeIndex = $select.$getIndex(controller.$modelValue) : scope.$activeIndex >= scope.$matches.length && (scope.$activeIndex = options.multiple ? [] : 0)
                    }, $select.$isVisible = function() {
                        return options.minLength && controller ? scope.$matches.length && controller.$viewValue.length >= options.minLength : scope.$matches.length
                    }, $select.$isActive = function(index) {
                        return options.multiple ? -1 !== scope.$activeIndex.indexOf(index) : scope.$activeIndex === index
                    }, $select.$getIndex = function(value) {
                        var l = scope.$matches.length,
                            i = l;
                        if (l) {
                            for (i = l; i-- && scope.$matches[i].value !== value;);
                            if (!(i < 0)) return i
                        }
                    }, $select.$onMouseDown = function(evt) {
                        evt.preventDefault(), evt.stopPropagation(), isTouch && angular.element(evt.target).triggerHandler("click")
                    }, $select.$onKeyDown = function(evt) {
                        if (/(9|13|38|40)/.test(evt.keyCode)) return evt.preventDefault(), evt.stopPropagation(), options.multiple && 9 === evt.keyCode ? $select.hide() : options.multiple || 13 !== evt.keyCode && 9 !== evt.keyCode ? void(options.multiple || (38 === evt.keyCode && 0 < scope.$activeIndex ? scope.$activeIndex-- : 38 === evt.keyCode && scope.$activeIndex < 0 ? scope.$activeIndex = scope.$matches.length - 1 : 40 === evt.keyCode && scope.$activeIndex < scope.$matches.length - 1 ? scope.$activeIndex++ : angular.isUndefined(scope.$activeIndex) && (scope.$activeIndex = 0), scope.$digest())) : $select.select(scope.$activeIndex)
                    };
                    var _show = $select.show;
                    $select.show = function() {
                        _show(), options.multiple && $select.$element.addClass("select-multiple"), $timeout(function() {
                            $select.$element.on(isTouch ? "touchstart" : "mousedown", $select.$onMouseDown), options.keyboard && element.on("keydown", $select.$onKeyDown)
                        }, 0, !1)
                    };
                    var _hide = $select.hide;
                    return $select.hide = function() {
                        options.multiple || controller.$modelValue || (scope.$activeIndex = -1), $select.$element.off(isTouch ? "touchstart" : "mousedown", $select.$onMouseDown), options.keyboard && element.off("keydown", $select.$onKeyDown), _hide(!0)
                    }, $select
                }
                return SelectFactory.defaults = defaults, SelectFactory
            }]
        }).directive("bsSelect", ["$window", "$parse", "$q", "$select", "$parseOptions", function($window, $parse, $q, $select, $parseOptions) {
            var defaults = $select.defaults;
            return {
                restrict: "EAC",
                require: "ngModel",
                link: function(scope, element, attr, controller) {
                    var options = {
                        scope: scope,
                        placeholder: defaults.placeholder
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "placement", "container", "delay", "trigger", "keyboard", "html", "animation", "placeholder", "allNoneButtons", "maxLength", "maxLengthHtml", "allText", "noneText", "iconCheckmark", "autoClose", "id", "sort", "caretHtml", "prefixClass", "prefixEvent"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["html", "container", "allNoneButtons", "sort"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    });
                    var dataMultiple = element.attr("data-multiple");
                    if (angular.isDefined(dataMultiple) && (falseValueRegExp.test(dataMultiple) ? options.multiple = !1 : options.multiple = dataMultiple), "select" === element[0].nodeName.toLowerCase()) {
                        var inputEl = element;
                        inputEl.css("display", "none"), element = angular.element('<button type="button" class="btn btn-default"></button>'), inputEl.after(element)
                    }
                    var parsedOptions = $parseOptions(attr.bsOptions),
                        select = $select(element, controller, options),
                        watchedOptions = parsedOptions.$match[7].replace(/\|.+/, "").trim();
                    scope.$watchCollection(watchedOptions, function(newValue, oldValue) {
                        parsedOptions.valuesFn(scope, controller).then(function(values) {
                            select.update(values), controller.$render()
                        })
                    }), scope.$watch(attr.ngModel, function(newValue, oldValue) {
                        select.$updateActiveIndex(), controller.$render()
                    }, !0), controller.$render = function() {
                        var selected, index;
                        selected = options.multiple && angular.isArray(controller.$modelValue) ? (selected = controller.$modelValue.map(function(value) {
                            return index = select.$getIndex(value), !!angular.isDefined(index) && select.$scope.$matches[index].label
                        }).filter(angular.isDefined)).length > (options.maxLength || defaults.maxLength) ? selected.length + " " + (options.maxLengthHtml || defaults.maxLengthHtml) : selected.join(", ") : (index = select.$getIndex(controller.$modelValue), !!angular.isDefined(index) && select.$scope.$matches[index].label), element.html((selected || options.placeholder) + (options.caretHtml ? options.caretHtml : defaults.caretHtml))
                    }, options.multiple && (controller.$isEmpty = function(value) {
                        return !value || 0 === value.length
                    }), scope.$on("$destroy", function() {
                        select && select.destroy(), select = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.timepicker", ["mgcrea.ngStrap.helpers.dateParser", "mgcrea.ngStrap.helpers.dateFormatter", "mgcrea.ngStrap.tooltip"]).provider("$timepicker", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                prefixClass: "timepicker",
                placement: "bottom-left",
                templateUrl: "timepicker/timepicker.tpl.html",
                trigger: "focus",
                container: !1,
                keyboard: !0,
                html: !1,
                delay: 0,
                useNative: !0,
                timeType: "date",
                timeFormat: "shortTime",
                timezone: null,
                modelTimeFormat: null,
                autoclose: !1,
                minTime: -1 / 0,
                maxTime: 1 / 0,
                length: 5,
                hourStep: 1,
                minuteStep: 5,
                secondStep: 5,
                roundDisplay: !1,
                iconUp: "glyphicon glyphicon-chevron-up",
                iconDown: "glyphicon glyphicon-chevron-down",
                arrowBehavior: "pager"
            };
            this.$get = ["$window", "$document", "$rootScope", "$sce", "$dateFormatter", "$tooltip", "$timeout", function($window, $document, $rootScope, $sce, $dateFormatter, $tooltip, $timeout) {
                var isNative = /(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),
                    isTouch = "createTouch" in $window.document && isNative;

                function timepickerFactory(element, controller, config) {
                    function formatDate(date, format, timezone) {
                        return $dateFormatter.formatDate(date, format, lang, timezone)
                    }
                    var $timepicker = $tooltip(element, angular.extend({}, defaults, config)),
                        parentScope = config.scope,
                        options = $timepicker.$options,
                        scope = $timepicker.$scope,
                        lang = options.lang;
                    var time, coeff, selectedIndex = 0,
                        defaultDate = options.roundDisplay ? (time = new Date, coeff = 6e4 * options.minuteStep, new Date(Math.floor(time.getTime() / coeff) * coeff)) : new Date,
                        startDate = controller.$dateValue || defaultDate,
                        viewDate = {
                            hour: startDate.getHours(),
                            meridian: startDate.getHours() < 12,
                            minute: startDate.getMinutes(),
                            second: startDate.getSeconds(),
                            millisecond: startDate.getMilliseconds()
                        },
                        format = $dateFormatter.getDatetimeFormat(options.timeFormat, lang),
                        hoursFormat = $dateFormatter.hoursFormat(format),
                        timeSeparator = $dateFormatter.timeSeparator(format),
                        minutesFormat = $dateFormatter.minutesFormat(format),
                        secondsFormat = $dateFormatter.secondsFormat(format),
                        showSeconds = $dateFormatter.showSeconds(format),
                        showAM = $dateFormatter.showAM(format);

                    function focusElement() {
                        element[0].focus()
                    }
                    scope.$iconUp = options.iconUp, scope.$iconDown = options.iconDown, scope.$select = function(date, index) {
                        $timepicker.select(date, index)
                    }, scope.$moveIndex = function(value, index) {
                        $timepicker.$moveIndex(value, index)
                    }, scope.$switchMeridian = function(date) {
                        $timepicker.switchMeridian(date)
                    }, $timepicker.update = function(date) {
                        angular.isDate(date) && !isNaN(date.getTime()) ? ($timepicker.$date = date, angular.extend(viewDate, {
                            hour: date.getHours(),
                            minute: date.getMinutes(),
                            second: date.getSeconds(),
                            millisecond: date.getMilliseconds()
                        }), $timepicker.$build()) : $timepicker.$isBuilt || $timepicker.$build()
                    }, $timepicker.select = function(date, index, keep) {
                        controller.$dateValue && !isNaN(controller.$dateValue.getTime()) || (controller.$dateValue = new Date(1970, 0, 1)), angular.isDate(date) || (date = new Date(date)), 0 === index ? controller.$dateValue.setHours(date.getHours()) : 1 === index ? controller.$dateValue.setMinutes(date.getMinutes()) : 2 === index && controller.$dateValue.setSeconds(date.getSeconds()), controller.$setViewValue(angular.copy(controller.$dateValue)), controller.$render(), options.autoclose && !keep && $timeout(function() {
                            $timepicker.hide(!0)
                        })
                    }, $timepicker.switchMeridian = function(date) {
                        if (controller.$dateValue && !isNaN(controller.$dateValue.getTime())) {
                            var hours = (date || controller.$dateValue).getHours();
                            controller.$dateValue.setHours(hours < 12 ? hours + 12 : hours - 12), controller.$setViewValue(angular.copy(controller.$dateValue)), controller.$render()
                        }
                    }, $timepicker.$build = function() {
                        var i, hour, midIndex = scope.midIndex = parseInt(options.length / 2, 10),
                            hours = [];
                        for (i = 0; i < options.length; i++) hour = new Date(1970, 0, 1, viewDate.hour - (midIndex - i) * options.hourStep), hours.push({
                            date: hour,
                            label: formatDate(hour, hoursFormat),
                            selected: $timepicker.$date && $timepicker.$isSelected(hour, 0),
                            disabled: $timepicker.$isDisabled(hour, 0)
                        });
                        var minute, minutes = [];
                        for (i = 0; i < options.length; i++) minute = new Date(1970, 0, 1, 0, viewDate.minute - (midIndex - i) * options.minuteStep), minutes.push({
                            date: minute,
                            label: formatDate(minute, minutesFormat),
                            selected: $timepicker.$date && $timepicker.$isSelected(minute, 1),
                            disabled: $timepicker.$isDisabled(minute, 1)
                        });
                        var second, seconds = [];
                        for (i = 0; i < options.length; i++) second = new Date(1970, 0, 1, 0, 0, viewDate.second - (midIndex - i) * options.secondStep), seconds.push({
                            date: second,
                            label: formatDate(second, secondsFormat),
                            selected: $timepicker.$date && $timepicker.$isSelected(second, 2),
                            disabled: $timepicker.$isDisabled(second, 2)
                        });
                        var rows = [];
                        for (i = 0; i < options.length; i++) showSeconds ? rows.push([hours[i], minutes[i], seconds[i]]) : rows.push([hours[i], minutes[i]]);
                        scope.rows = rows, scope.showSeconds = showSeconds, scope.showAM = showAM, scope.isAM = ($timepicker.$date || hours[midIndex].date).getHours() < 12, scope.timeSeparator = timeSeparator, $timepicker.$isBuilt = !0
                    }, $timepicker.$isSelected = function(date, index) {
                        return !!$timepicker.$date && (0 === index ? date.getHours() === $timepicker.$date.getHours() : 1 === index ? date.getMinutes() === $timepicker.$date.getMinutes() : 2 === index ? date.getSeconds() === $timepicker.$date.getSeconds() : void 0)
                    }, $timepicker.$isDisabled = function(date, index) {
                        var selectedTime;
                        return 0 === index ? selectedTime = date.getTime() + 6e4 * viewDate.minute + 1e3 * viewDate.second : 1 === index ? selectedTime = date.getTime() + 36e5 * viewDate.hour + 1e3 * viewDate.second : 2 === index && (selectedTime = date.getTime() + 36e5 * viewDate.hour + 6e4 * viewDate.minute), selectedTime < 1 * options.minTime || selectedTime > 1 * options.maxTime
                    }, scope.$arrowAction = function(value, index) {
                        "picker" === options.arrowBehavior ? $timepicker.$setTimeByStep(value, index) : $timepicker.$moveIndex(value, index)
                    }, $timepicker.$setTimeByStep = function(value, index) {
                        var newDate = new Date($timepicker.$date || startDate),
                            hours = newDate.getHours(),
                            minutes = newDate.getMinutes(),
                            seconds = newDate.getSeconds();
                        0 === index ? newDate.setHours(hours - parseInt(options.hourStep, 10) * value) : 1 === index ? newDate.setMinutes(minutes - parseInt(options.minuteStep, 10) * value) : 2 === index && newDate.setSeconds(seconds - parseInt(options.secondStep, 10) * value), $timepicker.select(newDate, index, !0)
                    }, $timepicker.$moveIndex = function(value, index) {
                        var targetDate;
                        0 === index ? (targetDate = new Date(1970, 0, 1, viewDate.hour + value * options.length, viewDate.minute, viewDate.second), angular.extend(viewDate, {
                            hour: targetDate.getHours()
                        })) : 1 === index ? (targetDate = new Date(1970, 0, 1, viewDate.hour, viewDate.minute + value * options.length * options.minuteStep, viewDate.second), angular.extend(viewDate, {
                            minute: targetDate.getMinutes()
                        })) : 2 === index && (targetDate = new Date(1970, 0, 1, viewDate.hour, viewDate.minute, viewDate.second + value * options.length * options.secondStep), angular.extend(viewDate, {
                            second: targetDate.getSeconds()
                        })), $timepicker.$build()
                    }, $timepicker.$onMouseDown = function(evt) {
                        if ("input" !== evt.target.nodeName.toLowerCase() && evt.preventDefault(), evt.stopPropagation(), isTouch) {
                            var targetEl = angular.element(evt.target);
                            "button" !== targetEl[0].nodeName.toLowerCase() && (targetEl = targetEl.parent()), targetEl.triggerHandler("click")
                        }
                    }, $timepicker.$onKeyDown = function(evt) {
                        if (/(38|37|39|40|13)/.test(evt.keyCode) && !evt.shiftKey && !evt.altKey)
                            if (evt.preventDefault(), evt.stopPropagation(), 13 !== evt.keyCode) {
                                var newDate = new Date($timepicker.$date),
                                    hours = newDate.getHours(),
                                    hoursLength = formatDate(newDate, hoursFormat).length,
                                    minutes = newDate.getMinutes(),
                                    minutesLength = formatDate(newDate, minutesFormat).length,
                                    seconds = newDate.getSeconds(),
                                    secondsLength = formatDate(newDate, secondsFormat).length,
                                    lateralMove = /(37|39)/.test(evt.keyCode),
                                    count = 2 + 1 * showSeconds + 1 * showAM;
                                lateralMove && (37 === evt.keyCode ? selectedIndex = selectedIndex < 1 ? count - 1 : selectedIndex - 1 : 39 === evt.keyCode && (selectedIndex = selectedIndex < count - 1 ? selectedIndex + 1 : 0));
                                var selectRange = [0, hoursLength],
                                    incr = 0;
                                38 === evt.keyCode && (incr = -1), 40 === evt.keyCode && (incr = 1);
                                var isSeconds = 2 === selectedIndex && showSeconds,
                                    isMeridian = 2 === selectedIndex && !showSeconds || 3 === selectedIndex && showSeconds;
                                0 === selectedIndex ? (newDate.setHours(hours + incr * parseInt(options.hourStep, 10)), selectRange = [0, hoursLength = formatDate(newDate, hoursFormat).length]) : 1 === selectedIndex ? (newDate.setMinutes(minutes + incr * parseInt(options.minuteStep, 10)), selectRange = [hoursLength + 1, minutesLength = formatDate(newDate, minutesFormat).length]) : isSeconds ? (newDate.setSeconds(seconds + incr * parseInt(options.secondStep, 10)), selectRange = [hoursLength + 1 + minutesLength + 1, secondsLength = formatDate(newDate, secondsFormat).length]) : isMeridian && (lateralMove || $timepicker.switchMeridian(), selectRange = [hoursLength + 1 + minutesLength + 1 + (secondsLength + 1) * showSeconds, 2]), $timepicker.select(newDate, selectedIndex, !0),
                                    function(start, length) {
                                        var end = start + length;
                                        if (element[0].createTextRange) {
                                            var selRange = element[0].createTextRange();
                                            selRange.collapse(!0), selRange.moveStart("character", start), selRange.moveEnd("character", end), selRange.select()
                                        } else element[0].setSelectionRange ? element[0].setSelectionRange(start, end) : angular.isUndefined(element[0].selectionStart) && (element[0].selectionStart = start, element[0].selectionEnd = end)
                                    }(selectRange[0], selectRange[1]), parentScope.$digest()
                            } else $timepicker.hide(!0)
                    };
                    var _init = $timepicker.init;
                    $timepicker.init = function() {
                        if (isNative && options.useNative) return element.prop("type", "time"), void element.css("-webkit-appearance", "textfield");
                        isTouch && (element.prop("type", "text"), element.attr("readonly", "true"), element.on("click", focusElement)), _init()
                    };
                    var _destroy = $timepicker.destroy;
                    $timepicker.destroy = function() {
                        isNative && options.useNative && element.off("click", focusElement), _destroy()
                    };
                    var _show = $timepicker.show;
                    $timepicker.show = function() {
                        !isTouch && element.attr("readonly") || element.attr("disabled") || (_show(), $timeout(function() {
                            $timepicker.$element && $timepicker.$element.on(isTouch ? "touchstart" : "mousedown", $timepicker.$onMouseDown), options.keyboard && element && element.on("keydown", $timepicker.$onKeyDown)
                        }, 0, !1))
                    };
                    var _hide = $timepicker.hide;
                    return $timepicker.hide = function(blur) {
                        $timepicker.$isShown && ($timepicker.$element && $timepicker.$element.off(isTouch ? "touchstart" : "mousedown", $timepicker.$onMouseDown), options.keyboard && element && element.off("keydown", $timepicker.$onKeyDown), _hide(blur))
                    }, $timepicker
                }
                return defaults.lang || (defaults.lang = $dateFormatter.getDefaultLocale()), timepickerFactory.defaults = defaults, timepickerFactory
            }]
        }).directive("bsTimepicker", ["$window", "$parse", "$q", "$dateFormatter", "$dateParser", "$timepicker", function($window, $parse, $q, $dateFormatter, $dateParser, $timepicker) {
            var defaults = $timepicker.defaults,
                isNative = /(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent);
            return {
                restrict: "EAC",
                require: "ngModel",
                link: function(scope, element, attr, controller) {
                    var options = {
                        scope: scope
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "placement", "container", "delay", "trigger", "keyboard", "html", "animation", "autoclose", "timeType", "timeFormat", "timezone", "modelTimeFormat", "useNative", "hourStep", "minuteStep", "secondStep", "length", "arrowBehavior", "iconUp", "iconDown", "roundDisplay", "id", "prefixClass", "prefixEvent"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["html", "container", "autoclose", "useNative", "roundDisplay"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    }), attr.bsShow && scope.$watch(attr.bsShow, function(newValue, oldValue) {
                        timepicker && angular.isDefined(newValue) && (angular.isString(newValue) && (newValue = !!newValue.match(/true|,?(timepicker),?/i)), !0 === newValue ? timepicker.show() : timepicker.hide())
                    }), isNative && (options.useNative || defaults.useNative) && (options.timeFormat = "HH:mm");

                    function formatDate(date, format, timezone) {
                        return $dateFormatter.formatDate(date, format, lang, timezone)
                    }
                    var timepicker = $timepicker(element, controller, options),
                        lang = (options = timepicker.$options).lang,
                        dateParser = $dateParser({
                            format: options.timeFormat,
                            lang: lang
                        });

                    function validateAgainstMinMaxTime(parsedTime) {
                        if (angular.isDate(parsedTime)) {
                            var isMinValid = isNaN(options.minTime) || new Date(parsedTime.getTime()).setFullYear(1970, 0, 1) >= options.minTime,
                                isMaxValid = isNaN(options.maxTime) || new Date(parsedTime.getTime()).setFullYear(1970, 0, 1) <= options.maxTime,
                                isValid = isMinValid && isMaxValid;
                            controller.$setValidity("date", isValid), controller.$setValidity("min", isMinValid), controller.$setValidity("max", isMaxValid), isValid && (controller.$dateValue = parsedTime)
                        }
                    }

                    function getTimeFormattedString() {
                        return !controller.$dateValue || isNaN(controller.$dateValue.getTime()) ? "" : formatDate(controller.$dateValue, options.timeFormat)
                    }
                    angular.forEach(["minTime", "maxTime"], function(key) {
                        angular.isDefined(attr[key]) && attr.$observe(key, function(newValue) {
                            timepicker.$options[key] = dateParser.getTimeForAttribute(key, newValue), isNaN(timepicker.$options[key]) || timepicker.$build(), validateAgainstMinMaxTime(controller.$dateValue)
                        })
                    }), scope.$watch(attr.ngModel, function(newValue, oldValue) {
                        timepicker.update(controller.$dateValue)
                    }, !0), controller.$parsers.unshift(function(viewValue) {
                        var date;
                        if (!viewValue) return controller.$setValidity("date", !0), null;
                        var parsedTime = angular.isDate(viewValue) ? viewValue : dateParser.parse(viewValue, controller.$dateValue);
                        if (parsedTime && !isNaN(parsedTime.getTime())) return validateAgainstMinMaxTime(parsedTime), "string" === options.timeType ? (date = dateParser.timezoneOffsetAdjust(parsedTime, options.timezone, !0), formatDate(date, options.modelTimeFormat || options.timeFormat)) : (date = dateParser.timezoneOffsetAdjust(controller.$dateValue, options.timezone, !0), "number" === options.timeType ? date.getTime() : "unix" === options.timeType ? date.getTime() / 1e3 : "iso" === options.timeType ? date.toISOString() : new Date(date));
                        controller.$setValidity("date", !1)
                    }), controller.$formatters.push(function(modelValue) {
                        var date;
                        return date = angular.isUndefined(modelValue) || null === modelValue ? NaN : angular.isDate(modelValue) ? modelValue : "string" === options.timeType ? dateParser.parse(modelValue, null, options.modelTimeFormat) : "unix" === options.timeType ? new Date(1e3 * modelValue) : new Date(modelValue), controller.$dateValue = dateParser.timezoneOffsetAdjust(date, options.timezone), getTimeFormattedString()
                    }), controller.$render = function() {
                        element.val(getTimeFormattedString())
                    }, scope.$on("$destroy", function() {
                        timepicker && timepicker.destroy(), timepicker = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.tab", []).provider("$tab", function() {
            var defaults = this.defaults = {
                    animation: "am-fade",
                    template: "tab/tab.tpl.html",
                    navClass: "nav-tabs",
                    activeClass: "active"
                },
                controller = this.controller = function($scope, $element, $attrs) {
                    var self = this;
                    self.$options = angular.copy(defaults), angular.forEach(["animation", "navClass", "activeClass"], function(key) {
                        angular.isDefined($attrs[key]) && (self.$options[key] = $attrs[key])
                    }), $scope.$navClass = self.$options.navClass, $scope.$activeClass = self.$options.activeClass, self.$panes = $scope.$panes = [], self.$activePaneChangeListeners = self.$viewChangeListeners = [], self.$push = function(pane) {
                        angular.isUndefined(self.$panes.$active) && $scope.$setActive(pane.name || 0), self.$panes.push(pane)
                    }, self.$remove = function(pane) {
                        var activeIndex, index = self.$panes.indexOf(pane),
                            active = self.$panes.$active;
                        activeIndex = angular.isString(active) ? self.$panes.map(function(pane) {
                            return pane.name
                        }).indexOf(active) : self.$panes.$active, self.$panes.splice(index, 1), index < activeIndex ? activeIndex-- : index === activeIndex && activeIndex === self.$panes.length && activeIndex--, 0 <= activeIndex && activeIndex < self.$panes.length ? self.$setActive(self.$panes[activeIndex].name || activeIndex) : self.$setActive()
                    }, self.$setActive = $scope.$setActive = function(value) {
                        self.$panes.$active = value, self.$activePaneChangeListeners.forEach(function(fn) {
                            fn()
                        })
                    }, self.$isActive = $scope.$isActive = function($pane, $index) {
                        return self.$panes.$active === $pane.name || self.$panes.$active === $index
                    }
                };
            this.$get = function() {
                var $tab = {};
                return $tab.defaults = defaults, $tab.controller = controller, $tab
            }
        }).directive("bsTabs", ["$window", "$animate", "$tab", "$parse", function($window, $animate, $tab, $parse) {
            var defaults = $tab.defaults;
            return {
                require: ["?ngModel", "bsTabs"],
                transclude: !0,
                scope: !0,
                controller: ["$scope", "$element", "$attrs", $tab.controller],
                templateUrl: function(element, attr) {
                    return attr.template || defaults.template
                },
                link: function(scope, element, attrs, controllers) {
                    var ngModelCtrl = controllers[0],
                        bsTabsCtrl = controllers[1];
                    if (ngModelCtrl && (bsTabsCtrl.$activePaneChangeListeners.push(function() {
                            ngModelCtrl.$setViewValue(bsTabsCtrl.$panes.$active)
                        }), ngModelCtrl.$formatters.push(function(modelValue) {
                            return bsTabsCtrl.$setActive(modelValue), modelValue
                        })), attrs.bsActivePane) {
                        var parsedBsActivePane = $parse(attrs.bsActivePane);
                        bsTabsCtrl.$activePaneChangeListeners.push(function() {
                            parsedBsActivePane.assign(scope, bsTabsCtrl.$panes.$active)
                        }), scope.$watch(attrs.bsActivePane, function(newValue, oldValue) {
                            bsTabsCtrl.$setActive(newValue)
                        }, !0)
                    }
                }
            }
        }]).directive("bsPane", ["$window", "$animate", "$sce", function($window, $animate, $sce) {
            return {
                require: ["^?ngModel", "^bsTabs"],
                scope: !0,
                link: function(scope, element, attrs, controllers) {
                    controllers[0];
                    var bsTabsCtrl = controllers[1];

                    function render() {
                        var index = bsTabsCtrl.$panes.indexOf(scope);
                        $animate[bsTabsCtrl.$isActive(scope, index) ? "addClass" : "removeClass"](element, bsTabsCtrl.$options.activeClass)
                    }
                    element.addClass("tab-pane"), attrs.$observe("title", function(newValue, oldValue) {
                        scope.title = $sce.trustAsHtml(newValue)
                    }), scope.name = attrs.name, bsTabsCtrl.$options.animation && element.addClass(bsTabsCtrl.$options.animation), attrs.$observe("disabled", function(newValue, oldValue) {
                        scope.disabled = scope.$eval(newValue)
                    }), bsTabsCtrl.$push(scope), scope.$on("$destroy", function() {
                        bsTabsCtrl.$remove(scope)
                    }), bsTabsCtrl.$activePaneChangeListeners.push(function() {
                        render()
                    }), render()
                }
            }
        }]), angular.module("mgcrea.ngStrap.typeahead", ["mgcrea.ngStrap.tooltip", "mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                prefixClass: "typeahead",
                prefixEvent: "$typeahead",
                placement: "bottom-left",
                templateUrl: "typeahead/typeahead.tpl.html",
                trigger: "focus",
                container: !1,
                keyboard: !0,
                html: !1,
                delay: 0,
                minLength: 1,
                filter: "bsAsyncFilter",
                limit: 6,
                autoSelect: !1,
                comparator: "",
                trimValue: !0
            };
            this.$get = ["$window", "$rootScope", "$tooltip", "$$rAF", "$timeout", function($window, $rootScope, $tooltip, $$rAF, $timeout) {
                angular.element($window.document.body);

                function TypeaheadFactory(element, controller, config) {
                    var $typeahead = {},
                        options = angular.extend({}, defaults, config);
                    $typeahead = $tooltip(element, options);
                    var parentScope = config.scope,
                        scope = $typeahead.$scope;
                    scope.$resetMatches = function() {
                        scope.$matches = [], scope.$activeIndex = options.autoSelect ? 0 : -1
                    }, scope.$resetMatches(), scope.$activate = function(index) {
                        scope.$$postDigest(function() {
                            $typeahead.activate(index)
                        })
                    }, scope.$select = function(index, evt) {
                        scope.$$postDigest(function() {
                            $typeahead.select(index)
                        })
                    }, scope.$isVisible = function() {
                        return $typeahead.$isVisible()
                    }, $typeahead.update = function(matches) {
                        scope.$matches = matches, scope.$activeIndex >= matches.length && (scope.$activeIndex = options.autoSelect ? 0 : -1),
                            function(scope) {
                                scope.$$phase || scope.$root && scope.$root.$$phase || scope.$digest()
                            }(scope), $$rAF($typeahead.$applyPlacement)
                    }, $typeahead.activate = function(index) {
                        scope.$activeIndex = index
                    }, $typeahead.select = function(index) {
                        if (-1 !== index) {
                            var value = scope.$matches[index].value;
                            controller.$setViewValue(value), controller.$render(), scope.$resetMatches(), parentScope && parentScope.$digest(), scope.$emit(options.prefixEvent + ".select", value, index, $typeahead)
                        }
                    }, $typeahead.$isVisible = function() {
                        return options.minLength && controller ? scope.$matches.length && angular.isString(controller.$viewValue) && controller.$viewValue.length >= options.minLength : !!scope.$matches.length
                    }, $typeahead.$getIndex = function(value) {
                        var l = scope.$matches.length,
                            i = l;
                        if (l) {
                            for (i = l; i-- && scope.$matches[i].value !== value;);
                            if (!(i < 0)) return i
                        }
                    }, $typeahead.$onMouseDown = function(evt) {
                        evt.preventDefault(), evt.stopPropagation()
                    }, $typeahead.$onKeyDown = function(evt) {
                        /(38|40|13)/.test(evt.keyCode) && (!$typeahead.$isVisible() || 13 === evt.keyCode && -1 === scope.$activeIndex || (evt.preventDefault(), evt.stopPropagation()), 13 === evt.keyCode && scope.$matches.length ? $typeahead.select(scope.$activeIndex) : 38 === evt.keyCode && 0 < scope.$activeIndex ? scope.$activeIndex-- : 40 === evt.keyCode && scope.$activeIndex < scope.$matches.length - 1 ? scope.$activeIndex++ : angular.isUndefined(scope.$activeIndex) && (scope.$activeIndex = 0), scope.$digest())
                    };
                    var show = $typeahead.show;
                    $typeahead.show = function() {
                        show(), $timeout(function() {
                            $typeahead.$element && $typeahead.$element.on("mousedown", $typeahead.$onMouseDown), options.keyboard && element && element.on("keydown", $typeahead.$onKeyDown)
                        }, 0, !1)
                    };
                    var hide = $typeahead.hide;
                    return $typeahead.hide = function() {
                        $typeahead.$element && $typeahead.$element.off("mousedown", $typeahead.$onMouseDown), options.keyboard && element && element.off("keydown", $typeahead.$onKeyDown), options.autoSelect || $typeahead.activate(-1), hide()
                    }, $typeahead
                }
                return TypeaheadFactory.defaults = defaults, TypeaheadFactory
            }]
        }).filter("bsAsyncFilter", ["$filter", function($filter) {
            return function(array, expression, comparator) {
                return array && angular.isFunction(array.then) ? array.then(function(results) {
                    return $filter("filter")(results, expression, comparator)
                }) : $filter("filter")(array, expression, comparator)
            }
        }]).directive("bsTypeahead", ["$window", "$parse", "$q", "$typeahead", "$parseOptions", function($window, $parse, $q, $typeahead, $parseOptions) {
            var defaults = $typeahead.defaults;
            return {
                restrict: "EAC",
                require: "ngModel",
                link: function(scope, element, attr, controller) {
                    var options = {
                        scope: scope
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "placement", "container", "delay", "trigger", "keyboard", "html", "animation", "filter", "limit", "minLength", "watchOptions", "selectMode", "autoSelect", "comparator", "id", "prefixEvent", "prefixClass"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["html", "container", "trimValue"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    }), element.attr("autocomplete", "false");
                    var filter = options.filter || defaults.filter,
                        limit = options.limit || defaults.limit,
                        comparator = options.comparator || defaults.comparator,
                        bsOptions = attr.bsOptions;
                    filter && (bsOptions += " | " + filter + ":$viewValue"), comparator && (bsOptions += ":" + comparator), limit && (bsOptions += " | limitTo:" + limit);
                    var parsedOptions = $parseOptions(bsOptions),
                        typeahead = $typeahead(element, controller, options);
                    if (options.watchOptions) {
                        var watchedOptions = parsedOptions.$match[7].replace(/\|.+/, "").replace(/\(.*\)/g, "").trim();
                        scope.$watchCollection(watchedOptions, function(newValue, oldValue) {
                            parsedOptions.valuesFn(scope, controller).then(function(values) {
                                typeahead.update(values), controller.$render()
                            })
                        })
                    }
                    scope.$watch(attr.ngModel, function(newValue, oldValue) {
                        scope.$modelValue = newValue, parsedOptions.valuesFn(scope, controller).then(function(values) {
                            if (options.selectMode && !values.length && 0 < newValue.length) controller.$setViewValue(controller.$viewValue.substring(0, controller.$viewValue.length - 1));
                            else {
                                values.length > limit && (values = values.slice(0, limit));
                                var isVisible = typeahead.$isVisible();
                                isVisible && typeahead.update(values), 1 === values.length && values[0].value === newValue || (isVisible || typeahead.update(values), controller.$render())
                            }
                        })
                    }), controller.$formatters.push(function(modelValue) {
                        var displayValue = parsedOptions.displayValue(modelValue);
                        return displayValue || (modelValue && "object" != typeof modelValue ? modelValue : "")
                    }), controller.$render = function() {
                        if (controller.$isEmpty(controller.$viewValue)) return element.val("");
                        var index = typeahead.$getIndex(controller.$modelValue),
                            selected = angular.isDefined(index) ? typeahead.$scope.$matches[index].label : controller.$viewValue,
                            value = (selected = angular.isObject(selected) ? parsedOptions.displayValue(selected) : selected) ? selected.toString().replace(/<(?:.|\n)*?>/gm, "") : "";
                        element.val(!1 === options.trimValue ? value : value.trim())
                    }, scope.$on("$destroy", function() {
                        typeahead && typeahead.destroy(), typeahead = options = null
                    })
                }
            }
        }]), angular.module("mgcrea.ngStrap.tooltip", ["mgcrea.ngStrap.core", "mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip", function() {
            var defaults = this.defaults = {
                animation: "am-fade",
                customClass: "",
                prefixClass: "tooltip",
                prefixEvent: "tooltip",
                container: !1,
                target: !1,
                placement: "top",
                templateUrl: "tooltip/tooltip.tpl.html",
                template: "",
                contentTemplate: !1,
                trigger: "hover focus",
                keyboard: !1,
                html: !1,
                show: !1,
                title: "",
                type: "",
                delay: 0,
                autoClose: !1,
                bsEnabled: !0,
                viewport: {
                    selector: "body",
                    padding: 0
                }
            };
            this.$get = ["$window", "$rootScope", "$bsCompiler", "$q", "$templateCache", "$http", "$animate", "$sce", "dimensions", "$$rAF", "$timeout", function($window, $rootScope, $bsCompiler, $q, $templateCache, $http, $animate, $sce, dimensions, $$rAF, $timeout) {
                String.prototype.trim;
                var isTouch = "createTouch" in $window.document,
                    $body = angular.element($window.document);

                function safeDigest(scope) {
                    scope.$$phase || scope.$root && scope.$root.$$phase || scope.$digest()
                }

                function findElement(query, element) {
                    return angular.element((element || document).querySelectorAll(query))
                }
                return function(element, config) {
                    var timeout, hoverState, compileData, tipElement, tipContainer, tipScope, _blur, _tipToHide, $tooltip = {},
                        options = $tooltip.$options = angular.extend({}, defaults, config),
                        promise = $tooltip.$promise = $bsCompiler.compile(options),
                        scope = $tooltip.$scope = options.scope && options.scope.$new() || $rootScope.$new(),
                        nodeName = element[0].nodeName.toLowerCase();
                    if (options.delay && angular.isString(options.delay)) {
                        var split = options.delay.split(",").map(parseFloat);
                        options.delay = 1 < split.length ? {
                            show: split[0],
                            hide: split[1]
                        } : split[0]
                    }

                    function enterAnimateCallback() {
                        scope.$emit(options.prefixEvent + ".show", $tooltip)
                    }

                    function leaveAnimateCallback() {
                        if (scope.$emit(options.prefixEvent + ".hide", $tooltip), tipElement === _tipToHide) {
                            if (_blur && "focus" === options.trigger) return element[0].blur();
                            destroyTipElement()
                        }
                    }

                    function unbindKeyboardEvents() {
                        "focus" !== options.trigger ? tipElement.off("keyup", $tooltip.$onKeyUp) : element.off("keyup", $tooltip.$onFocusKeyUp)
                    }
                    $tooltip.$id = options.id || element.attr("id") || "", options.title && (scope.title = $sce.trustAsHtml(options.title)), scope.$setEnabled = function(isEnabled) {
                        scope.$$postDigest(function() {
                            $tooltip.setEnabled(isEnabled)
                        })
                    }, scope.$hide = function() {
                        scope.$$postDigest(function() {
                            $tooltip.hide()
                        })
                    }, scope.$show = function() {
                        scope.$$postDigest(function() {
                            $tooltip.show()
                        })
                    }, scope.$toggle = function() {
                        scope.$$postDigest(function() {
                            $tooltip.toggle()
                        })
                    }, $tooltip.$isShown = scope.$isShown = !1, promise.then(function(data) {
                        compileData = data, $tooltip.init()
                    }), $tooltip.init = function() {
                        options.delay && angular.isNumber(options.delay) && (options.delay = {
                                show: options.delay,
                                hide: options.delay
                            }), "self" === options.container ? tipContainer = element : angular.isElement(options.container) ? tipContainer = options.container : options.container && (tipContainer = findElement(options.container)),
                            function() {
                                var triggers = options.trigger.split(" ");
                                angular.forEach(triggers, function(trigger) {
                                    "click" === trigger ? element.on("click", $tooltip.toggle) : "manual" !== trigger && (element.on("hover" === trigger ? "mouseenter" : "focus", $tooltip.enter), element.on("hover" === trigger ? "mouseleave" : "blur", $tooltip.leave), "button" === nodeName && "hover" !== trigger && element.on(isTouch ? "touchstart" : "mousedown", $tooltip.$onFocusElementMouseDown))
                                })
                            }(), options.target && (options.target = angular.isElement(options.target) ? options.target : findElement(options.target)), options.show && scope.$$postDigest(function() {
                                "focus" === options.trigger ? element[0].focus() : $tooltip.show()
                            })
                    }, $tooltip.destroy = function() {
                        ! function() {
                            for (var triggers = options.trigger.split(" "), i = triggers.length; i--;) {
                                var trigger = triggers[i];
                                "click" === trigger ? element.off("click", $tooltip.toggle) : "manual" !== trigger && (element.off("hover" === trigger ? "mouseenter" : "focus", $tooltip.enter), element.off("hover" === trigger ? "mouseleave" : "blur", $tooltip.leave), "button" === nodeName && "hover" !== trigger && element.off(isTouch ? "touchstart" : "mousedown", $tooltip.$onFocusElementMouseDown))
                            }
                        }(), destroyTipElement(), scope.$destroy()
                    }, $tooltip.enter = function() {
                        if (clearTimeout(timeout), hoverState = "in", !options.delay || !options.delay.show) return $tooltip.show();
                        timeout = setTimeout(function() {
                            "in" === hoverState && $tooltip.show()
                        }, options.delay.show)
                    }, $tooltip.show = function() {
                        var parent, after;
                        options.bsEnabled && !$tooltip.$isShown && (scope.$emit(options.prefixEvent + ".show.before", $tooltip), after = options.container ? (parent = tipContainer)[0].lastChild ? angular.element(tipContainer[0].lastChild) : null : (parent = null, element), tipElement && destroyTipElement(), tipScope = $tooltip.$scope.$new(), (tipElement = $tooltip.$element = compileData.link(tipScope, function(clonedElement, scope) {})).css({
                            top: "-9999px",
                            left: "-9999px",
                            right: "auto",
                            display: "block",
                            visibility: "hidden"
                        }), options.animation && tipElement.addClass(options.animation), options.type && tipElement.addClass(options.prefixClass + "-" + options.type), options.customClass && tipElement.addClass(options.customClass), after ? after.after(tipElement) : parent.prepend(tipElement), $tooltip.$isShown = scope.$isShown = !0, safeDigest(scope), $tooltip.$applyPlacement(), angular.version.minor <= 2 ? $animate.enter(tipElement, parent, after, enterAnimateCallback) : $animate.enter(tipElement, parent, after).then(enterAnimateCallback), safeDigest(scope), $$rAF(function() {
                            tipElement && tipElement.css({
                                visibility: "visible"
                            })
                        }), options.keyboard && ("focus" !== options.trigger && $tooltip.focus(), "focus" !== options.trigger ? tipElement.on("keyup", $tooltip.$onKeyUp) : element.on("keyup", $tooltip.$onFocusKeyUp)), options.autoClose && $timeout(function() {
                            tipElement.on("click", stopEventPropagation), $body.on("click", $tooltip.hide), _autoCloseEventsBinded = !0
                        }, 0, !1))
                    }, $tooltip.leave = function() {
                        if (clearTimeout(timeout), hoverState = "out", !options.delay || !options.delay.hide) return $tooltip.hide();
                        timeout = setTimeout(function() {
                            "out" === hoverState && $tooltip.hide()
                        }, options.delay.hide)
                    }, $tooltip.hide = function(blur) {
                        $tooltip.$isShown && (scope.$emit(options.prefixEvent + ".hide.before", $tooltip), _blur = blur, _tipToHide = tipElement, angular.version.minor <= 2 ? $animate.leave(tipElement, leaveAnimateCallback) : $animate.leave(tipElement).then(leaveAnimateCallback), $tooltip.$isShown = scope.$isShown = !1, safeDigest(scope), options.keyboard && null !== tipElement && unbindKeyboardEvents(), options.autoClose && null !== tipElement && unbindAutoCloseEvents())
                    }, $tooltip.toggle = function() {
                        $tooltip.$isShown ? $tooltip.leave() : $tooltip.enter()
                    }, $tooltip.focus = function() {
                        tipElement[0].focus()
                    }, $tooltip.setEnabled = function(isEnabled) {
                        options.bsEnabled = isEnabled
                    }, $tooltip.setViewport = function(viewport) {
                        options.viewport = viewport
                    }, $tooltip.$applyPlacement = function() {
                        if (tipElement) {
                            var placement = options.placement,
                                autoToken = /\s?auto?\s?/i,
                                autoPlace = autoToken.test(placement);
                            autoPlace && (placement = placement.replace(autoToken, "") || defaults.placement), tipElement.addClass(options.placement);
                            var elementPosition = getPosition(),
                                tipWidth = tipElement.prop("offsetWidth"),
                                tipHeight = tipElement.prop("offsetHeight");
                            if ($tooltip.$viewport = options.viewport && findElement(options.viewport.selector || options.viewport), autoPlace) {
                                var originalPlacement = placement,
                                    viewportPosition = getPosition($tooltip.$viewport);
                                0 <= originalPlacement.indexOf("bottom") && elementPosition.bottom + tipHeight > viewportPosition.bottom ? placement = originalPlacement.replace("bottom", "top") : 0 <= originalPlacement.indexOf("top") && elementPosition.top - tipHeight < viewportPosition.top && (placement = originalPlacement.replace("top", "bottom")), ("right" === originalPlacement || "bottom-left" === originalPlacement || "top-left" === originalPlacement) && elementPosition.right + tipWidth > viewportPosition.width ? placement = "right" === originalPlacement ? "left" : placement.replace("left", "right") : ("left" === originalPlacement || "bottom-right" === originalPlacement || "top-right" === originalPlacement) && elementPosition.left - tipWidth < viewportPosition.left && (placement = "left" === originalPlacement ? "right" : placement.replace("right", "left")), tipElement.removeClass(originalPlacement).addClass(placement)
                            }! function(offset, placement) {
                                var tip = tipElement[0],
                                    width = tip.offsetWidth,
                                    height = tip.offsetHeight,
                                    marginTop = parseInt(dimensions.css(tip, "margin-top"), 10),
                                    marginLeft = parseInt(dimensions.css(tip, "margin-left"), 10);
                                isNaN(marginTop) && (marginTop = 0), isNaN(marginLeft) && (marginLeft = 0), offset.top = offset.top + marginTop, offset.left = offset.left + marginLeft, dimensions.setOffset(tip, angular.extend({
                                    using: function(props) {
                                        tipElement.css({
                                            top: Math.round(props.top) + "px",
                                            left: Math.round(props.left) + "px",
                                            right: ""
                                        })
                                    }
                                }, offset), 0);
                                var actualWidth = tip.offsetWidth,
                                    actualHeight = tip.offsetHeight;
                                if ("top" === placement && actualHeight !== height && (offset.top = offset.top + height - actualHeight), !/top-left|top-right|bottom-left|bottom-right/.test(placement)) {
                                    var delta = function(placement, position, actualWidth, actualHeight) {
                                        var delta = {
                                            top: 0,
                                            left: 0
                                        };
                                        if (!$tooltip.$viewport) return delta;
                                        var viewportPadding = options.viewport && options.viewport.padding || 0,
                                            viewportDimensions = getPosition($tooltip.$viewport);
                                        if (/right|left/.test(placement)) {
                                            var topEdgeOffset = position.top - viewportPadding - viewportDimensions.scroll,
                                                bottomEdgeOffset = position.top + viewportPadding - viewportDimensions.scroll + actualHeight;
                                            topEdgeOffset < viewportDimensions.top ? delta.top = viewportDimensions.top - topEdgeOffset : bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height && (delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset)
                                        } else {
                                            var leftEdgeOffset = position.left - viewportPadding,
                                                rightEdgeOffset = position.left + viewportPadding + actualWidth;
                                            leftEdgeOffset < viewportDimensions.left ? delta.left = viewportDimensions.left - leftEdgeOffset : rightEdgeOffset > viewportDimensions.right && (delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset)
                                        }
                                        return delta
                                    }(placement, offset, actualWidth, actualHeight);
                                    if (delta.left ? offset.left += delta.left : offset.top += delta.top, dimensions.setOffset(tip, offset), /top|right|bottom|left/.test(placement)) {
                                        var isVertical = /top|bottom/.test(placement),
                                            arrowDelta = isVertical ? 2 * delta.left - width + actualWidth : 2 * delta.top - height + actualHeight,
                                            arrowOffsetPosition = isVertical ? "offsetWidth" : "offsetHeight";
                                        ! function(delta, dimension, isHorizontal) {
                                            findElement(".tooltip-arrow, .arrow", tipElement[0]).css(isHorizontal ? "left" : "top", 50 * (1 - delta / dimension) + "%").css(isHorizontal ? "top" : "left", "")
                                        }(arrowDelta, tip[arrowOffsetPosition], isVertical)
                                    }
                                }
                            }(function(placement, position, actualWidth, actualHeight) {
                                var offset, split = placement.split("-");
                                switch (split[0]) {
                                    case "right":
                                        offset = {
                                            top: position.top + position.height / 2 - actualHeight / 2,
                                            left: position.left + position.width
                                        };
                                        break;
                                    case "bottom":
                                        offset = {
                                            top: position.top + position.height,
                                            left: position.left + position.width / 2 - actualWidth / 2
                                        };
                                        break;
                                    case "left":
                                        offset = {
                                            top: position.top + position.height / 2 - actualHeight / 2,
                                            left: position.left - actualWidth
                                        };
                                        break;
                                    default:
                                        offset = {
                                            top: position.top - actualHeight,
                                            left: position.left + position.width / 2 - actualWidth / 2
                                        }
                                }
                                if (!split[1]) return offset;
                                if ("top" === split[0] || "bottom" === split[0]) switch (split[1]) {
                                    case "left":
                                        offset.left = position.left;
                                        break;
                                    case "right":
                                        offset.left = position.left + position.width - actualWidth
                                } else if ("left" === split[0] || "right" === split[0]) switch (split[1]) {
                                    case "top":
                                        offset.top = position.top - actualHeight;
                                        break;
                                    case "bottom":
                                        offset.top = position.top + position.height
                                }
                                return offset
                            }(placement, elementPosition, tipWidth, tipHeight), placement)
                        }
                    }, $tooltip.$onKeyUp = function(evt) {
                        27 === evt.which && $tooltip.$isShown && ($tooltip.hide(), evt.stopPropagation())
                    }, $tooltip.$onFocusKeyUp = function(evt) {
                        27 === evt.which && (element[0].blur(), evt.stopPropagation())
                    };
                    var _autoCloseEventsBinded = ($tooltip.$onFocusElementMouseDown = function(evt) {
                        evt.preventDefault(), evt.stopPropagation(), $tooltip.$isShown ? element[0].blur() : element[0].focus()
                    }, !1);

                    function unbindAutoCloseEvents() {
                        _autoCloseEventsBinded && (tipElement.off("click", stopEventPropagation), $body.off("click", $tooltip.hide), _autoCloseEventsBinded = !1)
                    }

                    function stopEventPropagation(event) {
                        event.stopPropagation()
                    }

                    function getPosition($element) {
                        var el = ($element = $element || options.target || element)[0],
                            isBody = "BODY" === el.tagName,
                            elRect = el.getBoundingClientRect(),
                            rect = {};
                        for (var p in elRect) rect[p] = elRect[p];
                        null === rect.width && (rect = angular.extend({}, rect, {
                            width: elRect.right - elRect.left,
                            height: elRect.bottom - elRect.top
                        }));
                        var elOffset = isBody ? {
                                top: 0,
                                left: 0
                            } : dimensions.offset(el),
                            scroll = {
                                scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.prop("scrollTop") || 0
                            },
                            outerDims = isBody ? {
                                width: document.documentElement.clientWidth,
                                height: $window.innerHeight
                            } : null;
                        return angular.extend({}, rect, scroll, outerDims, elOffset)
                    }

                    function destroyTipElement() {
                        clearTimeout(timeout), $tooltip.$isShown && null !== tipElement && (options.autoClose && unbindAutoCloseEvents(), options.keyboard && unbindKeyboardEvents()), tipScope && (tipScope.$destroy(), tipScope = null), tipElement && (tipElement.remove(), tipElement = $tooltip.$element = null)
                    }
                    return $tooltip
                }
            }]
        }).directive("bsTooltip", ["$window", "$location", "$sce", "$tooltip", "$$rAF", function($window, $location, $sce, $tooltip, $$rAF) {
            return {
                restrict: "EAC",
                scope: !0,
                link: function(scope, element, attr, transclusion) {
                    var options = {
                        scope: scope
                    };
                    angular.forEach(["template", "templateUrl", "controller", "controllerAs", "contentTemplate", "placement", "container", "delay", "trigger", "html", "animation", "backdropAnimation", "type", "customClass", "id"], function(key) {
                        angular.isDefined(attr[key]) && (options[key] = attr[key])
                    });
                    var falseValueRegExp = /^(false|0|)$/i;
                    angular.forEach(["html", "container"], function(key) {
                        angular.isDefined(attr[key]) && falseValueRegExp.test(attr[key]) && (options[key] = !1)
                    });
                    var dataTarget = element.attr("data-target");
                    angular.isDefined(dataTarget) && (falseValueRegExp.test(dataTarget) ? options.target = !1 : options.target = dataTarget), scope.hasOwnProperty("title") || (scope.title = ""), attr.$observe("title", function(newValue) {
                        if (angular.isDefined(newValue) || !scope.hasOwnProperty("title")) {
                            var oldValue = scope.title;
                            scope.title = $sce.trustAsHtml(newValue), angular.isDefined(oldValue) && $$rAF(function() {
                                tooltip && tooltip.$applyPlacement()
                            })
                        }
                    }), attr.bsTooltip && scope.$watch(attr.bsTooltip, function(newValue, oldValue) {
                        angular.isObject(newValue) ? angular.extend(scope, newValue) : scope.title = newValue, angular.isDefined(oldValue) && $$rAF(function() {
                            tooltip && tooltip.$applyPlacement()
                        })
                    }, !0), attr.bsShow && scope.$watch(attr.bsShow, function(newValue, oldValue) {
                        tooltip && angular.isDefined(newValue) && (angular.isString(newValue) && (newValue = !!newValue.match(/true|,?(tooltip),?/i)), !0 === newValue ? tooltip.show() : tooltip.hide())
                    }), attr.bsEnabled && scope.$watch(attr.bsEnabled, function(newValue, oldValue) {
                        tooltip && angular.isDefined(newValue) && (angular.isString(newValue) && (newValue = !!newValue.match(/true|1|,?(tooltip),?/i)), !1 === newValue ? tooltip.setEnabled(!1) : tooltip.setEnabled(!0))
                    }), attr.viewport && scope.$watch(attr.viewport, function(newValue) {
                        tooltip && angular.isDefined(newValue) && tooltip.setViewport(newValue)
                    });
                    var tooltip = $tooltip(element, options);
                    scope.$on("$destroy", function() {
                        tooltip && tooltip.destroy(), tooltip = options = null
                    })
                }
            }
        }])
    }(window, document), define("angular_strap", ["angular"], function() {}),
    function(window, document, undefined) {
        "use strict";
        angular.module("mgcrea.ngStrap.alert").run(["$templateCache", function($templateCache) {
            $templateCache.put("alert/alert.tpl.html", '<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')
        }]), angular.module("mgcrea.ngStrap.aside").run(["$templateCache", function($templateCache) {
            $templateCache.put("aside/aside.tpl.html", '<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')
        }]), angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache", function($templateCache) {
            $templateCache.put("datepicker/datepicker.tpl.html", '<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')
        }]), angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache", function($templateCache) {
            $templateCache.put("dropdown/dropdown.tpl.html", '<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')
        }]), angular.module("mgcrea.ngStrap.modal").run(["$templateCache", function($templateCache) {
            $templateCache.put("modal/modal.tpl.html", '<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')
        }]), angular.module("mgcrea.ngStrap.popover").run(["$templateCache", function($templateCache) {
            $templateCache.put("popover/popover.tpl.html", '<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')
        }]), angular.module("mgcrea.ngStrap.select").run(["$templateCache", function($templateCache) {
            $templateCache.put("select/select.tpl.html", '<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')
        }]), angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache", function($templateCache) {
            $templateCache.put("timepicker/timepicker.tpl.html", '<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="showSeconds && row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')
        }]), angular.module("mgcrea.ngStrap.tab").run(["$templateCache", function($templateCache) {
            $templateCache.put("tab/tab.tpl.html", '<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')
        }]), angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache", function($templateCache) {
            $templateCache.put("typeahead/typeahead.tpl.html", '<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')
        }]), angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache", function($templateCache) {
            $templateCache.put("tooltip/tooltip.tpl.html", '<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')
        }])
    }(window, document), define("angular_strap_tpl", ["angular", "angular_strap"], function() {}),
    function(a, b) {
        "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
            if (!a.document) throw new Error("jQuery requires a window with a document");
            return b(a)
        } : b(a)
    }("undefined" != typeof window ? window : this, function(a, b) {
        function r(a, b) {
            return b.toUpperCase()
        }
        var c = [],
            d = c.slice,
            e = c.concat,
            f = c.push,
            g = c.indexOf,
            h = {},
            i = h.toString,
            j = h.hasOwnProperty,
            k = {},
            l = a.document,
            m = "2.1.3",
            n = function(a, b) {
                return new n.fn.init(a, b)
            },
            o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
            p = /^-ms-/,
            q = /-([\da-z])/gi;

        function s(a) {
            var b = a.length,
                c = n.type(a);
            return "function" !== c && !n.isWindow(a) && (!(1 !== a.nodeType || !b) || ("array" === c || 0 === b || "number" == typeof b && 0 < b && b - 1 in a))
        }
        n.fn = n.prototype = {
            jquery: m,
            constructor: n,
            selector: "",
            length: 0,
            toArray: function() {
                return d.call(this)
            },
            get: function(a) {
                return null != a ? a < 0 ? this[a + this.length] : this[a] : d.call(this)
            },
            pushStack: function(a) {
                var b = n.merge(this.constructor(), a);
                return b.prevObject = this, b.context = this.context, b
            },
            each: function(a, b) {
                return n.each(this, a, b)
            },
            map: function(a) {
                return this.pushStack(n.map(this, function(b, c) {
                    return a.call(b, c, b)
                }))
            },
            slice: function() {
                return this.pushStack(d.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(a) {
                var b = this.length,
                    c = +a + (a < 0 ? b : 0);
                return this.pushStack(0 <= c && c < b ? [this[c]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor(null)
            },
            push: f,
            sort: c.sort,
            splice: c.splice
        }, n.extend = n.fn.extend = function() {
            var a, b, c, d, e, f, g = arguments[0] || {},
                h = 1,
                i = arguments.length,
                j = !1;
            for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || n.isFunction(g) || (g = {}), h === i && (g = this, h--); h < i; h++)
                if (null != (a = arguments[h]))
                    for (b in a) c = g[b], g !== (d = a[b]) && (j && d && (n.isPlainObject(d) || (e = n.isArray(d))) ? (f = e ? (e = !1, c && n.isArray(c) ? c : []) : c && n.isPlainObject(c) ? c : {}, g[b] = n.extend(j, f, d)) : void 0 !== d && (g[b] = d));
            return g
        }, n.extend({
            expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(a) {
                throw new Error(a)
            },
            noop: function() {},
            isFunction: function(a) {
                return "function" === n.type(a)
            },
            isArray: Array.isArray,
            isWindow: function(a) {
                return null != a && a === a.window
            },
            isNumeric: function(a) {
                return !n.isArray(a) && 0 <= a - parseFloat(a) + 1
            },
            isPlainObject: function(a) {
                return "object" === n.type(a) && !a.nodeType && !n.isWindow(a) && !(a.constructor && !j.call(a.constructor.prototype, "isPrototypeOf"))
            },
            isEmptyObject: function(a) {
                var b;
                for (b in a) return !1;
                return !0
            },
            type: function(a) {
                return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? h[i.call(a)] || "object" : typeof a
            },
            globalEval: function(a) {
                var b, c = eval;
                (a = n.trim(a)) && (1 === a.indexOf("use strict") ? ((b = l.createElement("script")).text = a, l.head.appendChild(b).parentNode.removeChild(b)) : c(a))
            },
            camelCase: function(a) {
                return a.replace(p, "ms-").replace(q, r)
            },
            nodeName: function(a, b) {
                return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
            },
            each: function(a, b, c) {
                var e = 0,
                    f = a.length,
                    g = s(a);
                if (c) {
                    if (g)
                        for (; e < f && !1 !== b.apply(a[e], c); e++);
                    else
                        for (e in a)
                            if (!1 === b.apply(a[e], c)) break
                } else if (g)
                    for (; e < f && !1 !== b.call(a[e], e, a[e]); e++);
                else
                    for (e in a)
                        if (!1 === b.call(a[e], e, a[e])) break;
                return a
            },
            trim: function(a) {
                return null == a ? "" : (a + "").replace(o, "")
            },
            makeArray: function(a, b) {
                var c = b || [];
                return null != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : f.call(c, a)), c
            },
            inArray: function(a, b, c) {
                return null == b ? -1 : g.call(b, a, c)
            },
            merge: function(a, b) {
                for (var c = +b.length, d = 0, e = a.length; d < c; d++) a[e++] = b[d];
                return a.length = e, a
            },
            grep: function(a, b, c) {
                for (var e = [], f = 0, g = a.length, h = !c; f < g; f++) !b(a[f], f) != h && e.push(a[f]);
                return e
            },
            map: function(a, b, c) {
                var d, f = 0,
                    g = a.length,
                    i = [];
                if (s(a))
                    for (; f < g; f++) null != (d = b(a[f], f, c)) && i.push(d);
                else
                    for (f in a) null != (d = b(a[f], f, c)) && i.push(d);
                return e.apply([], i)
            },
            guid: 1,
            proxy: function(a, b) {
                var c, e, f;
                return "string" == typeof b && (c = a[b], b = a, a = c), n.isFunction(a) ? (e = d.call(arguments, 2), (f = function() {
                    return a.apply(b || this, e.concat(d.call(arguments)))
                }).guid = a.guid = a.guid || n.guid++, f) : void 0
            },
            now: Date.now,
            support: k
        }), n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
            h["[object " + b + "]"] = b.toLowerCase()
        });
        var t = function(a) {
            function db(a, b, c) {
                var d = "0x" + b - 65536;
                return d != d || c ? b : d < 0 ? String.fromCharCode(65536 + d) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
            }

            function eb() {
                m()
            }
            var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date,
                v = a.document,
                w = 0,
                x = 0,
                y = hb(),
                z = hb(),
                A = hb(),
                B = function(a, b) {
                    return a === b && (l = !0), 0
                },
                D = {}.hasOwnProperty,
                E = [],
                F = E.pop,
                G = E.push,
                H = E.push,
                I = E.slice,
                J = function(a, b) {
                    for (var c = 0, d = a.length; c < d; c++)
                        if (a[c] === b) return c;
                    return -1
                },
                K = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                L = "[\\x20\\t\\r\\n\\f]",
                M = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                N = M.replace("w", "w#"),
                O = "\\[" + L + "*(" + M + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + N + "))|)" + L + "*\\]",
                P = ":(" + M + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + O + ")*)|.*)\\)|)",
                Q = new RegExp(L + "+", "g"),
                R = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$", "g"),
                S = new RegExp("^" + L + "*," + L + "*"),
                T = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"),
                U = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]", "g"),
                V = new RegExp(P),
                W = new RegExp("^" + N + "$"),
                X = {
                    ID: new RegExp("^#(" + M + ")"),
                    CLASS: new RegExp("^\\.(" + M + ")"),
                    TAG: new RegExp("^(" + M.replace("w", "w*") + ")"),
                    ATTR: new RegExp("^" + O),
                    PSEUDO: new RegExp("^" + P),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)", "i"),
                    bool: new RegExp("^(?:" + K + ")$", "i"),
                    needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)", "i")
                },
                Y = /^(?:input|select|textarea|button)$/i,
                Z = /^h\d$/i,
                $ = /^[^{]+\{\s*\[native \w/,
                _ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                ab = /[+~]/,
                bb = /'|\\/g,
                cb = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)", "ig");
            try {
                H.apply(E = I.call(v.childNodes), v.childNodes), E[v.childNodes.length].nodeType
            } catch (fb) {
                H = {
                    apply: E.length ? function(a, b) {
                        G.apply(a, I.call(b))
                    } : function(a, b) {
                        for (var c = a.length, d = 0; a[c++] = b[d++];);
                        a.length = c - 1
                    }
                }
            }

            function gb(a, b, d, e) {
                var f, h, j, k, l, o, r, s, w, x;
                if ((b ? b.ownerDocument || b : v) !== n && m(b), d = d || [], k = (b = b || n).nodeType, "string" != typeof a || !a || 1 !== k && 9 !== k && 11 !== k) return d;
                if (!e && p) {
                    if (11 !== k && (f = _.exec(a)))
                        if (j = f[1]) {
                            if (9 === k) {
                                if (!(h = b.getElementById(j)) || !h.parentNode) return d;
                                if (h.id === j) return d.push(h), d
                            } else if (b.ownerDocument && (h = b.ownerDocument.getElementById(j)) && t(b, h) && h.id === j) return d.push(h), d
                        } else {
                            if (f[2]) return H.apply(d, b.getElementsByTagName(a)), d;
                            if ((j = f[3]) && c.getElementsByClassName) return H.apply(d, b.getElementsByClassName(j)), d
                        } if (c.qsa && (!q || !q.test(a))) {
                        if (s = r = u, w = b, x = 1 !== k && a, 1 === k && "object" !== b.nodeName.toLowerCase()) {
                            for (o = g(a), (r = b.getAttribute("id")) ? s = r.replace(bb, "\\$&") : b.setAttribute("id", s), s = "[id='" + s + "'] ", l = o.length; l--;) o[l] = s + rb(o[l]);
                            w = ab.test(a) && pb(b.parentNode) || b, x = o.join(",")
                        }
                        if (x) try {
                            return H.apply(d, w.querySelectorAll(x)), d
                        } catch (y) {} finally {
                            r || b.removeAttribute("id")
                        }
                    }
                }
                return i(a.replace(R, "$1"), b, d, e)
            }

            function hb() {
                var a = [];
                return function b(c, e) {
                    return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e
                }
            }

            function ib(a) {
                return a[u] = !0, a
            }

            function jb(a) {
                var b = n.createElement("div");
                try {
                    return !!a(b)
                } catch (c) {
                    return !1
                } finally {
                    b.parentNode && b.parentNode.removeChild(b), b = null
                }
            }

            function kb(a, b) {
                for (var c = a.split("|"), e = a.length; e--;) d.attrHandle[c[e]] = b
            }

            function lb(a, b) {
                var c = b && a,
                    d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || 1 << 31) - (~a.sourceIndex || 1 << 31);
                if (d) return d;
                if (c)
                    for (; c = c.nextSibling;)
                        if (c === b) return -1;
                return a ? 1 : -1
            }

            function mb(a) {
                return function(b) {
                    return "input" === b.nodeName.toLowerCase() && b.type === a
                }
            }

            function nb(a) {
                return function(b) {
                    var c = b.nodeName.toLowerCase();
                    return ("input" === c || "button" === c) && b.type === a
                }
            }

            function ob(a) {
                return ib(function(b) {
                    return b = +b, ib(function(c, d) {
                        for (var e, f = a([], c.length, b), g = f.length; g--;) c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                    })
                })
            }

            function pb(a) {
                return a && void 0 !== a.getElementsByTagName && a
            }
            for (b in c = gb.support = {}, f = gb.isXML = function(a) {
                    var b = a && (a.ownerDocument || a).documentElement;
                    return !!b && "HTML" !== b.nodeName
                }, m = gb.setDocument = function(a) {
                    var b, e, g = a ? a.ownerDocument || a : v;
                    return g !== n && 9 === g.nodeType && g.documentElement ? (o = (n = g).documentElement, (e = g.defaultView) && e !== e.top && (e.addEventListener ? e.addEventListener("unload", eb, !1) : e.attachEvent && e.attachEvent("onunload", eb)), p = !f(g), c.attributes = jb(function(a) {
                        return a.className = "i", !a.getAttribute("className")
                    }), c.getElementsByTagName = jb(function(a) {
                        return a.appendChild(g.createComment("")), !a.getElementsByTagName("*").length
                    }), c.getElementsByClassName = $.test(g.getElementsByClassName), c.getById = jb(function(a) {
                        return o.appendChild(a).id = u, !g.getElementsByName || !g.getElementsByName(u).length
                    }), c.getById ? (d.find.ID = function(a, b) {
                        if (void 0 !== b.getElementById && p) {
                            var c = b.getElementById(a);
                            return c && c.parentNode ? [c] : []
                        }
                    }, d.filter.ID = function(a) {
                        var b = a.replace(cb, db);
                        return function(a) {
                            return a.getAttribute("id") === b
                        }
                    }) : (delete d.find.ID, d.filter.ID = function(a) {
                        var b = a.replace(cb, db);
                        return function(a) {
                            var c = void 0 !== a.getAttributeNode && a.getAttributeNode("id");
                            return c && c.value === b
                        }
                    }), d.find.TAG = c.getElementsByTagName ? function(a, b) {
                        return void 0 !== b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0
                    } : function(a, b) {
                        var c, d = [],
                            e = 0,
                            f = b.getElementsByTagName(a);
                        if ("*" !== a) return f;
                        for (; c = f[e++];) 1 === c.nodeType && d.push(c);
                        return d
                    }, d.find.CLASS = c.getElementsByClassName && function(a, b) {
                        return p ? b.getElementsByClassName(a) : void 0
                    }, r = [], q = [], (c.qsa = $.test(g.querySelectorAll)) && (jb(function(a) {
                        o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\f]' msallowcapture=''><option selected=''></option></select>", a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + L + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || q.push("\\[" + L + "*(?:value|" + K + ")"), a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="), a.querySelectorAll(":checked").length || q.push(":checked"), a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]")
                    }), jb(function(a) {
                        var b = g.createElement("input");
                        b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && q.push("name" + L + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), q.push(",.*:")
                    })), (c.matchesSelector = $.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && jb(function(a) {
                        c.disconnectedMatch = s.call(a, "div"), s.call(a, "[s!='']:x"), r.push("!=", P)
                    }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r.join("|")), b = $.test(o.compareDocumentPosition), t = b || $.test(o.contains) ? function(a, b) {
                        var c = 9 === a.nodeType ? a.documentElement : a,
                            d = b && b.parentNode;
                        return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
                    } : function(a, b) {
                        if (b)
                            for (; b = b.parentNode;)
                                if (b === a) return !0;
                        return !1
                    }, B = b ? function(a, b) {
                        if (a === b) return l = !0, 0;
                        var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                        return d || (1 & (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1) || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === g || a.ownerDocument === v && t(v, a) ? -1 : b === g || b.ownerDocument === v && t(v, b) ? 1 : k ? J(k, a) - J(k, b) : 0 : 4 & d ? -1 : 1)
                    } : function(a, b) {
                        if (a === b) return l = !0, 0;
                        var c, d = 0,
                            e = a.parentNode,
                            f = b.parentNode,
                            h = [a],
                            i = [b];
                        if (!e || !f) return a === g ? -1 : b === g ? 1 : e ? -1 : f ? 1 : k ? J(k, a) - J(k, b) : 0;
                        if (e === f) return lb(a, b);
                        for (c = a; c = c.parentNode;) h.unshift(c);
                        for (c = b; c = c.parentNode;) i.unshift(c);
                        for (; h[d] === i[d];) d++;
                        return d ? lb(h[d], i[d]) : h[d] === v ? -1 : i[d] === v ? 1 : 0
                    }, g) : n
                }, gb.matches = function(a, b) {
                    return gb(a, null, null, b)
                }, gb.matchesSelector = function(a, b) {
                    if ((a.ownerDocument || a) !== n && m(a), b = b.replace(U, "='$1']"), !(!c.matchesSelector || !p || r && r.test(b) || q && q.test(b))) try {
                        var d = s.call(a, b);
                        if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d
                    } catch (e) {}
                    return 0 < gb(b, n, null, [a]).length
                }, gb.contains = function(a, b) {
                    return (a.ownerDocument || a) !== n && m(a), t(a, b)
                }, gb.attr = function(a, b) {
                    (a.ownerDocument || a) !== n && m(a);
                    var e = d.attrHandle[b.toLowerCase()],
                        f = e && D.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
                    return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null
                }, gb.error = function(a) {
                    throw new Error("Syntax error, unrecognized expression: " + a)
                }, gb.uniqueSort = function(a) {
                    var b, d = [],
                        e = 0,
                        f = 0;
                    if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) {
                        for (; b = a[f++];) b === a[f] && (e = d.push(f));
                        for (; e--;) a.splice(d[e], 1)
                    }
                    return k = null, a
                }, e = gb.getText = function(a) {
                    var b, c = "",
                        d = 0,
                        f = a.nodeType;
                    if (f) {
                        if (1 === f || 9 === f || 11 === f) {
                            if ("string" == typeof a.textContent) return a.textContent;
                            for (a = a.firstChild; a; a = a.nextSibling) c += e(a)
                        } else if (3 === f || 4 === f) return a.nodeValue
                    } else
                        for (; b = a[d++];) c += e(b);
                    return c
                }, (d = gb.selectors = {
                    cacheLength: 50,
                    createPseudo: ib,
                    match: X,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": {
                            dir: "parentNode",
                            first: !0
                        },
                        " ": {
                            dir: "parentNode"
                        },
                        "+": {
                            dir: "previousSibling",
                            first: !0
                        },
                        "~": {
                            dir: "previousSibling"
                        }
                    },
                    preFilter: {
                        ATTR: function(a) {
                            return a[1] = a[1].replace(cb, db), a[3] = (a[3] || a[4] || a[5] || "").replace(cb, db), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
                        },
                        CHILD: function(a) {
                            return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || gb.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && gb.error(a[0]), a
                        },
                        PSEUDO: function(a) {
                            var b, c = !a[6] && a[2];
                            return X.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && V.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3))
                        }
                    },
                    filter: {
                        TAG: function(a) {
                            var b = a.replace(cb, db).toLowerCase();
                            return "*" === a ? function() {
                                return !0
                            } : function(a) {
                                return a.nodeName && a.nodeName.toLowerCase() === b
                            }
                        },
                        CLASS: function(a) {
                            var b = y[a + " "];
                            return b || (b = new RegExp("(^|" + L + ")" + a + "(" + L + "|$)")) && y(a, function(a) {
                                return b.test("string" == typeof a.className && a.className || void 0 !== a.getAttribute && a.getAttribute("class") || "")
                            })
                        },
                        ATTR: function(a, b, c) {
                            return function(d) {
                                var e = gb.attr(d, a);
                                return null == e ? "!=" === b : !b || (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && -1 < e.indexOf(c) : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? -1 < (" " + e.replace(Q, " ") + " ").indexOf(c) : "|=" === b && (e === c || e.slice(0, c.length + 1) === c + "-"))
                            }
                        },
                        CHILD: function(a, b, c, d, e) {
                            var f = "nth" !== a.slice(0, 3),
                                g = "last" !== a.slice(-4),
                                h = "of-type" === b;
                            return 1 === d && 0 === e ? function(a) {
                                return !!a.parentNode
                            } : function(b, c, i) {
                                var j, k, l, m, n, o, p = f != g ? "nextSibling" : "previousSibling",
                                    q = b.parentNode,
                                    r = h && b.nodeName.toLowerCase(),
                                    s = !i && !h;
                                if (q) {
                                    if (f) {
                                        for (; p;) {
                                            for (l = b; l = l[p];)
                                                if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) return !1;
                                            o = p = "only" === a && !o && "nextSibling"
                                        }
                                        return !0
                                    }
                                    if (o = [g ? q.firstChild : q.lastChild], g && s) {
                                        for (n = (j = (k = q[u] || (q[u] = {}))[a] || [])[0] === w && j[1], m = j[0] === w && j[2], l = n && q.childNodes[n]; l = ++n && l && l[p] || (m = n = 0) || o.pop();)
                                            if (1 === l.nodeType && ++m && l === b) {
                                                k[a] = [w, n, m];
                                                break
                                            }
                                    } else if (s && (j = (b[u] || (b[u] = {}))[a]) && j[0] === w) m = j[1];
                                    else
                                        for (;
                                            (l = ++n && l && l[p] || (m = n = 0) || o.pop()) && ((h ? l.nodeName.toLowerCase() !== r : 1 !== l.nodeType) || !++m || (s && ((l[u] || (l[u] = {}))[a] = [w, m]), l !== b)););
                                    return (m -= e) === d || m % d == 0 && 0 <= m / d
                                }
                            }
                        },
                        PSEUDO: function(a, b) {
                            var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || gb.error("unsupported pseudo: " + a);
                            return e[u] ? e(b) : 1 < e.length ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? ib(function(a, c) {
                                for (var d, f = e(a, b), g = f.length; g--;) a[d = J(a, f[g])] = !(c[d] = f[g])
                            }) : function(a) {
                                return e(a, 0, c)
                            }) : e
                        }
                    },
                    pseudos: {
                        not: ib(function(a) {
                            var b = [],
                                c = [],
                                d = h(a.replace(R, "$1"));
                            return d[u] ? ib(function(a, b, c, e) {
                                for (var f, g = d(a, null, e, []), h = a.length; h--;)(f = g[h]) && (a[h] = !(b[h] = f))
                            }) : function(a, e, f) {
                                return b[0] = a, d(b, null, f, c), b[0] = null, !c.pop()
                            }
                        }),
                        has: ib(function(a) {
                            return function(b) {
                                return 0 < gb(a, b).length
                            }
                        }),
                        contains: ib(function(a) {
                            return a = a.replace(cb, db),
                                function(b) {
                                    return -1 < (b.textContent || b.innerText || e(b)).indexOf(a)
                                }
                        }),
                        lang: ib(function(a) {
                            return W.test(a || "") || gb.error("unsupported lang: " + a), a = a.replace(cb, db).toLowerCase(),
                                function(b) {
                                    var c;
                                    do {
                                        if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return (c = c.toLowerCase()) === a || 0 === c.indexOf(a + "-")
                                    } while ((b = b.parentNode) && 1 === b.nodeType);
                                    return !1
                                }
                        }),
                        target: function(b) {
                            var c = a.location && a.location.hash;
                            return c && c.slice(1) === b.id
                        },
                        root: function(a) {
                            return a === o
                        },
                        focus: function(a) {
                            return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                        },
                        enabled: function(a) {
                            return !1 === a.disabled
                        },
                        disabled: function(a) {
                            return !0 === a.disabled
                        },
                        checked: function(a) {
                            var b = a.nodeName.toLowerCase();
                            return "input" === b && !!a.checked || "option" === b && !!a.selected
                        },
                        selected: function(a) {
                            return a.parentNode && a.parentNode.selectedIndex, !0 === a.selected
                        },
                        empty: function(a) {
                            for (a = a.firstChild; a; a = a.nextSibling)
                                if (a.nodeType < 6) return !1;
                            return !0
                        },
                        parent: function(a) {
                            return !d.pseudos.empty(a)
                        },
                        header: function(a) {
                            return Z.test(a.nodeName)
                        },
                        input: function(a) {
                            return Y.test(a.nodeName)
                        },
                        button: function(a) {
                            var b = a.nodeName.toLowerCase();
                            return "input" === b && "button" === a.type || "button" === b
                        },
                        text: function(a) {
                            var b;
                            return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                        },
                        first: ob(function() {
                            return [0]
                        }),
                        last: ob(function(a, b) {
                            return [b - 1]
                        }),
                        eq: ob(function(a, b, c) {
                            return [c < 0 ? c + b : c]
                        }),
                        even: ob(function(a, b) {
                            for (var c = 0; c < b; c += 2) a.push(c);
                            return a
                        }),
                        odd: ob(function(a, b) {
                            for (var c = 1; c < b; c += 2) a.push(c);
                            return a
                        }),
                        lt: ob(function(a, b, c) {
                            for (var d = c < 0 ? c + b : c; 0 <= --d;) a.push(d);
                            return a
                        }),
                        gt: ob(function(a, b, c) {
                            for (var d = c < 0 ? c + b : c; ++d < b;) a.push(d);
                            return a
                        })
                    }
                }).pseudos.nth = d.pseudos.eq, {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                }) d.pseudos[b] = mb(b);
            for (b in {
                    submit: !0,
                    reset: !0
                }) d.pseudos[b] = nb(b);

            function qb() {}

            function rb(a) {
                for (var b = 0, c = a.length, d = ""; b < c; b++) d += a[b].value;
                return d
            }

            function sb(a, b, c) {
                var d = b.dir,
                    e = c && "parentNode" === d,
                    f = x++;
                return b.first ? function(b, c, f) {
                    for (; b = b[d];)
                        if (1 === b.nodeType || e) return a(b, c, f)
                } : function(b, c, g) {
                    var h, i, j = [w, f];
                    if (g) {
                        for (; b = b[d];)
                            if ((1 === b.nodeType || e) && a(b, c, g)) return !0
                    } else
                        for (; b = b[d];)
                            if (1 === b.nodeType || e) {
                                if ((h = (i = b[u] || (b[u] = {}))[d]) && h[0] === w && h[1] === f) return j[2] = h[2];
                                if ((i[d] = j)[2] = a(b, c, g)) return !0
                            }
                }
            }

            function tb(a) {
                return 1 < a.length ? function(b, c, d) {
                    for (var e = a.length; e--;)
                        if (!a[e](b, c, d)) return !1;
                    return !0
                } : a[0]
            }

            function vb(a, b, c, d, e) {
                for (var f, g = [], h = 0, i = a.length, j = null != b; h < i; h++) !(f = a[h]) || c && !c(f, d, e) || (g.push(f), j && b.push(h));
                return g
            }

            function wb(a, b, c, d, e, f) {
                return d && !d[u] && (d = wb(d)), e && !e[u] && (e = wb(e, f)), ib(function(f, g, h, i) {
                    var j, k, l, m = [],
                        n = [],
                        o = g.length,
                        p = f || function(a, b, c) {
                            for (var d = 0, e = b.length; d < e; d++) gb(a, b[d], c);
                            return c
                        }(b || "*", h.nodeType ? [h] : h, []),
                        q = !a || !f && b ? p : vb(p, m, a, h, i),
                        r = c ? e || (f ? a : o || d) ? [] : g : q;
                    if (c && c(q, r, h, i), d)
                        for (j = vb(r, n), d(j, [], h, i), k = j.length; k--;)(l = j[k]) && (r[n[k]] = !(q[n[k]] = l));
                    if (f) {
                        if (e || a) {
                            if (e) {
                                for (j = [], k = r.length; k--;)(l = r[k]) && j.push(q[k] = l);
                                e(null, r = [], j, i)
                            }
                            for (k = r.length; k--;)(l = r[k]) && -1 < (j = e ? J(f, l) : m[k]) && (f[j] = !(g[j] = l))
                        }
                    } else r = vb(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : H.apply(g, r)
                })
            }

            function xb(a) {
                for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = sb(function(a) {
                        return a === b
                    }, h, !0), l = sb(function(a) {
                        return -1 < J(b, a)
                    }, h, !0), m = [function(a, c, d) {
                        var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
                        return b = null, e
                    }]; i < f; i++)
                    if (c = d.relative[a[i].type]) m = [sb(tb(m), c)];
                    else {
                        if ((c = d.filter[a[i].type].apply(null, a[i].matches))[u]) {
                            for (e = ++i; e < f && !d.relative[a[e].type]; e++);
                            return wb(1 < i && tb(m), 1 < i && rb(a.slice(0, i - 1).concat({
                                value: " " === a[i - 2].type ? "*" : ""
                            })).replace(R, "$1"), c, i < e && xb(a.slice(i, e)), e < f && xb(a = a.slice(e)), e < f && rb(a))
                        }
                        m.push(c)
                    } return tb(m)
            }

            function yb(a, b) {
                var c = 0 < b.length,
                    e = 0 < a.length,
                    f = function(f, g, h, i, k) {
                        var l, m, o, p = 0,
                            q = "0",
                            r = f && [],
                            s = [],
                            t = j,
                            u = f || e && d.find.TAG("*", k),
                            v = w += null == t ? 1 : Math.random() || .1,
                            x = u.length;
                        for (k && (j = g !== n && g); q !== x && null != (l = u[q]); q++) {
                            if (e && l) {
                                for (m = 0; o = a[m++];)
                                    if (o(l, g, h)) {
                                        i.push(l);
                                        break
                                    } k && (w = v)
                            }
                            c && ((l = !o && l) && p--, f && r.push(l))
                        }
                        if (p += q, c && q !== p) {
                            for (m = 0; o = b[m++];) o(r, s, g, h);
                            if (f) {
                                if (0 < p)
                                    for (; q--;) r[q] || s[q] || (s[q] = F.call(i));
                                s = vb(s)
                            }
                            H.apply(i, s), k && !f && 0 < s.length && 1 < p + b.length && gb.uniqueSort(i)
                        }
                        return k && (w = v, j = t), r
                    };
                return c ? ib(f) : f
            }
            return qb.prototype = d.filters = d.pseudos, d.setFilters = new qb, g = gb.tokenize = function(a, b) {
                var c, e, f, g, h, i, j, k = z[a + " "];
                if (k) return b ? 0 : k.slice(0);
                for (h = a, i = [], j = d.preFilter; h;) {
                    for (g in c && !(e = S.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = T.exec(h)) && (c = e.shift(), f.push({
                            value: c,
                            type: e[0].replace(R, " ")
                        }), h = h.slice(c.length)), d.filter) !(e = X[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({
                        value: c,
                        type: g,
                        matches: e
                    }), h = h.slice(c.length));
                    if (!c) break
                }
                return b ? h.length : h ? gb.error(a) : z(a, i).slice(0)
            }, h = gb.compile = function(a, b) {
                var c, d = [],
                    e = [],
                    f = A[a + " "];
                if (!f) {
                    for (b || (b = g(a)), c = b.length; c--;)(f = xb(b[c]))[u] ? d.push(f) : e.push(f);
                    (f = A(a, yb(e, d))).selector = a
                }
                return f
            }, i = gb.select = function(a, b, e, f) {
                var i, j, k, l, m, n = "function" == typeof a && a,
                    o = !f && g(a = n.selector || a);
                if (e = e || [], 1 === o.length) {
                    if (2 < (j = o[0] = o[0].slice(0)).length && "ID" === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) {
                        if (!(b = (d.find.ID(k.matches[0].replace(cb, db), b) || [])[0])) return e;
                        n && (b = b.parentNode), a = a.slice(j.shift().value.length)
                    }
                    for (i = X.needsContext.test(a) ? 0 : j.length; i-- && (k = j[i], !d.relative[l = k.type]);)
                        if ((m = d.find[l]) && (f = m(k.matches[0].replace(cb, db), ab.test(j[0].type) && pb(b.parentNode) || b))) {
                            if (j.splice(i, 1), !(a = f.length && rb(j))) return H.apply(e, f), e;
                            break
                        }
                }
                return (n || h(a, o))(f, b, !p, e, ab.test(a) && pb(b.parentNode) || b), e
            }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c.sortDetached = jb(function(a) {
                return 1 & a.compareDocumentPosition(n.createElement("div"))
            }), jb(function(a) {
                return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
            }) || kb("type|href|height|width", function(a, b, c) {
                return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
            }), c.attributes && jb(function(a) {
                return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value")
            }) || kb("value", function(a, b, c) {
                return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
            }), jb(function(a) {
                return null == a.getAttribute("disabled")
            }) || kb(K, function(a, b, c) {
                var d;
                return c ? void 0 : !0 === a[b] ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
            }), gb
        }(a);
        n.find = t, n.expr = t.selectors, n.expr[":"] = n.expr.pseudos, n.unique = t.uniqueSort, n.text = t.getText, n.isXMLDoc = t.isXML, n.contains = t.contains;
        var u = n.expr.match.needsContext,
            v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
            w = /^.[^:#\[\.,]*$/;

        function x(a, b, c) {
            if (n.isFunction(b)) return n.grep(a, function(a, d) {
                return !!b.call(a, d, a) !== c
            });
            if (b.nodeType) return n.grep(a, function(a) {
                return a === b !== c
            });
            if ("string" == typeof b) {
                if (w.test(b)) return n.filter(b, a, c);
                b = n.filter(b, a)
            }
            return n.grep(a, function(a) {
                return 0 <= g.call(b, a) !== c
            })
        }
        n.filter = function(a, b, c) {
            var d = b[0];
            return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function(a) {
                return 1 === a.nodeType
            }))
        }, n.fn.extend({
            find: function(a) {
                var b, c = this.length,
                    d = [],
                    e = this;
                if ("string" != typeof a) return this.pushStack(n(a).filter(function() {
                    for (b = 0; b < c; b++)
                        if (n.contains(e[b], this)) return !0
                }));
                for (b = 0; b < c; b++) n.find(a, e[b], d);
                return (d = this.pushStack(1 < c ? n.unique(d) : d)).selector = this.selector ? this.selector + " " + a : a, d
            },
            filter: function(a) {
                return this.pushStack(x(this, a || [], !1))
            },
            not: function(a) {
                return this.pushStack(x(this, a || [], !0))
            },
            is: function(a) {
                return !!x(this, "string" == typeof a && u.test(a) ? n(a) : a || [], !1).length
            }
        });
        var y, z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
        (n.fn.init = function(a, b) {
            var c, d;
            if (!a) return this;
            if ("string" != typeof a) return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : n.isFunction(a) ? void 0 !== y.ready ? y.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), n.makeArray(a, this));
            if (!(c = "<" === a[0] && ">" === a[a.length - 1] && 3 <= a.length ? [null, a, null] : z.exec(a)) || !c[1] && b) return !b || b.jquery ? (b || y).find(a) : this.constructor(b).find(a);
            if (c[1]) {
                if (b = b instanceof n ? b[0] : b, n.merge(this, n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : l, !0)), v.test(c[1]) && n.isPlainObject(b))
                    for (c in b) n.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                return this
            }
            return (d = l.getElementById(c[2])) && d.parentNode && (this.length = 1, this[0] = d), this.context = l, this.selector = a, this
        }).prototype = n.fn, y = n(l);
        var B = /^(?:parents|prev(?:Until|All))/,
            C = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };

        function D(a, b) {
            for (;
                (a = a[b]) && 1 !== a.nodeType;);
            return a
        }
        n.extend({
            dir: function(a, b, c) {
                for (var d = [], e = void 0 !== c;
                    (a = a[b]) && 9 !== a.nodeType;)
                    if (1 === a.nodeType) {
                        if (e && n(a).is(c)) break;
                        d.push(a)
                    } return d
            },
            sibling: function(a, b) {
                for (var c = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
                return c
            }
        }), n.fn.extend({
            has: function(a) {
                var b = n(a, this),
                    c = b.length;
                return this.filter(function() {
                    for (var a = 0; a < c; a++)
                        if (n.contains(this, b[a])) return !0
                })
            },
            closest: function(a, b) {
                for (var c, d = 0, e = this.length, f = [], g = u.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; d < e; d++)
                    for (c = this[d]; c && c !== b; c = c.parentNode)
                        if (c.nodeType < 11 && (g ? -1 < g.index(c) : 1 === c.nodeType && n.find.matchesSelector(c, a))) {
                            f.push(c);
                            break
                        } return this.pushStack(1 < f.length ? n.unique(f) : f)
            },
            index: function(a) {
                return a ? "string" == typeof a ? g.call(n(a), this[0]) : g.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(a, b) {
                return this.pushStack(n.unique(n.merge(this.get(), n(a, b))))
            },
            addBack: function(a) {
                return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
            }
        }), n.each({
            parent: function(a) {
                var b = a.parentNode;
                return b && 11 !== b.nodeType ? b : null
            },
            parents: function(a) {
                return n.dir(a, "parentNode")
            },
            parentsUntil: function(a, b, c) {
                return n.dir(a, "parentNode", c)
            },
            next: function(a) {
                return D(a, "nextSibling")
            },
            prev: function(a) {
                return D(a, "previousSibling")
            },
            nextAll: function(a) {
                return n.dir(a, "nextSibling")
            },
            prevAll: function(a) {
                return n.dir(a, "previousSibling")
            },
            nextUntil: function(a, b, c) {
                return n.dir(a, "nextSibling", c)
            },
            prevUntil: function(a, b, c) {
                return n.dir(a, "previousSibling", c)
            },
            siblings: function(a) {
                return n.sibling((a.parentNode || {}).firstChild, a)
            },
            children: function(a) {
                return n.sibling(a.firstChild)
            },
            contents: function(a) {
                return a.contentDocument || n.merge([], a.childNodes)
            }
        }, function(a, b) {
            n.fn[a] = function(c, d) {
                var e = n.map(this, b, c);
                return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = n.filter(d, e)), 1 < this.length && (C[a] || n.unique(e), B.test(a) && e.reverse()), this.pushStack(e)
            }
        });
        var H, E = /\S+/g,
            F = {};

        function I() {
            l.removeEventListener("DOMContentLoaded", I, !1), a.removeEventListener("load", I, !1), n.ready()
        }
        n.Callbacks = function(a) {
            a = "string" == typeof a ? F[a] || function(a) {
                var b = F[a] = {};
                return n.each(a.match(E) || [], function(a, c) {
                    b[c] = !0
                }), b
            }(a) : n.extend({}, a);
            var b, c, d, e, f, g, h = [],
                i = !a.once && [],
                j = function(l) {
                    for (b = a.memory && l, c = !0, g = e || 0, e = 0, f = h.length, d = !0; h && g < f; g++)
                        if (!1 === h[g].apply(l[0], l[1]) && a.stopOnFalse) {
                            b = !1;
                            break
                        } d = !1, h && (i ? i.length && j(i.shift()) : b ? h = [] : k.disable())
                },
                k = {
                    add: function() {
                        if (h) {
                            var c = h.length;
                            ! function g(b) {
                                n.each(b, function(b, c) {
                                    var d = n.type(c);
                                    "function" === d ? a.unique && k.has(c) || h.push(c) : c && c.length && "string" !== d && g(c)
                                })
                            }(arguments), d ? f = h.length : b && (e = c, j(b))
                        }
                        return this
                    },
                    remove: function() {
                        return h && n.each(arguments, function(a, b) {
                            for (var c; - 1 < (c = n.inArray(b, h, c));) h.splice(c, 1), d && (c <= f && f--, c <= g && g--)
                        }), this
                    },
                    has: function(a) {
                        return a ? -1 < n.inArray(a, h) : !(!h || !h.length)
                    },
                    empty: function() {
                        return h = [], f = 0, this
                    },
                    disable: function() {
                        return h = i = b = void 0, this
                    },
                    disabled: function() {
                        return !h
                    },
                    lock: function() {
                        return i = void 0, b || k.disable(), this
                    },
                    locked: function() {
                        return !i
                    },
                    fireWith: function(a, b) {
                        return !h || c && !i || (b = [a, (b = b || []).slice ? b.slice() : b], d ? i.push(b) : j(b)), this
                    },
                    fire: function() {
                        return k.fireWith(this, arguments), this
                    },
                    fired: function() {
                        return !!c
                    }
                };
            return k
        }, n.extend({
            Deferred: function(a) {
                var b = [
                        ["resolve", "done", n.Callbacks("once memory"), "resolved"],
                        ["reject", "fail", n.Callbacks("once memory"), "rejected"],
                        ["notify", "progress", n.Callbacks("memory")]
                    ],
                    c = "pending",
                    d = {
                        state: function() {
                            return c
                        },
                        always: function() {
                            return e.done(arguments).fail(arguments), this
                        },
                        then: function() {
                            var a = arguments;
                            return n.Deferred(function(c) {
                                n.each(b, function(b, f) {
                                    var g = n.isFunction(a[b]) && a[b];
                                    e[f[1]](function() {
                                        var a = g && g.apply(this, arguments);
                                        a && n.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                                    })
                                }), a = null
                            }).promise()
                        },
                        promise: function(a) {
                            return null != a ? n.extend(a, d) : d
                        }
                    },
                    e = {};
                return d.pipe = d.then, n.each(b, function(a, f) {
                    var g = f[2],
                        h = f[3];
                    d[f[1]] = g.add, h && g.add(function() {
                        c = h
                    }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function() {
                        return e[f[0] + "With"](this === e ? d : this, arguments), this
                    }, e[f[0] + "With"] = g.fireWith
                }), d.promise(e), a && a.call(e, e), e
            },
            when: function(a) {
                function h(a, b, c) {
                    return function(e) {
                        b[a] = this, c[a] = 1 < arguments.length ? d.call(arguments) : e, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c)
                    }
                }
                var i, j, k, b = 0,
                    c = d.call(arguments),
                    e = c.length,
                    f = 1 !== e || a && n.isFunction(a.promise) ? e : 0,
                    g = 1 === f ? a : n.Deferred();
                if (1 < e)
                    for (i = new Array(e), j = new Array(e), k = new Array(e); b < e; b++) c[b] && n.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f;
                return f || g.resolveWith(k, c), g.promise()
            }
        }), n.fn.ready = function(a) {
            return n.ready.promise().done(a), this
        }, n.extend({
            isReady: !1,
            readyWait: 1,
            holdReady: function(a) {
                a ? n.readyWait++ : n.ready(!0)
            },
            ready: function(a) {
                (!0 === a ? --n.readyWait : n.isReady) || ((n.isReady = !0) !== a && 0 < --n.readyWait || (H.resolveWith(l, [n]), n.fn.triggerHandler && (n(l).triggerHandler("ready"), n(l).off("ready"))))
            }
        }), n.ready.promise = function(b) {
            return H || (H = n.Deferred(), "complete" === l.readyState ? setTimeout(n.ready) : (l.addEventListener("DOMContentLoaded", I, !1), a.addEventListener("load", I, !1))), H.promise(b)
        }, n.ready.promise();
        var J = n.access = function(a, b, c, d, e, f, g) {
            var h = 0,
                i = a.length,
                j = null == c;
            if ("object" === n.type(c))
                for (h in e = !0, c) n.access(a, b, h, c[h], !0, f, g);
            else if (void 0 !== d && (e = !0, n.isFunction(d) || (g = !0), j && (b = g ? (b.call(a, d), null) : (j = b, function(a, b, c) {
                    return j.call(n(a), c)
                })), b))
                for (; h < i; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
            return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
        };

        function K() {
            Object.defineProperty(this.cache = {}, 0, {
                get: function() {
                    return {}
                }
            }), this.expando = n.expando + K.uid++
        }
        n.acceptData = function(a) {
            return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
        }, K.uid = 1, K.accepts = n.acceptData, K.prototype = {
            key: function(a) {
                if (!K.accepts(a)) return 0;
                var b = {},
                    c = a[this.expando];
                if (!c) {
                    c = K.uid++;
                    try {
                        b[this.expando] = {
                            value: c
                        }, Object.defineProperties(a, b)
                    } catch (d) {
                        b[this.expando] = c, n.extend(a, b)
                    }
                }
                return this.cache[c] || (this.cache[c] = {}), c
            },
            set: function(a, b, c) {
                var d, e = this.key(a),
                    f = this.cache[e];
                if ("string" == typeof b) f[b] = c;
                else if (n.isEmptyObject(f)) n.extend(this.cache[e], b);
                else
                    for (d in b) f[d] = b[d];
                return f
            },
            get: function(a, b) {
                var c = this.cache[this.key(a)];
                return void 0 === b ? c : c[b]
            },
            access: function(a, b, c) {
                var d;
                return void 0 === b || b && "string" == typeof b && void 0 === c ? void 0 !== (d = this.get(a, b)) ? d : this.get(a, n.camelCase(b)) : (this.set(a, b, c), void 0 !== c ? c : b)
            },
            remove: function(a, b) {
                var c, d, e, f = this.key(a),
                    g = this.cache[f];
                if (void 0 === b) this.cache[f] = {};
                else {
                    c = (d = n.isArray(b) ? b.concat(b.map(n.camelCase)) : (e = n.camelCase(b), b in g ? [b, e] : (d = e) in g ? [d] : d.match(E) || [])).length;
                    for (; c--;) delete g[d[c]]
                }
            },
            hasData: function(a) {
                return !n.isEmptyObject(this.cache[a[this.expando]] || {})
            },
            discard: function(a) {
                a[this.expando] && delete this.cache[a[this.expando]]
            }
        };
        var L = new K,
            M = new K,
            N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            O = /([A-Z])/g;

        function P(a, b, c) {
            var d;
            if (void 0 === c && 1 === a.nodeType)
                if (d = "data-" + b.replace(O, "-$1").toLowerCase(), "string" == typeof(c = a.getAttribute(d))) {
                    try {
                        c = "true" === c || "false" !== c && ("null" === c ? null : +c + "" === c ? +c : N.test(c) ? n.parseJSON(c) : c)
                    } catch (e) {}
                    M.set(a, b, c)
                } else c = void 0;
            return c
        }
        n.extend({
            hasData: function(a) {
                return M.hasData(a) || L.hasData(a)
            },
            data: function(a, b, c) {
                return M.access(a, b, c)
            },
            removeData: function(a, b) {
                M.remove(a, b)
            },
            _data: function(a, b, c) {
                return L.access(a, b, c)
            },
            _removeData: function(a, b) {
                L.remove(a, b)
            }
        }), n.fn.extend({
            data: function(a, b) {
                var c, d, e, f = this[0],
                    g = f && f.attributes;
                if (void 0 !== a) return "object" == typeof a ? this.each(function() {
                    M.set(this, a)
                }) : J(this, function(b) {
                    var c, d = n.camelCase(a);
                    if (f && void 0 === b) {
                        if (void 0 !== (c = M.get(f, a))) return c;
                        if (void 0 !== (c = M.get(f, d))) return c;
                        if (void 0 !== (c = P(f, d, void 0))) return c
                    } else this.each(function() {
                        var c = M.get(this, d);
                        M.set(this, d, b), -1 !== a.indexOf("-") && void 0 !== c && M.set(this, a, b)
                    })
                }, null, b, 1 < arguments.length, null, !0);
                if (this.length && (e = M.get(f), 1 === f.nodeType && !L.get(f, "hasDataAttrs"))) {
                    for (c = g.length; c--;) g[c] && (0 === (d = g[c].name).indexOf("data-") && (d = n.camelCase(d.slice(5)), P(f, d, e[d])));
                    L.set(f, "hasDataAttrs", !0)
                }
                return e
            },
            removeData: function(a) {
                return this.each(function() {
                    M.remove(this, a)
                })
            }
        }), n.extend({
            queue: function(a, b, c) {
                var d;
                return a ? (b = (b || "fx") + "queue", d = L.get(a, b), c && (!d || n.isArray(c) ? d = L.access(a, b, n.makeArray(c)) : d.push(c)), d || []) : void 0
            },
            dequeue: function(a, b) {
                b = b || "fx";
                var c = n.queue(a, b),
                    d = c.length,
                    e = c.shift(),
                    f = n._queueHooks(a, b);
                "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, function() {
                    n.dequeue(a, b)
                }, f)), !d && f && f.empty.fire()
            },
            _queueHooks: function(a, b) {
                var c = b + "queueHooks";
                return L.get(a, c) || L.access(a, c, {
                    empty: n.Callbacks("once memory").add(function() {
                        L.remove(a, [b + "queue", c])
                    })
                })
            }
        }), n.fn.extend({
            queue: function(a, b) {
                var c = 2;
                return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                    var c = n.queue(this, a, b);
                    n._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a)
                })
            },
            dequeue: function(a) {
                return this.each(function() {
                    n.dequeue(this, a)
                })
            },
            clearQueue: function(a) {
                return this.queue(a || "fx", [])
            },
            promise: function(a, b) {
                function h() {
                    --d || e.resolveWith(f, [f])
                }
                var c, d = 1,
                    e = n.Deferred(),
                    f = this,
                    g = this.length;
                for ("string" != typeof a && (b = a, a = void 0), a = a || "fx"; g--;)(c = L.get(f[g], a + "queueHooks")) && c.empty && (d++, c.empty.add(h));
                return h(), e.promise(b)
            }
        });

        function S(a, b) {
            return a = b || a, "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a)
        }
        var Q = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            R = ["Top", "Right", "Bottom", "Left"],
            T = /^(?:checkbox|radio)$/i;
        ! function() {
            var b = l.createDocumentFragment().appendChild(l.createElement("div")),
                c = l.createElement("input");
            c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), b.appendChild(c), k.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", k.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
        }();
        var U = "undefined";
        k.focusinBubbles = "onfocusin" in a;
        var V = /^key/,
            W = /^(?:mouse|pointer|contextmenu)|click/,
            X = /^(?:focusinfocus|focusoutblur)$/,
            Y = /^([^.]*)(?:\.(.+)|)$/;

        function Z() {
            return !0
        }

        function $() {
            return !1
        }

        function _() {
            try {
                return l.activeElement
            } catch (a) {}
        }
        n.event = {
            global: {},
            add: function(a, b, c, d, e) {
                var f, g, h, i, j, k, l, m, o, p, q, r = L.get(a);
                if (r)
                    for (c.handler && (c = (f = c).handler, e = f.selector), c.guid || (c.guid = n.guid++), (i = r.events) || (i = r.events = {}), (g = r.handle) || (g = r.handle = function(b) {
                            return typeof n != U && n.event.triggered !== b.type ? n.event.dispatch.apply(a, arguments) : void 0
                        }), j = (b = (b || "").match(E) || [""]).length; j--;) o = q = (h = Y.exec(b[j]) || [])[1], p = (h[2] || "").split(".").sort(), o && (l = n.event.special[o] || {}, o = (e ? l.delegateType : l.bindType) || o, l = n.event.special[o] || {}, k = n.extend({
                        type: o,
                        origType: q,
                        data: d,
                        handler: c,
                        guid: c.guid,
                        selector: e,
                        needsContext: e && n.expr.match.needsContext.test(e),
                        namespace: p.join(".")
                    }, f), (m = i[o]) || ((m = i[o] = []).delegateCount = 0, l.setup && !1 !== l.setup.call(a, d, p, g) || a.addEventListener && a.addEventListener(o, g, !1)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), n.event.global[o] = !0)
            },
            remove: function(a, b, c, d, e) {
                var f, g, h, i, j, k, l, m, o, p, q, r = L.hasData(a) && L.get(a);
                if (r && (i = r.events)) {
                    for (j = (b = (b || "").match(E) || [""]).length; j--;)
                        if (o = q = (h = Y.exec(b[j]) || [])[1], p = (h[2] || "").split(".").sort(), o) {
                            for (l = n.event.special[o] || {}, m = i[o = (d ? l.delegateType : l.bindType) || o] || [], h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; f--;) k = m[f], !e && q !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                            g && !m.length && (l.teardown && !1 !== l.teardown.call(a, p, r.handle) || n.removeEvent(a, o, r.handle), delete i[o])
                        } else
                            for (o in i) n.event.remove(a, o + b[j], c, d, !0);
                    n.isEmptyObject(i) && (delete r.handle, L.remove(a, "events"))
                }
            },
            trigger: function(b, c, d, e) {
                var f, g, h, i, k, m, o, p = [d || l],
                    q = j.call(b, "type") ? b.type : b,
                    r = j.call(b, "namespace") ? b.namespace.split(".") : [];
                if (g = h = d = d || l, 3 !== d.nodeType && 8 !== d.nodeType && !X.test(q + n.event.triggered) && (0 <= q.indexOf(".") && (q = (r = q.split(".")).shift(), r.sort()), k = q.indexOf(":") < 0 && "on" + q, (b = b[n.expando] ? b : new n.Event(q, "object" == typeof b && b)).isTrigger = e ? 2 : 3, b.namespace = r.join("."), b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : n.makeArray(c, [b]), o = n.event.special[q] || {}, e || !o.trigger || !1 !== o.trigger.apply(d, c))) {
                    if (!e && !o.noBubble && !n.isWindow(d)) {
                        for (i = o.delegateType || q, X.test(i + q) || (g = g.parentNode); g; g = g.parentNode) p.push(g), h = g;
                        h === (d.ownerDocument || l) && p.push(h.defaultView || h.parentWindow || a)
                    }
                    for (f = 0;
                        (g = p[f++]) && !b.isPropagationStopped();) b.type = 1 < f ? i : o.bindType || q, (m = (L.get(g, "events") || {})[b.type] && L.get(g, "handle")) && m.apply(g, c), (m = k && g[k]) && m.apply && n.acceptData(g) && (b.result = m.apply(g, c), !1 === b.result && b.preventDefault());
                    return b.type = q, e || b.isDefaultPrevented() || o._default && !1 !== o._default.apply(p.pop(), c) || !n.acceptData(d) || k && n.isFunction(d[q]) && !n.isWindow(d) && ((h = d[k]) && (d[k] = null), d[n.event.triggered = q](), n.event.triggered = void 0, h && (d[k] = h)), b.result
                }
            },
            dispatch: function(a) {
                a = n.event.fix(a);
                var b, c, e, f, g, h = [],
                    i = d.call(arguments),
                    j = (L.get(this, "events") || {})[a.type] || [],
                    k = n.event.special[a.type] || {};
                if ((i[0] = a).delegateTarget = this, !k.preDispatch || !1 !== k.preDispatch.call(this, a)) {
                    for (h = n.event.handlers.call(this, a, j), b = 0;
                        (f = h[b++]) && !a.isPropagationStopped();)
                        for (a.currentTarget = f.elem, c = 0;
                            (g = f.handlers[c++]) && !a.isImmediatePropagationStopped();) a.namespace_re && !a.namespace_re.test(g.namespace) || (a.handleObj = g, a.data = g.data, void 0 !== (e = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i)) && !1 === (a.result = e) && (a.preventDefault(), a.stopPropagation()));
                    return k.postDispatch && k.postDispatch.call(this, a), a.result
                }
            },
            handlers: function(a, b) {
                var c, d, e, f, g = [],
                    h = b.delegateCount,
                    i = a.target;
                if (h && i.nodeType && (!a.button || "click" !== a.type))
                    for (; i !== this; i = i.parentNode || this)
                        if (!0 !== i.disabled || "click" !== a.type) {
                            for (d = [], c = 0; c < h; c++) void 0 === d[e = (f = b[c]).selector + " "] && (d[e] = f.needsContext ? 0 <= n(e, this).index(i) : n.find(e, this, null, [i]).length), d[e] && d.push(f);
                            d.length && g.push({
                                elem: i,
                                handlers: d
                            })
                        } return h < b.length && g.push({
                    elem: this,
                    handlers: b.slice(h)
                }), g
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function(a, b) {
                    return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function(a, b) {
                    var c, d, e, f = b.button;
                    return null == a.pageX && null != b.clientX && (d = (c = a.target.ownerDocument || l).documentElement, e = c.body, a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0), a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)), a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a
                }
            },
            fix: function(a) {
                if (a[n.expando]) return a;
                var b, c, d, e = a.type,
                    f = a,
                    g = this.fixHooks[e];
                for (g || (this.fixHooks[e] = g = W.test(e) ? this.mouseHooks : V.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new n.Event(f), b = d.length; b--;) a[c = d[b]] = f[c];
                return a.target || (a.target = l), 3 === a.target.nodeType && (a.target = a.target.parentNode), g.filter ? g.filter(a, f) : a
            },
            special: {
                load: {
                    noBubble: !0
                },
                focus: {
                    trigger: function() {
                        return this !== _() && this.focus ? (this.focus(), !1) : void 0
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        return this === _() && this.blur ? (this.blur(), !1) : void 0
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        return "checkbox" === this.type && this.click && n.nodeName(this, "input") ? (this.click(), !1) : void 0
                    },
                    _default: function(a) {
                        return n.nodeName(a.target, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(a) {
                        void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                    }
                }
            },
            simulate: function(a, b, c, d) {
                var e = n.extend(new n.Event, c, {
                    type: a,
                    isSimulated: !0,
                    originalEvent: {}
                });
                d ? n.event.trigger(e, null, b) : n.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault()
            }
        }, n.removeEvent = function(a, b, c) {
            a.removeEventListener && a.removeEventListener(b, c, !1)
        }, n.Event = function(a, b) {
            return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && !1 === a.returnValue ? Z : $) : this.type = a, b && n.extend(this, b), this.timeStamp = a && a.timeStamp || n.now(), void(this[n.expando] = !0)) : new n.Event(a, b)
        }, n.Event.prototype = {
            isDefaultPrevented: $,
            isPropagationStopped: $,
            isImmediatePropagationStopped: $,
            preventDefault: function() {
                var a = this.originalEvent;
                this.isDefaultPrevented = Z, a && a.preventDefault && a.preventDefault()
            },
            stopPropagation: function() {
                var a = this.originalEvent;
                this.isPropagationStopped = Z, a && a.stopPropagation && a.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var a = this.originalEvent;
                this.isImmediatePropagationStopped = Z, a && a.stopImmediatePropagation && a.stopImmediatePropagation(), this.stopPropagation()
            }
        }, n.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(a, b) {
            n.event.special[a] = {
                delegateType: b,
                bindType: b,
                handle: function(a) {
                    var c, e = a.relatedTarget,
                        f = a.handleObj;
                    return e && (e === this || n.contains(this, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c
                }
            }
        }), k.focusinBubbles || n.each({
            focus: "focusin",
            blur: "focusout"
        }, function(a, b) {
            function c(a) {
                n.event.simulate(b, a.target, n.event.fix(a), !0)
            }
            n.event.special[b] = {
                setup: function() {
                    var d = this.ownerDocument || this,
                        e = L.access(d, b);
                    e || d.addEventListener(a, c, !0), L.access(d, b, (e || 0) + 1)
                },
                teardown: function() {
                    var d = this.ownerDocument || this,
                        e = L.access(d, b) - 1;
                    e ? L.access(d, b, e) : (d.removeEventListener(a, c, !0), L.remove(d, b))
                }
            }
        }), n.fn.extend({
            on: function(a, b, c, d, e) {
                var f, g;
                if ("object" == typeof a) {
                    for (g in "string" != typeof b && (c = c || b, b = void 0), a) this.on(g, b, c, a[g], e);
                    return this
                }
                if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), !1 === d) d = $;
                else if (!d) return this;
                return 1 === e && (f = d, (d = function(a) {
                    return n().off(a), f.apply(this, arguments)
                }).guid = f.guid || (f.guid = n.guid++)), this.each(function() {
                    n.event.add(this, a, d, c, b)
                })
            },
            one: function(a, b, c, d) {
                return this.on(a, b, c, d, 1)
            },
            off: function(a, b, c) {
                var d, e;
                if (a && a.preventDefault && a.handleObj) return d = a.handleObj, n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;
                if ("object" != typeof a) return !1 !== b && "function" != typeof b || (c = b, b = void 0), !1 === c && (c = $), this.each(function() {
                    n.event.remove(this, a, c, b)
                });
                for (e in a) this.off(e, b, a[e]);
                return this
            },
            trigger: function(a, b) {
                return this.each(function() {
                    n.event.trigger(a, b, this)
                })
            },
            triggerHandler: function(a, b) {
                var c = this[0];
                return c ? n.event.trigger(a, b, c, !0) : void 0
            }
        });
        var ab = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
            bb = /<([\w:]+)/,
            cb = /<|&#?\w+;/,
            db = /<(?:script|style|link)/i,
            eb = /checked\s*(?:[^=]|=\s*.checked.)/i,
            fb = /^$|\/(?:java|ecma)script/i,
            gb = /^true\/(.*)/,
            hb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
            ib = {
                option: [1, "<select multiple='multiple'>", "</select>"],
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };

        function jb(a, b) {
            return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
        }

        function kb(a) {
            return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a
        }

        function lb(a) {
            var b = gb.exec(a.type);
            return b ? a.type = b[1] : a.removeAttribute("type"), a
        }

        function mb(a, b) {
            for (var c = 0, d = a.length; c < d; c++) L.set(a[c], "globalEval", !b || L.get(b[c], "globalEval"))
        }

        function nb(a, b) {
            var c, d, e, f, g, h, i, j;
            if (1 === b.nodeType) {
                if (L.hasData(a) && (f = L.access(a), g = L.set(b, f), j = f.events))
                    for (e in delete g.handle, g.events = {}, j)
                        for (c = 0, d = j[e].length; c < d; c++) n.event.add(b, e, j[e][c]);
                M.hasData(a) && (h = M.access(a), i = n.extend({}, h), M.set(b, i))
            }
        }

        function ob(a, b) {
            var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
            return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], c) : c
        }

        function pb(a, b) {
            var c = b.nodeName.toLowerCase();
            "input" === c && T.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue)
        }
        ib.optgroup = ib.option, ib.tbody = ib.tfoot = ib.colgroup = ib.caption = ib.thead, ib.th = ib.td, n.extend({
            clone: function(a, b, c) {
                var d, e, f, g, h = a.cloneNode(!0),
                    i = n.contains(a.ownerDocument, a);
                if (!(k.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a)))
                    for (g = ob(h), d = 0, e = (f = ob(a)).length; d < e; d++) pb(f[d], g[d]);
                if (b)
                    if (c)
                        for (f = f || ob(a), g = g || ob(h), d = 0, e = f.length; d < e; d++) nb(f[d], g[d]);
                    else nb(a, h);
                return 0 < (g = ob(h, "script")).length && mb(g, !i && ob(a, "script")), h
            },
            buildFragment: function(a, b, c, d) {
                for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, o = a.length; m < o; m++)
                    if ((e = a[m]) || 0 === e)
                        if ("object" === n.type(e)) n.merge(l, e.nodeType ? [e] : e);
                        else if (cb.test(e)) {
                    for (f = f || k.appendChild(b.createElement("div")), g = (bb.exec(e) || ["", ""])[1].toLowerCase(), h = ib[g] || ib._default, f.innerHTML = h[1] + e.replace(ab, "<$1></$2>") + h[2], j = h[0]; j--;) f = f.lastChild;
                    n.merge(l, f.childNodes), (f = k.firstChild).textContent = ""
                } else l.push(b.createTextNode(e));
                for (k.textContent = "", m = 0; e = l[m++];)
                    if ((!d || -1 === n.inArray(e, d)) && (i = n.contains(e.ownerDocument, e), f = ob(k.appendChild(e), "script"), i && mb(f), c))
                        for (j = 0; e = f[j++];) fb.test(e.type || "") && c.push(e);
                return k
            },
            cleanData: function(a) {
                for (var b, c, d, e, f = n.event.special, g = 0; void 0 !== (c = a[g]); g++) {
                    if (n.acceptData(c) && ((e = c[L.expando]) && (b = L.cache[e]))) {
                        if (b.events)
                            for (d in b.events) f[d] ? n.event.remove(c, d) : n.removeEvent(c, d, b.handle);
                        L.cache[e] && delete L.cache[e]
                    }
                    delete M.cache[c[M.expando]]
                }
            }
        }), n.fn.extend({
            text: function(a) {
                return J(this, function(a) {
                    return void 0 === a ? n.text(this) : this.empty().each(function() {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a)
                    })
                }, null, a, arguments.length)
            },
            append: function() {
                return this.domManip(arguments, function(a) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || jb(this, a).appendChild(a)
                })
            },
            prepend: function() {
                return this.domManip(arguments, function(a) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var b = jb(this, a);
                        b.insertBefore(a, b.firstChild)
                    }
                })
            },
            before: function() {
                return this.domManip(arguments, function(a) {
                    this.parentNode && this.parentNode.insertBefore(a, this)
                })
            },
            after: function() {
                return this.domManip(arguments, function(a) {
                    this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
                })
            },
            remove: function(a, b) {
                for (var c, d = a ? n.filter(a, this) : this, e = 0; null != (c = d[e]); e++) b || 1 !== c.nodeType || n.cleanData(ob(c)), c.parentNode && (b && n.contains(c.ownerDocument, c) && mb(ob(c, "script")), c.parentNode.removeChild(c));
                return this
            },
            empty: function() {
                for (var a, b = 0; null != (a = this[b]); b++) 1 === a.nodeType && (n.cleanData(ob(a, !1)), a.textContent = "");
                return this
            },
            clone: function(a, b) {
                return a = null != a && a, b = null == b ? a : b, this.map(function() {
                    return n.clone(this, a, b)
                })
            },
            html: function(a) {
                return J(this, function(a) {
                    var b = this[0] || {},
                        c = 0,
                        d = this.length;
                    if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
                    if ("string" == typeof a && !db.test(a) && !ib[(bb.exec(a) || ["", ""])[1].toLowerCase()]) {
                        a = a.replace(ab, "<$1></$2>");
                        try {
                            for (; c < d; c++) 1 === (b = this[c] || {}).nodeType && (n.cleanData(ob(b, !1)), b.innerHTML = a);
                            b = 0
                        } catch (e) {}
                    }
                    b && this.empty().append(a)
                }, null, a, arguments.length)
            },
            replaceWith: function() {
                var a = arguments[0];
                return this.domManip(arguments, function(b) {
                    a = this.parentNode, n.cleanData(ob(this)), a && a.replaceChild(b, this)
                }), a && (a.length || a.nodeType) ? this : this.remove()
            },
            detach: function(a) {
                return this.remove(a, !0)
            },
            domManip: function(a, b) {
                a = e.apply([], a);
                var c, d, f, g, h, i, j = 0,
                    l = this.length,
                    m = this,
                    o = l - 1,
                    p = a[0],
                    q = n.isFunction(p);
                if (q || 1 < l && "string" == typeof p && !k.checkClone && eb.test(p)) return this.each(function(c) {
                    var d = m.eq(c);
                    q && (a[0] = p.call(this, c, d.html())), d.domManip(a, b)
                });
                if (l && (d = (c = n.buildFragment(a, this[0].ownerDocument, !1, this)).firstChild, 1 === c.childNodes.length && (c = d), d)) {
                    for (g = (f = n.map(ob(c, "script"), kb)).length; j < l; j++) h = c, j !== o && (h = n.clone(h, !0, !0), g && n.merge(f, ob(h, "script"))), b.call(this[j], h, j);
                    if (g)
                        for (i = f[f.length - 1].ownerDocument, n.map(f, lb), j = 0; j < g; j++) h = f[j], fb.test(h.type || "") && !L.access(h, "globalEval") && n.contains(i, h) && (h.src ? n._evalUrl && n._evalUrl(h.src) : n.globalEval(h.textContent.replace(hb, "")))
                }
                return this
            }
        }), n.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(a, b) {
            n.fn[a] = function(a) {
                for (var c, d = [], e = n(a), g = e.length - 1, h = 0; h <= g; h++) c = h === g ? this : this.clone(!0), n(e[h])[b](c), f.apply(d, c.get());
                return this.pushStack(d)
            }
        });
        var qb, rb = {};

        function sb(b, c) {
            var d, e = n(c.createElement(b)).appendTo(c.body),
                f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : n.css(e[0], "display");
            return e.detach(), f
        }

        function tb(a) {
            var b = l,
                c = rb[a];
            return c || ("none" !== (c = sb(a, b)) && c || ((b = (qb = (qb || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement))[0].contentDocument).write(), b.close(), c = sb(a, b), qb.detach()), rb[a] = c), c
        }
        var ub = /^margin/,
            vb = new RegExp("^(" + Q + ")(?!px)[a-z%]+$", "i"),
            wb = function(b) {
                return b.ownerDocument.defaultView.opener ? b.ownerDocument.defaultView.getComputedStyle(b, null) : a.getComputedStyle(b, null)
            };

        function xb(a, b, c) {
            var d, e, f, g, h = a.style;
            return (c = c || wb(a)) && (g = c.getPropertyValue(b) || c[b]), c && ("" !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)), vb.test(g) && ub.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g
        }

        function yb(a, b) {
            return {
                get: function() {
                    return a() ? void delete this.get : (this.get = b).apply(this, arguments)
                }
            }
        }! function() {
            var b, c, d = l.documentElement,
                e = l.createElement("div"),
                f = l.createElement("div");
            if (f.style) {
                function g() {
                    f.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", f.innerHTML = "", d.appendChild(e);
                    var g = a.getComputedStyle(f, null);
                    b = "1%" !== g.top, c = "4px" === g.width, d.removeChild(e)
                }
                f.style.backgroundClip = "content-box", f.cloneNode(!0).style.backgroundClip = "", k.clearCloneStyle = "content-box" === f.style.backgroundClip, e.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", e.appendChild(f), a.getComputedStyle && n.extend(k, {
                    pixelPosition: function() {
                        return g(), b
                    },
                    boxSizingReliable: function() {
                        return null == c && g(), c
                    },
                    reliableMarginRight: function() {
                        var b, c = f.appendChild(l.createElement("div"));
                        return c.style.cssText = f.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", c.style.marginRight = c.style.width = "0", f.style.width = "1px", d.appendChild(e), b = !parseFloat(a.getComputedStyle(c, null).marginRight), d.removeChild(e), f.removeChild(c), b
                    }
                })
            }
        }(), n.swap = function(a, b, c, d) {
            var e, f, g = {};
            for (f in b) g[f] = a.style[f], a.style[f] = b[f];
            for (f in e = c.apply(a, d || []), b) a.style[f] = g[f];
            return e
        };
        var zb = /^(none|table(?!-c[ea]).+)/,
            Ab = new RegExp("^(" + Q + ")(.*)$", "i"),
            Bb = new RegExp("^([+-])=(" + Q + ")", "i"),
            Cb = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            Db = {
                letterSpacing: "0",
                fontWeight: "400"
            },
            Eb = ["Webkit", "O", "Moz", "ms"];

        function Fb(a, b) {
            if (b in a) return b;
            for (var c = b[0].toUpperCase() + b.slice(1), d = b, e = Eb.length; e--;)
                if ((b = Eb[e] + c) in a) return b;
            return d
        }

        function Gb(a, b, c) {
            var d = Ab.exec(b);
            return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
        }

        function Hb(a, b, c, d, e) {
            for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; f < 4; f += 2) "margin" === c && (g += n.css(a, c + R[f], !0, e)), d ? ("content" === c && (g -= n.css(a, "padding" + R[f], !0, e)), "margin" !== c && (g -= n.css(a, "border" + R[f] + "Width", !0, e))) : (g += n.css(a, "padding" + R[f], !0, e), "padding" !== c && (g += n.css(a, "border" + R[f] + "Width", !0, e)));
            return g
        }

        function Ib(a, b, c) {
            var d = !0,
                e = "width" === b ? a.offsetWidth : a.offsetHeight,
                f = wb(a),
                g = "border-box" === n.css(a, "boxSizing", !1, f);
            if (e <= 0 || null == e) {
                if (((e = xb(a, b, f)) < 0 || null == e) && (e = a.style[b]), vb.test(e)) return e;
                d = g && (k.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0
            }
            return e + Hb(a, b, c || (g ? "border" : "content"), d, f) + "px"
        }

        function Jb(a, b) {
            for (var c, d, e, f = [], g = 0, h = a.length; g < h; g++)(d = a[g]).style && (f[g] = L.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && S(d) && (f[g] = L.access(d, "olddisplay", tb(d.nodeName)))) : (e = S(d), "none" === c && e || L.set(d, "olddisplay", e ? c : n.css(d, "display"))));
            for (g = 0; g < h; g++)(d = a[g]).style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
            return a
        }

        function Kb(a, b, c, d, e) {
            return new Kb.prototype.init(a, b, c, d, e)
        }
        n.extend({
            cssHooks: {
                opacity: {
                    get: function(a, b) {
                        if (b) {
                            var c = xb(a, "opacity");
                            return "" === c ? "1" : c
                        }
                    }
                }
            },
            cssNumber: {
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {
                float: "cssFloat"
            },
            style: function(a, b, c, d) {
                if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                    var e, f, g, h = n.camelCase(b),
                        i = a.style;
                    return b = n.cssProps[h] || (n.cssProps[h] = Fb(i, h)), g = n.cssHooks[b] || n.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : ("string" === (f = typeof c) && (e = Bb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b)), f = "number"), void(null != c && c == c && ("number" !== f || n.cssNumber[h] || (c += "px"), k.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c))))
                }
            },
            css: function(a, b, c, d) {
                var e, f, g, h = n.camelCase(b);
                return b = n.cssProps[h] || (n.cssProps[h] = Fb(a.style, h)), (g = n.cssHooks[b] || n.cssHooks[h]) && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = xb(a, b, d)), "normal" === e && b in Db && (e = Db[b]), "" === c || c ? (f = parseFloat(e), !0 === c || n.isNumeric(f) ? f || 0 : e) : e
            }
        }), n.each(["height", "width"], function(a, b) {
            n.cssHooks[b] = {
                get: function(a, c, d) {
                    return c ? zb.test(n.css(a, "display")) && 0 === a.offsetWidth ? n.swap(a, Cb, function() {
                        return Ib(a, b, d)
                    }) : Ib(a, b, d) : void 0
                },
                set: function(a, c, d) {
                    var e = d && wb(a);
                    return Gb(0, c, d ? Hb(a, b, d, "border-box" === n.css(a, "boxSizing", !1, e), e) : 0)
                }
            }
        }), n.cssHooks.marginRight = yb(k.reliableMarginRight, function(a, b) {
            return b ? n.swap(a, {
                display: "inline-block"
            }, xb, [a, "marginRight"]) : void 0
        }), n.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(a, b) {
            n.cssHooks[a + b] = {
                expand: function(c) {
                    for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; d < 4; d++) e[a + R[d] + b] = f[d] || f[d - 2] || f[0];
                    return e
                }
            }, ub.test(a) || (n.cssHooks[a + b].set = Gb)
        }), n.fn.extend({
            css: function(a, b) {
                return J(this, function(a, b, c) {
                    var d, e, f = {},
                        g = 0;
                    if (n.isArray(b)) {
                        for (d = wb(a), e = b.length; g < e; g++) f[b[g]] = n.css(a, b[g], !1, d);
                        return f
                    }
                    return void 0 !== c ? n.style(a, b, c) : n.css(a, b)
                }, a, b, 1 < arguments.length)
            },
            show: function() {
                return Jb(this, !0)
            },
            hide: function() {
                return Jb(this)
            },
            toggle: function(a) {
                return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                    S(this) ? n(this).show() : n(this).hide()
                })
            }
        }), ((n.Tween = Kb).prototype = {
            constructor: Kb,
            init: function(a, b, c, d, e, f) {
                this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (n.cssNumber[c] ? "" : "px")
            },
            cur: function() {
                var a = Kb.propHooks[this.prop];
                return a && a.get ? a.get(this) : Kb.propHooks._default.get(this)
            },
            run: function(a) {
                var b, c = Kb.propHooks[this.prop];
                return this.pos = b = this.options.duration ? n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : Kb.propHooks._default.set(this), this
            }
        }).init.prototype = Kb.prototype, (Kb.propHooks = {
            _default: {
                get: function(a) {
                    var b;
                    return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = n.css(a.elem, a.prop, "")) && "auto" !== b ? b : 0 : a.elem[a.prop]
                },
                set: function(a) {
                    n.fx.step[a.prop] ? n.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop]) ? n.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
                }
            }
        }).scrollTop = Kb.propHooks.scrollLeft = {
            set: function(a) {
                a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
            }
        }, n.easing = {
            linear: function(a) {
                return a
            },
            swing: function(a) {
                return .5 - Math.cos(a * Math.PI) / 2
            }
        }, n.fx = Kb.prototype.init, n.fx.step = {};
        var Lb, Mb, Nb = /^(?:toggle|show|hide)$/,
            Ob = new RegExp("^(?:([+-])=|)(" + Q + ")([a-z%]*)$", "i"),
            Pb = /queueHooks$/,
            Qb = [function(a, b, c) {
                var d, e, f, g, h, i, j, l = this,
                    m = {},
                    o = a.style,
                    p = a.nodeType && S(a),
                    q = L.get(a, "fxshow");
                for (d in c.queue || (null == (h = n._queueHooks(a, "fx")).unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function() {
                        h.unqueued || i()
                    }), h.unqueued++, l.always(function() {
                        l.always(function() {
                            h.unqueued--, n.queue(a, "fx").length || h.empty.fire()
                        })
                    })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = n.css(a, "display"), "inline" === ("none" === j ? L.get(a, "olddisplay") || tb(a.nodeName) : j) && "none" === n.css(a, "float") && (o.display = "inline-block")), c.overflow && (o.overflow = "hidden", l.always(function() {
                        o.overflow = c.overflow[0], o.overflowX = c.overflow[1], o.overflowY = c.overflow[2]
                    })), b)
                    if (e = b[d], Nb.exec(e)) {
                        if (delete b[d], f = f || "toggle" === e, e === (p ? "hide" : "show")) {
                            if ("show" !== e || !q || void 0 === q[d]) continue;
                            p = !0
                        }
                        m[d] = q && q[d] || n.style(a, d)
                    } else j = void 0;
                if (n.isEmptyObject(m)) "inline" === ("none" === j ? tb(a.nodeName) : j) && (o.display = j);
                else
                    for (d in q ? "hidden" in q && (p = q.hidden) : q = L.access(a, "fxshow", {}), f && (q.hidden = !p), p ? n(a).show() : l.done(function() {
                            n(a).hide()
                        }), l.done(function() {
                            var b;
                            for (b in L.remove(a, "fxshow"), m) n.style(a, b, m[b])
                        }), m) g = Ub(p ? q[d] : 0, d, l), d in q || (q[d] = g.start, p && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0))
            }],
            Rb = {
                "*": [function(a, b) {
                    var c = this.createTween(a, b),
                        d = c.cur(),
                        e = Ob.exec(b),
                        f = e && e[3] || (n.cssNumber[a] ? "" : "px"),
                        g = (n.cssNumber[a] || "px" !== f && +d) && Ob.exec(n.css(c.elem, a)),
                        h = 1,
                        i = 20;
                    if (g && g[3] !== f)
                        for (f = f || g[3], e = e || [], g = +d || 1; g /= h = h || ".5", n.style(c.elem, a, g + f), h !== (h = c.cur() / d) && 1 !== h && --i;);
                    return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c
                }]
            };

        function Sb() {
            return setTimeout(function() {
                Lb = void 0
            }), Lb = n.now()
        }

        function Tb(a, b) {
            var c, d = 0,
                e = {
                    height: a
                };
            for (b = b ? 1 : 0; d < 4; d += 2 - b) e["margin" + (c = R[d])] = e["padding" + c] = a;
            return b && (e.opacity = e.width = a), e
        }

        function Ub(a, b, c) {
            for (var d, e = (Rb[b] || []).concat(Rb["*"]), f = 0, g = e.length; f < g; f++)
                if (d = e[f].call(c, b, a)) return d
        }

        function Xb(a, b, c) {
            var d, e, f = 0,
                g = Qb.length,
                h = n.Deferred().always(function() {
                    delete i.elem
                }),
                i = function() {
                    if (e) return !1;
                    for (var b = Lb || Sb(), c = Math.max(0, j.startTime + j.duration - b), f = 1 - (c / j.duration || 0), g = 0, i = j.tweens.length; g < i; g++) j.tweens[g].run(f);
                    return h.notifyWith(a, [j, f, c]), f < 1 && i ? c : (h.resolveWith(a, [j]), !1)
                },
                j = h.promise({
                    elem: a,
                    props: n.extend({}, b),
                    opts: n.extend(!0, {
                        specialEasing: {}
                    }, c),
                    originalProperties: b,
                    originalOptions: c,
                    startTime: Lb || Sb(),
                    duration: c.duration,
                    tweens: [],
                    createTween: function(b, c) {
                        var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                        return j.tweens.push(d), d
                    },
                    stop: function(b) {
                        var c = 0,
                            d = b ? j.tweens.length : 0;
                        if (e) return this;
                        for (e = !0; c < d; c++) j.tweens[c].run(1);
                        return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this
                    }
                }),
                k = j.props;
            for (function(a, b) {
                    var c, d, e, f, g;
                    for (c in a)
                        if (e = b[d = n.camelCase(c)], f = a[c], n.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), (g = n.cssHooks[d]) && "expand" in g)
                            for (c in f = g.expand(f), delete a[d], f) c in a || (a[c] = f[c], b[c] = e);
                        else b[d] = e
                }(k, j.opts.specialEasing); f < g; f++)
                if (d = Qb[f].call(j, a, k, j.opts)) return d;
            return n.map(k, Ub, j), n.isFunction(j.opts.start) && j.opts.start.call(a, j), n.fx.timer(n.extend(i, {
                elem: a,
                anim: j,
                queue: j.opts.queue
            })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
        }
        n.Animation = n.extend(Xb, {
                tweener: function(a, b) {
                    for (var c, d = 0, e = (a = n.isFunction(a) ? (b = a, ["*"]) : a.split(" ")).length; d < e; d++) c = a[d], Rb[c] = Rb[c] || [], Rb[c].unshift(b)
                },
                prefilter: function(a, b) {
                    b ? Qb.unshift(a) : Qb.push(a)
                }
            }), n.speed = function(a, b, c) {
                var d = a && "object" == typeof a ? n.extend({}, a) : {
                    complete: c || !c && b || n.isFunction(a) && a,
                    duration: a,
                    easing: c && b || b && !n.isFunction(b) && b
                };
                return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default, null != d.queue && !0 !== d.queue || (d.queue = "fx"), d.old = d.complete, d.complete = function() {
                    n.isFunction(d.old) && d.old.call(this), d.queue && n.dequeue(this, d.queue)
                }, d
            }, n.fn.extend({
                fadeTo: function(a, b, c, d) {
                    return this.filter(S).css("opacity", 0).show().end().animate({
                        opacity: b
                    }, a, c, d)
                },
                animate: function(a, b, c, d) {
                    function g() {
                        var b = Xb(this, n.extend({}, a), f);
                        (e || L.get(this, "finish")) && b.stop(!0)
                    }
                    var e = n.isEmptyObject(a),
                        f = n.speed(b, c, d);
                    return g.finish = g, e || !1 === f.queue ? this.each(g) : this.queue(f.queue, g)
                },
                stop: function(a, b, c) {
                    function d(a) {
                        var b = a.stop;
                        delete a.stop, b(c)
                    }
                    return "string" != typeof a && (c = b, b = a, a = void 0), b && !1 !== a && this.queue(a || "fx", []), this.each(function() {
                        var b = !0,
                            e = null != a && a + "queueHooks",
                            f = n.timers,
                            g = L.get(this);
                        if (e) g[e] && g[e].stop && d(g[e]);
                        else
                            for (e in g) g[e] && g[e].stop && Pb.test(e) && d(g[e]);
                        for (e = f.length; e--;) f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
                        !b && c || n.dequeue(this, a)
                    })
                },
                finish: function(a) {
                    return !1 !== a && (a = a || "fx"), this.each(function() {
                        var b, c = L.get(this),
                            d = c[a + "queue"],
                            e = c[a + "queueHooks"],
                            f = n.timers,
                            g = d ? d.length : 0;
                        for (c.finish = !0, n.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;) f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                        for (b = 0; b < g; b++) d[b] && d[b].finish && d[b].finish.call(this);
                        delete c.finish
                    })
                }
            }), n.each(["toggle", "show", "hide"], function(a, b) {
                var c = n.fn[b];
                n.fn[b] = function(a, d, e) {
                    return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(Tb(b, !0), a, d, e)
                }
            }), n.each({
                slideDown: Tb("show"),
                slideUp: Tb("hide"),
                slideToggle: Tb("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, function(a, b) {
                n.fn[a] = function(a, c, d) {
                    return this.animate(b, a, c, d)
                }
            }), n.timers = [], n.fx.tick = function() {
                var a, b = 0,
                    c = n.timers;
                for (Lb = n.now(); b < c.length; b++)(a = c[b])() || c[b] !== a || c.splice(b--, 1);
                c.length || n.fx.stop(), Lb = void 0
            }, n.fx.timer = function(a) {
                n.timers.push(a), a() ? n.fx.start() : n.timers.pop()
            }, n.fx.interval = 13, n.fx.start = function() {
                Mb || (Mb = setInterval(n.fx.tick, n.fx.interval))
            }, n.fx.stop = function() {
                clearInterval(Mb), Mb = null
            }, n.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            }, n.fn.delay = function(a, b) {
                return a = n.fx && n.fx.speeds[a] || a, b = b || "fx", this.queue(b, function(b, c) {
                    var d = setTimeout(b, a);
                    c.stop = function() {
                        clearTimeout(d)
                    }
                })
            },
            function() {
                var a = l.createElement("input"),
                    b = l.createElement("select"),
                    c = b.appendChild(l.createElement("option"));
                a.type = "checkbox", k.checkOn = "" !== a.value, k.optSelected = c.selected, b.disabled = !0, k.optDisabled = !c.disabled, (a = l.createElement("input")).value = "t", a.type = "radio", k.radioValue = "t" === a.value
            }();
        var Zb, $b = n.expr.attrHandle;
        n.fn.extend({
            attr: function(a, b) {
                return J(this, n.attr, a, b, 1 < arguments.length)
            },
            removeAttr: function(a) {
                return this.each(function() {
                    n.removeAttr(this, a)
                })
            }
        }), n.extend({
            attr: function(a, b, c) {
                var d, e, f = a.nodeType;
                if (a && 3 !== f && 8 !== f && 2 !== f) return typeof a.getAttribute == U ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(), d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? Zb : void 0)), void 0 === c ? d && "get" in d && null !== (e = d.get(a, b)) ? e : null == (e = n.find.attr(a, b)) ? void 0 : e : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), c) : void n.removeAttr(a, b))
            },
            removeAttr: function(a, b) {
                var c, d, e = 0,
                    f = b && b.match(E);
                if (f && 1 === a.nodeType)
                    for (; c = f[e++];) d = n.propFix[c] || c, n.expr.match.bool.test(c) && (a[d] = !1), a.removeAttribute(c)
            },
            attrHooks: {
                type: {
                    set: function(a, b) {
                        if (!k.radioValue && "radio" === b && n.nodeName(a, "input")) {
                            var c = a.value;
                            return a.setAttribute("type", b), c && (a.value = c), b
                        }
                    }
                }
            }
        }), Zb = {
            set: function(a, b, c) {
                return !1 === b ? n.removeAttr(a, c) : a.setAttribute(c, c), c
            }
        }, n.each(n.expr.match.bool.source.match(/\w+/g), function(a, b) {
            var c = $b[b] || n.find.attr;
            $b[b] = function(a, b, d) {
                var e, f;
                return d || (f = $b[b], $b[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, $b[b] = f), e
            }
        });
        var _b = /^(?:input|select|textarea|button)$/i;
        n.fn.extend({
            prop: function(a, b) {
                return J(this, n.prop, a, b, 1 < arguments.length)
            },
            removeProp: function(a) {
                return this.each(function() {
                    delete this[n.propFix[a] || a]
                })
            }
        }), n.extend({
            propFix: {
                for: "htmlFor",
                class: "className"
            },
            prop: function(a, b, c) {
                var d, e, g = a.nodeType;
                if (a && 3 !== g && 8 !== g && 2 !== g) return (1 !== g || !n.isXMLDoc(a)) && (b = n.propFix[b] || b, e = n.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]
            },
            propHooks: {
                tabIndex: {
                    get: function(a) {
                        return a.hasAttribute("tabindex") || _b.test(a.nodeName) || a.href ? a.tabIndex : -1
                    }
                }
            }
        }), k.optSelected || (n.propHooks.selected = {
            get: function(a) {
                var b = a.parentNode;
                return b && b.parentNode && b.parentNode.selectedIndex, null
            }
        }), n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
            n.propFix[this.toLowerCase()] = this
        });
        var ac = /[\t\r\n\f]/g;
        n.fn.extend({
            addClass: function(a) {
                var b, c, d, e, f, g, h = "string" == typeof a && a,
                    i = 0,
                    j = this.length;
                if (n.isFunction(a)) return this.each(function(b) {
                    n(this).addClass(a.call(this, b, this.className))
                });
                if (h)
                    for (b = (a || "").match(E) || []; i < j; i++)
                        if (d = 1 === (c = this[i]).nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : " ")) {
                            for (f = 0; e = b[f++];) d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                            g = n.trim(d), c.className !== g && (c.className = g)
                        } return this
            },
            removeClass: function(a) {
                var b, c, d, e, f, g, h = 0 === arguments.length || "string" == typeof a && a,
                    i = 0,
                    j = this.length;
                if (n.isFunction(a)) return this.each(function(b) {
                    n(this).removeClass(a.call(this, b, this.className))
                });
                if (h)
                    for (b = (a || "").match(E) || []; i < j; i++)
                        if (d = 1 === (c = this[i]).nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : "")) {
                            for (f = 0; e = b[f++];)
                                for (; 0 <= d.indexOf(" " + e + " ");) d = d.replace(" " + e + " ", " ");
                            g = a ? n.trim(d) : "", c.className !== g && (c.className = g)
                        } return this
            },
            toggleClass: function(a, b) {
                var c = typeof a;
                return "boolean" == typeof b && "string" == c ? b ? this.addClass(a) : this.removeClass(a) : this.each(n.isFunction(a) ? function(c) {
                    n(this).toggleClass(a.call(this, c, this.className, b), b)
                } : function() {
                    if ("string" == c)
                        for (var b, d = 0, e = n(this), f = a.match(E) || []; b = f[d++];) e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
                    else c != U && "boolean" != c || (this.className && L.set(this, "__className__", this.className), this.className = this.className || !1 === a ? "" : L.get(this, "__className__") || "")
                })
            },
            hasClass: function(a) {
                for (var b = " " + a + " ", c = 0, d = this.length; c < d; c++)
                    if (1 === this[c].nodeType && 0 <= (" " + this[c].className + " ").replace(ac, " ").indexOf(b)) return !0;
                return !1
            }
        });
        var bc = /\r/g;
        n.fn.extend({
            val: function(a) {
                var b, c, d, e = this[0];
                return arguments.length ? (d = n.isFunction(a), this.each(function(c) {
                    var e;
                    1 === this.nodeType && (null == (e = d ? a.call(this, c, n(this).val()) : a) ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function(a) {
                        return null == a ? "" : a + ""
                    })), (b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()]) && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                })) : e ? (b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()]) && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : "string" == typeof(c = e.value) ? c.replace(bc, "") : null == c ? "" : c : void 0
            }
        }), n.extend({
            valHooks: {
                option: {
                    get: function(a) {
                        var b = n.find.attr(a, "value");
                        return null != b ? b : n.trim(n.text(a))
                    }
                },
                select: {
                    get: function(a) {
                        for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || e < 0, g = f ? null : [], h = f ? e + 1 : d.length, i = e < 0 ? h : f ? e : 0; i < h; i++)
                            if (!(!(c = d[i]).selected && i !== e || (k.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && n.nodeName(c.parentNode, "optgroup"))) {
                                if (b = n(c).val(), f) return b;
                                g.push(b)
                            } return g
                    },
                    set: function(a, b) {
                        for (var c, d, e = a.options, f = n.makeArray(b), g = e.length; g--;)((d = e[g]).selected = 0 <= n.inArray(d.value, f)) && (c = !0);
                        return c || (a.selectedIndex = -1), f
                    }
                }
            }
        }), n.each(["radio", "checkbox"], function() {
            n.valHooks[this] = {
                set: function(a, b) {
                    return n.isArray(b) ? a.checked = 0 <= n.inArray(n(a).val(), b) : void 0
                }
            }, k.checkOn || (n.valHooks[this].get = function(a) {
                return null === a.getAttribute("value") ? "on" : a.value
            })
        }), n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
            n.fn[b] = function(a, c) {
                return 0 < arguments.length ? this.on(b, null, a, c) : this.trigger(b)
            }
        }), n.fn.extend({
            hover: function(a, b) {
                return this.mouseenter(a).mouseleave(b || a)
            },
            bind: function(a, b, c) {
                return this.on(a, null, b, c)
            },
            unbind: function(a, b) {
                return this.off(a, null, b)
            },
            delegate: function(a, b, c, d) {
                return this.on(b, a, c, d)
            },
            undelegate: function(a, b, c) {
                return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
            }
        });
        var cc = n.now(),
            dc = /\?/;
        n.parseJSON = function(a) {
            return JSON.parse(a + "")
        }, n.parseXML = function(a) {
            var b;
            if (!a || "string" != typeof a) return null;
            try {
                b = (new DOMParser).parseFromString(a, "text/xml")
            } catch (d) {
                b = void 0
            }
            return b && !b.getElementsByTagName("parsererror").length || n.error("Invalid XML: " + a), b
        };
        var ec = /#.*$/,
            fc = /([?&])_=[^&]*/,
            gc = /^(.*?):[ \t]*([^\r\n]*)$/gm,
            ic = /^(?:GET|HEAD)$/,
            jc = /^\/\//,
            kc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
            lc = {},
            mc = {},
            nc = "*/".concat("*"),
            oc = a.location.href,
            pc = kc.exec(oc.toLowerCase()) || [];

        function qc(a) {
            return function(b, c) {
                "string" != typeof b && (c = b, b = "*");
                var d, e = 0,
                    f = b.toLowerCase().match(E) || [];
                if (n.isFunction(c))
                    for (; d = f[e++];) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
            }
        }

        function rc(a, b, c, d) {
            var e = {},
                f = a === mc;

            function g(h) {
                var i;
                return e[h] = !0, n.each(a[h] || [], function(a, h) {
                    var j = h(b, c, d);
                    return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1)
                }), i
            }
            return g(b.dataTypes[0]) || !e["*"] && g("*")
        }

        function sc(a, b) {
            var c, d, e = n.ajaxSettings.flatOptions || {};
            for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
            return d && n.extend(!0, a, d), a
        }
        n.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: oc,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pc[1]),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": nc,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /xml/,
                    html: /html/,
                    json: /json/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": n.parseJSON,
                    "text xml": n.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(a, b) {
                return b ? sc(sc(a, n.ajaxSettings), b) : sc(n.ajaxSettings, a)
            },
            ajaxPrefilter: qc(lc),
            ajaxTransport: qc(mc),
            ajax: function(a, b) {
                "object" == typeof a && (b = a, a = void 0), b = b || {};
                var c, d, e, f, g, h, i, j, k = n.ajaxSetup({}, b),
                    l = k.context || k,
                    m = k.context && (l.nodeType || l.jquery) ? n(l) : n.event,
                    o = n.Deferred(),
                    p = n.Callbacks("once memory"),
                    q = k.statusCode || {},
                    r = {},
                    s = {},
                    t = 0,
                    u = "canceled",
                    v = {
                        readyState: 0,
                        getResponseHeader: function(a) {
                            var b;
                            if (2 === t) {
                                if (!f)
                                    for (f = {}; b = gc.exec(e);) f[b[1].toLowerCase()] = b[2];
                                b = f[a.toLowerCase()]
                            }
                            return null == b ? null : b
                        },
                        getAllResponseHeaders: function() {
                            return 2 === t ? e : null
                        },
                        setRequestHeader: function(a, b) {
                            var c = a.toLowerCase();
                            return t || (a = s[c] = s[c] || a, r[a] = b), this
                        },
                        overrideMimeType: function(a) {
                            return t || (k.mimeType = a), this
                        },
                        statusCode: function(a) {
                            var b;
                            if (a)
                                if (t < 2)
                                    for (b in a) q[b] = [q[b], a[b]];
                                else v.always(a[v.status]);
                            return this
                        },
                        abort: function(a) {
                            var b = a || u;
                            return c && c.abort(b), x(0, b), this
                        }
                    };
                if (o.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, k.url = ((a || k.url || oc) + "").replace(ec, "").replace(jc, pc[1] + "//"), k.type = b.method || b.type || k.method || k.type, k.dataTypes = n.trim(k.dataType || "*").toLowerCase().match(E) || [""], null == k.crossDomain && (h = kc.exec(k.url.toLowerCase()), k.crossDomain = !(!h || h[1] === pc[1] && h[2] === pc[2] && (h[3] || ("http:" === h[1] ? "80" : "443")) === (pc[3] || ("http:" === pc[1] ? "80" : "443")))), k.data && k.processData && "string" != typeof k.data && (k.data = n.param(k.data, k.traditional)), rc(lc, k, b, v), 2 === t) return v;
                for (j in (i = n.event && k.global) && 0 == n.active++ && n.event.trigger("ajaxStart"), k.type = k.type.toUpperCase(), k.hasContent = !ic.test(k.type), d = k.url, k.hasContent || (k.data && (d = k.url += (dc.test(d) ? "&" : "?") + k.data, delete k.data), !1 === k.cache && (k.url = fc.test(d) ? d.replace(fc, "$1_=" + cc++) : d + (dc.test(d) ? "&" : "?") + "_=" + cc++)), k.ifModified && (n.lastModified[d] && v.setRequestHeader("If-Modified-Since", n.lastModified[d]), n.etag[d] && v.setRequestHeader("If-None-Match", n.etag[d])), (k.data && k.hasContent && !1 !== k.contentType || b.contentType) && v.setRequestHeader("Content-Type", k.contentType), v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ("*" !== k.dataTypes[0] ? ", " + nc + "; q=0.01" : "") : k.accepts["*"]), k.headers) v.setRequestHeader(j, k.headers[j]);
                if (k.beforeSend && (!1 === k.beforeSend.call(l, v, k) || 2 === t)) return v.abort();
                for (j in u = "abort", {
                        success: 1,
                        error: 1,
                        complete: 1
                    }) v[j](k[j]);
                if (c = rc(mc, k, b, v)) {
                    v.readyState = 1, i && m.trigger("ajaxSend", [v, k]), k.async && 0 < k.timeout && (g = setTimeout(function() {
                        v.abort("timeout")
                    }, k.timeout));
                    try {
                        t = 1, c.send(r, x)
                    } catch (w) {
                        if (!(t < 2)) throw w;
                        x(-1, w)
                    }
                } else x(-1, "No Transport");

                function x(a, b, f, h) {
                    var j, r, s, u, w, x = b;
                    2 !== t && (t = 2, g && clearTimeout(g), c = void 0, e = h || "", v.readyState = 0 < a ? 4 : 0, j = 200 <= a && a < 300 || 304 === a, f && (u = function(a, b, c) {
                        for (var d, e, f, g, h = a.contents, i = a.dataTypes;
                            "*" === i[0];) i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
                        if (d)
                            for (e in h)
                                if (h[e] && h[e].test(d)) {
                                    i.unshift(e);
                                    break
                                } if (i[0] in c) f = i[0];
                        else {
                            for (e in c) {
                                if (!i[0] || a.converters[e + " " + i[0]]) {
                                    f = e;
                                    break
                                }
                                g || (g = e)
                            }
                            f = f || g
                        }
                        return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0
                    }(k, v, f)), u = function(a, b, c, d) {
                        var e, f, g, h, i, j = {},
                            k = a.dataTypes.slice();
                        if (k[1])
                            for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
                        for (f = k.shift(); f;)
                            if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
                                if ("*" === f) f = i;
                                else if ("*" !== i && i !== f) {
                            if (!(g = j[i + " " + f] || j["* " + f]))
                                for (e in j)
                                    if ((h = e.split(" "))[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                        !0 === g ? g = j[e] : !0 !== j[e] && (f = h[0], k.unshift(h[1]));
                                        break
                                    } if (!0 !== g)
                                if (g && a.throws) b = g(b);
                                else try {
                                    b = g(b)
                                } catch (l) {
                                    return {
                                        state: "parsererror",
                                        error: g ? l : "No conversion from " + i + " to " + f
                                    }
                                }
                        }
                        return {
                            state: "success",
                            data: b
                        }
                    }(k, u, v, j), j ? (k.ifModified && ((w = v.getResponseHeader("Last-Modified")) && (n.lastModified[d] = w), (w = v.getResponseHeader("etag")) && (n.etag[d] = w)), 204 === a || "HEAD" === k.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = u.state, r = u.data, j = !(s = u.error))) : (s = x, !a && x || (x = "error", a < 0 && (a = 0))), v.status = a, v.statusText = (b || x) + "", j ? o.resolveWith(l, [r, x, v]) : o.rejectWith(l, [v, x, s]), v.statusCode(q), q = void 0, i && m.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]), p.fireWith(l, [v, x]), i && (m.trigger("ajaxComplete", [v, k]), --n.active || n.event.trigger("ajaxStop")))
                }
                return v
            },
            getJSON: function(a, b, c) {
                return n.get(a, b, c, "json")
            },
            getScript: function(a, b) {
                return n.get(a, void 0, b, "script")
            }
        }), n.each(["get", "post"], function(a, b) {
            n[b] = function(a, c, d, e) {
                return n.isFunction(c) && (e = e || d, d = c, c = void 0), n.ajax({
                    url: a,
                    type: b,
                    dataType: e,
                    data: c,
                    success: d
                })
            }
        }), n._evalUrl = function(a) {
            return n.ajax({
                url: a,
                type: "GET",
                dataType: "script",
                async: !1,
                global: !1,
                throws: !0
            })
        }, n.fn.extend({
            wrapAll: function(a) {
                var b;
                return n.isFunction(a) ? this.each(function(b) {
                    n(this).wrapAll(a.call(this, b))
                }) : (this[0] && (b = n(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function() {
                    for (var a = this; a.firstElementChild;) a = a.firstElementChild;
                    return a
                }).append(this)), this)
            },
            wrapInner: function(a) {
                return this.each(n.isFunction(a) ? function(b) {
                    n(this).wrapInner(a.call(this, b))
                } : function() {
                    var b = n(this),
                        c = b.contents();
                    c.length ? c.wrapAll(a) : b.append(a)
                })
            },
            wrap: function(a) {
                var b = n.isFunction(a);
                return this.each(function(c) {
                    n(this).wrapAll(b ? a.call(this, c) : a)
                })
            },
            unwrap: function() {
                return this.parent().each(function() {
                    n.nodeName(this, "body") || n(this).replaceWith(this.childNodes)
                }).end()
            }
        }), n.expr.filters.hidden = function(a) {
            return a.offsetWidth <= 0 && a.offsetHeight <= 0
        }, n.expr.filters.visible = function(a) {
            return !n.expr.filters.hidden(a)
        };
        var vc = /%20/g,
            wc = /\[\]$/,
            xc = /\r?\n/g,
            yc = /^(?:submit|button|image|reset|file)$/i,
            zc = /^(?:input|select|textarea|keygen)/i;

        function Ac(a, b, c, d) {
            var e;
            if (n.isArray(b)) n.each(b, function(b, e) {
                c || wc.test(a) ? d(a, e) : Ac(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
            });
            else if (c || "object" !== n.type(b)) d(a, b);
            else
                for (e in b) Ac(a + "[" + e + "]", b[e], c, d)
        }
        n.param = function(a, b) {
            function e(a, b) {
                b = n.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
            }
            var c, d = [];
            if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional), n.isArray(a) || a.jquery && !n.isPlainObject(a)) n.each(a, function() {
                e(this.name, this.value)
            });
            else
                for (c in a) Ac(c, a[c], b, e);
            return d.join("&").replace(vc, "+")
        }, n.fn.extend({
            serialize: function() {
                return n.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var a = n.prop(this, "elements");
                    return a ? n.makeArray(a) : this
                }).filter(function() {
                    var a = this.type;
                    return this.name && !n(this).is(":disabled") && zc.test(this.nodeName) && !yc.test(a) && (this.checked || !T.test(a))
                }).map(function(a, b) {
                    var c = n(this).val();
                    return null == c ? null : n.isArray(c) ? n.map(c, function(a) {
                        return {
                            name: b.name,
                            value: a.replace(xc, "\r\n")
                        }
                    }) : {
                        name: b.name,
                        value: c.replace(xc, "\r\n")
                    }
                }).get()
            }
        }), n.ajaxSettings.xhr = function() {
            try {
                return new XMLHttpRequest
            } catch (a) {}
        };
        var Bc = 0,
            Cc = {},
            Dc = {
                0: 200,
                1223: 204
            },
            Ec = n.ajaxSettings.xhr();
        a.attachEvent && a.attachEvent("onunload", function() {
            for (var a in Cc) Cc[a]()
        }), k.cors = !!Ec && "withCredentials" in Ec, k.ajax = Ec = !!Ec, n.ajaxTransport(function(a) {
            var b;
            return k.cors || Ec && !a.crossDomain ? {
                send: function(c, d) {
                    var e, f = a.xhr(),
                        g = ++Bc;
                    if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields)
                        for (e in a.xhrFields) f[e] = a.xhrFields[e];
                    for (e in a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest"), c) f.setRequestHeader(e, c[e]);
                    b = function(a) {
                        return function() {
                            b && (delete Cc[g], b = f.onload = f.onerror = null, "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Dc[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? {
                                text: f.responseText
                            } : void 0, f.getAllResponseHeaders()))
                        }
                    }, f.onload = b(), f.onerror = b("error"), b = Cc[g] = b("abort");
                    try {
                        f.send(a.hasContent && a.data || null)
                    } catch (h) {
                        if (b) throw h
                    }
                },
                abort: function() {
                    b && b()
                }
            } : void 0
        }), n.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /(?:java|ecma)script/
            },
            converters: {
                "text script": function(a) {
                    return n.globalEval(a), a
                }
            }
        }), n.ajaxPrefilter("script", function(a) {
            void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET")
        }), n.ajaxTransport("script", function(a) {
            var b, c;
            if (a.crossDomain) return {
                send: function(d, e) {
                    b = n("<script>").prop({
                        async: !0,
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove(), c = null, a && e("error" === a.type ? 404 : 200, a.type)
                    }), l.head.appendChild(b[0])
                },
                abort: function() {
                    c && c()
                }
            }
        });
        var Fc = [],
            Gc = /(=)\?(?=&|$)|\?\?/;
        n.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var a = Fc.pop() || n.expando + "_" + cc++;
                return this[a] = !0, a
            }
        }), n.ajaxPrefilter("json jsonp", function(b, c, d) {
            var e, f, g, h = !1 !== b.jsonp && (Gc.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Gc.test(b.data) && "data");
            return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Gc, "$1" + e) : !1 !== b.jsonp && (b.url += (dc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function() {
                return g || n.error(e + " was not called"), g[0]
            }, b.dataTypes[0] = "json", f = a[e], a[e] = function() {
                g = arguments
            }, d.always(function() {
                a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Fc.push(e)), g && n.isFunction(f) && f(g[0]), g = f = void 0
            }), "script") : void 0
        }), n.parseHTML = function(a, b, c) {
            if (!a || "string" != typeof a) return null;
            "boolean" == typeof b && (c = b, b = !1), b = b || l;
            var d = v.exec(a),
                e = !c && [];
            return d ? [b.createElement(d[1])] : (d = n.buildFragment([a], b, e), e && e.length && n(e).remove(), n.merge([], d.childNodes))
        };
        var Hc = n.fn.load;
        n.fn.load = function(a, b, c) {
            if ("string" != typeof a && Hc) return Hc.apply(this, arguments);
            var d, e, f, g = this,
                h = a.indexOf(" ");
            return 0 <= h && (d = n.trim(a.slice(h)), a = a.slice(0, h)), n.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), 0 < g.length && n.ajax({
                url: a,
                type: e,
                dataType: "html",
                data: b
            }).done(function(a) {
                f = arguments, g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a)
            }).complete(c && function(a, b) {
                g.each(c, f || [a.responseText, b, a])
            }), this
        }, n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
            n.fn[b] = function(a) {
                return this.on(b, a)
            }
        }), n.expr.filters.animated = function(a) {
            return n.grep(n.timers, function(b) {
                return a === b.elem
            }).length
        };
        var Ic = a.document.documentElement;

        function Jc(a) {
            return n.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
        }
        n.offset = {
            setOffset: function(a, b, c) {
                var d, e, f, g, h, i, k = n.css(a, "position"),
                    l = n(a),
                    m = {};
                "static" === k && (a.style.position = "relative"), h = l.offset(), f = n.css(a, "top"), i = n.css(a, "left"), e = ("absolute" === k || "fixed" === k) && -1 < (f + i).indexOf("auto") ? (g = (d = l.position()).top, d.left) : (g = parseFloat(f) || 0, parseFloat(i) || 0), n.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m)
            }
        }, n.fn.extend({
            offset: function(a) {
                if (arguments.length) return void 0 === a ? this : this.each(function(b) {
                    n.offset.setOffset(this, a, b)
                });
                var b, c, d = this[0],
                    e = {
                        top: 0,
                        left: 0
                    },
                    f = d && d.ownerDocument;
                return f ? (b = f.documentElement, n.contains(b, d) ? (typeof d.getBoundingClientRect != U && (e = d.getBoundingClientRect()), c = Jc(f), {
                    top: e.top + c.pageYOffset - b.clientTop,
                    left: e.left + c.pageXOffset - b.clientLeft
                }) : e) : void 0
            },
            position: function() {
                if (this[0]) {
                    var a, b, c = this[0],
                        d = {
                            top: 0,
                            left: 0
                        };
                    return "fixed" === n.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), n.nodeName(a[0], "html") || (d = a.offset()), d.top += n.css(a[0], "borderTopWidth", !0), d.left += n.css(a[0], "borderLeftWidth", !0)), {
                        top: b.top - d.top - n.css(c, "marginTop", !0),
                        left: b.left - d.left - n.css(c, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var a = this.offsetParent || Ic; a && !n.nodeName(a, "html") && "static" === n.css(a, "position");) a = a.offsetParent;
                    return a || Ic
                })
            }
        }), n.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(b, c) {
            var d = "pageYOffset" === c;
            n.fn[b] = function(e) {
                return J(this, function(b, e, f) {
                    var g = Jc(b);
                    return void 0 === f ? g ? g[c] : b[e] : void(g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f)
                }, b, e, arguments.length, null)
            }
        }), n.each(["top", "left"], function(a, b) {
            n.cssHooks[b] = yb(k.pixelPosition, function(a, c) {
                return c ? (c = xb(a, b), vb.test(c) ? n(a).position()[b] + "px" : c) : void 0
            })
        }), n.each({
            Height: "height",
            Width: "width"
        }, function(a, b) {
            n.each({
                padding: "inner" + a,
                content: b,
                "": "outer" + a
            }, function(c, d) {
                n.fn[d] = function(d, e) {
                    var f = arguments.length && (c || "boolean" != typeof d),
                        g = c || (!0 === d || !0 === e ? "margin" : "border");
                    return J(this, function(b, c, d) {
                        var e;
                        return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g)
                    }, b, f ? d : void 0, f, null)
                }
            })
        }), n.fn.size = function() {
            return this.length
        }, n.fn.andSelf = n.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function() {
            return n
        });
        var Kc = a.jQuery,
            Lc = a.$;
        return n.noConflict = function(b) {
            return a.$ === n && (a.$ = Lc), b && a.jQuery === n && (a.jQuery = Kc), n
        }, typeof b == U && (a.jQuery = a.$ = n), n
    }), "undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery");

function UUIDjs() {}

function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min
}! function($) {
    "use strict";
    var version = jQuery.fn.jquery.split(" ")[0].split(".");
    if (version[0] < 2 && version[1] < 9 || 1 == version[0] && 9 == version[1] && version[2] < 1) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")
}(),
function($) {
    "use strict";
    $.fn.emulateTransitionEnd = function(duration) {
        var called = !1,
            $el = this;
        $(this).one("bsTransitionEnd", function() {
            called = !0
        });
        return setTimeout(function() {
            called || $($el).trigger($.support.transition.end)
        }, duration), this
    }, $(function() {
        $.support.transition = function() {
            var el = document.createElement("bootstrap"),
                transEndEventNames = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "oTransitionEnd otransitionend",
                    transition: "transitionend"
                };
            for (var name in transEndEventNames)
                if (void 0 !== el.style[name]) return {
                    end: transEndEventNames[name]
                };
            return !1
        }(), $.support.transition && ($.event.special.bsTransitionEnd = {
            bindType: $.support.transition.end,
            delegateType: $.support.transition.end,
            handle: function(e) {
                if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
            }
        })
    })
}(jQuery),
function($) {
    "use strict";

    function Alert(el) {
        $(el).on("click", dismiss, this.close)
    }
    var dismiss = '[data-dismiss="alert"]';
    Alert.VERSION = "3.3.2", Alert.TRANSITION_DURATION = 150, Alert.prototype.close = function(e) {
        var $this = $(this),
            selector = $this.attr("data-target");
        selector || (selector = (selector = $this.attr("href")) && selector.replace(/.*(?=#[^\s]*$)/, ""));
        var $parent = $(selector);

        function removeElement() {
            $parent.detach().trigger("closed.bs.alert").remove()
        }
        e && e.preventDefault(), $parent.length || ($parent = $this.closest(".alert")), $parent.trigger(e = $.Event("close.bs.alert")), e.isDefaultPrevented() || ($parent.removeClass("in"), $.support.transition && $parent.hasClass("fade") ? $parent.one("bsTransitionEnd", removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION) : removeElement())
    };
    var old = $.fn.alert;
    $.fn.alert = function(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.alert");
            data || $this.data("bs.alert", data = new Alert(this)), "string" == typeof option && data[option].call($this)
        })
    }, $.fn.alert.Constructor = Alert, $.fn.alert.noConflict = function() {
        return $.fn.alert = old, this
    }, $(document).on("click.bs.alert.data-api", dismiss, Alert.prototype.close)
}(jQuery),
function($) {
    "use strict";
    var Button = function(element, options) {
        this.$element = $(element), this.options = $.extend({}, Button.DEFAULTS, options), this.isLoading = !1
    };

    function Plugin(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.button"),
                options = "object" == typeof option && option;
            data || $this.data("bs.button", data = new Button(this, options)), "toggle" == option ? data.toggle() : option && data.setState(option)
        })
    }
    Button.VERSION = "3.3.2", Button.DEFAULTS = {
        loadingText: "loading..."
    }, Button.prototype.setState = function(state) {
        var d = "disabled",
            $el = this.$element,
            val = $el.is("input") ? "val" : "html",
            data = $el.data();
        state += "Text", null == data.resetText && $el.data("resetText", $el[val]()), setTimeout($.proxy(function() {
            $el[val](null == data[state] ? this.options[state] : data[state]), "loadingText" == state ? (this.isLoading = !0, $el.addClass(d).attr(d, d)) : this.isLoading && (this.isLoading = !1, $el.removeClass(d).removeAttr(d))
        }, this), 0)
    }, Button.prototype.toggle = function() {
        var changed = !0,
            $parent = this.$element.closest('[data-toggle="buttons"]');
        if ($parent.length) {
            var $input = this.$element.find("input");
            "radio" == $input.prop("type") && ($input.prop("checked") && this.$element.hasClass("active") ? changed = !1 : $parent.find(".active").removeClass("active")), changed && $input.prop("checked", !this.$element.hasClass("active")).trigger("change")
        } else this.$element.attr("aria-pressed", !this.$element.hasClass("active"));
        changed && this.$element.toggleClass("active")
    };
    var old = $.fn.button;
    $.fn.button = Plugin, $.fn.button.Constructor = Button, $.fn.button.noConflict = function() {
        return $.fn.button = old, this
    }, $(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function(e) {
        var $btn = $(e.target);
        $btn.hasClass("btn") || ($btn = $btn.closest(".btn")), Plugin.call($btn, "toggle"), e.preventDefault()
    }).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function(e) {
        $(e.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(e.type))
    })
}(jQuery),
function($) {
    "use strict";

    function Carousel(element, options) {
        this.$element = $(element), this.$indicators = this.$element.find(".carousel-indicators"), this.options = options, this.paused = this.sliding = this.interval = this.$active = this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", $.proxy(this.keydown, this)), "hover" != this.options.pause || "ontouchstart" in document.documentElement || this.$element.on("mouseenter.bs.carousel", $.proxy(this.pause, this)).on("mouseleave.bs.carousel", $.proxy(this.cycle, this))
    }

    function Plugin(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.carousel"),
                options = $.extend({}, Carousel.DEFAULTS, $this.data(), "object" == typeof option && option),
                action = "string" == typeof option ? option : options.slide;
            data || $this.data("bs.carousel", data = new Carousel(this, options)), "number" == typeof option ? data.to(option) : action ? data[action]() : options.interval && data.pause().cycle()
        })
    }
    Carousel.VERSION = "3.3.2", Carousel.TRANSITION_DURATION = 600, Carousel.DEFAULTS = {
        interval: 5e3,
        pause: "hover",
        wrap: !0,
        keyboard: !0
    }, Carousel.prototype.keydown = function(e) {
        if (!/input|textarea/i.test(e.target.tagName)) {
            switch (e.which) {
                case 37:
                    this.prev();
                    break;
                case 39:
                    this.next();
                    break;
                default:
                    return
            }
            e.preventDefault()
        }
    }, Carousel.prototype.cycle = function(e) {
        return e || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval($.proxy(this.next, this), this.options.interval)), this
    }, Carousel.prototype.getItemIndex = function(item) {
        return this.$items = item.parent().children(".item"), this.$items.index(item || this.$active)
    }, Carousel.prototype.getItemForDirection = function(direction, active) {
        var activeIndex = this.getItemIndex(active);
        if (("prev" == direction && 0 === activeIndex || "next" == direction && activeIndex == this.$items.length - 1) && !this.options.wrap) return active;
        var itemIndex = (activeIndex + ("prev" == direction ? -1 : 1)) % this.$items.length;
        return this.$items.eq(itemIndex)
    }, Carousel.prototype.to = function(pos) {
        var that = this,
            activeIndex = this.getItemIndex(this.$active = this.$element.find(".item.active"));
        if (!(pos > this.$items.length - 1 || pos < 0)) return this.sliding ? this.$element.one("slid.bs.carousel", function() {
            that.to(pos)
        }) : activeIndex == pos ? this.pause().cycle() : this.slide(activeIndex < pos ? "next" : "prev", this.$items.eq(pos))
    }, Carousel.prototype.pause = function(e) {
        return e || (this.paused = !0), this.$element.find(".next, .prev").length && $.support.transition && (this.$element.trigger($.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this
    }, Carousel.prototype.next = function() {
        if (!this.sliding) return this.slide("next")
    }, Carousel.prototype.prev = function() {
        if (!this.sliding) return this.slide("prev")
    }, Carousel.prototype.slide = function(type, next) {
        var $active = this.$element.find(".item.active"),
            $next = next || this.getItemForDirection(type, $active),
            isCycling = this.interval,
            direction = "next" == type ? "left" : "right",
            that = this;
        if ($next.hasClass("active")) return this.sliding = !1;
        var relatedTarget = $next[0],
            slideEvent = $.Event("slide.bs.carousel", {
                relatedTarget: relatedTarget,
                direction: direction
            });
        if (this.$element.trigger(slideEvent), !slideEvent.isDefaultPrevented()) {
            if (this.sliding = !0, isCycling && this.pause(), this.$indicators.length) {
                this.$indicators.find(".active").removeClass("active");
                var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)]);
                $nextIndicator && $nextIndicator.addClass("active")
            }
            var slidEvent = $.Event("slid.bs.carousel", {
                relatedTarget: relatedTarget,
                direction: direction
            });
            return $.support.transition && this.$element.hasClass("slide") ? ($next.addClass(type), $next[0].offsetWidth, $active.addClass(direction), $next.addClass(direction), $active.one("bsTransitionEnd", function() {
                $next.removeClass([type, direction].join(" ")).addClass("active"), $active.removeClass(["active", direction].join(" ")), that.sliding = !1, setTimeout(function() {
                    that.$element.trigger(slidEvent)
                }, 0)
            }).emulateTransitionEnd(Carousel.TRANSITION_DURATION)) : ($active.removeClass("active"), $next.addClass("active"), this.sliding = !1, this.$element.trigger(slidEvent)), isCycling && this.cycle(), this
        }
    };
    var old = $.fn.carousel;
    $.fn.carousel = Plugin, $.fn.carousel.Constructor = Carousel, $.fn.carousel.noConflict = function() {
        return $.fn.carousel = old, this
    };

    function clickHandler(e) {
        var href, $this = $(this),
            $target = $($this.attr("data-target") || (href = $this.attr("href")) && href.replace(/.*(?=#[^\s]+$)/, ""));
        if ($target.hasClass("carousel")) {
            var options = $.extend({}, $target.data(), $this.data()),
                slideIndex = $this.attr("data-slide-to");
            slideIndex && (options.interval = !1), Plugin.call($target, options), slideIndex && $target.data("bs.carousel").to(slideIndex), e.preventDefault()
        }
    }
    $(document).on("click.bs.carousel.data-api", "[data-slide]", clickHandler).on("click.bs.carousel.data-api", "[data-slide-to]", clickHandler), $(window).on("load", function() {
        $('[data-ride="carousel"]').each(function() {
            var $carousel = $(this);
            Plugin.call($carousel, $carousel.data())
        })
    })
}(jQuery),
function($) {
    "use strict";
    var Collapse = function(element, options) {
        this.$element = $(element), this.options = $.extend({}, Collapse.DEFAULTS, options), this.$trigger = $(this.options.trigger).filter('[href="#' + element.id + '"], [data-target="#' + element.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle()
    };

    function getTargetFromTrigger($trigger) {
        var href, target = $trigger.attr("data-target") || (href = $trigger.attr("href")) && href.replace(/.*(?=#[^\s]+$)/, "");
        return $(target)
    }

    function Plugin(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.collapse"),
                options = $.extend({}, Collapse.DEFAULTS, $this.data(), "object" == typeof option && option);
            !data && options.toggle && "show" == option && (options.toggle = !1), data || $this.data("bs.collapse", data = new Collapse(this, options)), "string" == typeof option && data[option]()
        })
    }
    Collapse.VERSION = "3.3.2", Collapse.TRANSITION_DURATION = 350, Collapse.DEFAULTS = {
        toggle: !0,
        trigger: '[data-toggle="collapse"]'
    }, Collapse.prototype.dimension = function() {
        return this.$element.hasClass("width") ? "width" : "height"
    }, Collapse.prototype.show = function() {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var activesData, actives = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
            if (!(actives && actives.length && (activesData = actives.data("bs.collapse")) && activesData.transitioning)) {
                var startEvent = $.Event("show.bs.collapse");
                if (this.$element.trigger(startEvent), !startEvent.isDefaultPrevented()) {
                    actives && actives.length && (Plugin.call(actives, "hide"), activesData || actives.data("bs.collapse", null));
                    var dimension = this.dimension();
                    this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1;
                    var complete = function() {
                        this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse")
                    };
                    if (!$.support.transition) return complete.call(this);
                    var scrollSize = $.camelCase(["scroll", dimension].join("-"));
                    this.$element.one("bsTransitionEnd", $.proxy(complete, this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
                }
            }
        }
    }, Collapse.prototype.hide = function() {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var startEvent = $.Event("hide.bs.collapse");
            if (this.$element.trigger(startEvent), !startEvent.isDefaultPrevented()) {
                var dimension = this.dimension();
                this.$element[dimension](this.$element[dimension]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1;
                var complete = function() {
                    this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                };
                if (!$.support.transition) return complete.call(this);
                this.$element[dimension](0).one("bsTransitionEnd", $.proxy(complete, this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)
            }
        }
    }, Collapse.prototype.toggle = function() {
        this[this.$element.hasClass("in") ? "hide" : "show"]()
    }, Collapse.prototype.getParent = function() {
        return $(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each($.proxy(function(i, element) {
            var $element = $(element);
            this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
        }, this)).end()
    }, Collapse.prototype.addAriaAndCollapsedClass = function($element, $trigger) {
        var isOpen = $element.hasClass("in");
        $element.attr("aria-expanded", isOpen), $trigger.toggleClass("collapsed", !isOpen).attr("aria-expanded", isOpen)
    };
    var old = $.fn.collapse;
    $.fn.collapse = Plugin, $.fn.collapse.Constructor = Collapse, $.fn.collapse.noConflict = function() {
        return $.fn.collapse = old, this
    }, $(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(e) {
        var $this = $(this);
        $this.attr("data-target") || e.preventDefault();
        var $target = getTargetFromTrigger($this),
            option = $target.data("bs.collapse") ? "toggle" : $.extend({}, $this.data(), {
                trigger: this
            });
        Plugin.call($target, option)
    })
}(jQuery),
function($) {
    "use strict";

    function Dropdown(element) {
        $(element).on("click.bs.dropdown", this.toggle)
    }
    var toggle = '[data-toggle="dropdown"]';

    function clearMenus(e) {
        e && 3 === e.which || ($(".dropdown-backdrop").remove(), $(toggle).each(function() {
            var $this = $(this),
                $parent = getParent($this),
                relatedTarget = {
                    relatedTarget: this
                };
            $parent.hasClass("open") && ($parent.trigger(e = $.Event("hide.bs.dropdown", relatedTarget)), e.isDefaultPrevented() || ($this.attr("aria-expanded", "false"), $parent.removeClass("open").trigger("hidden.bs.dropdown", relatedTarget)))
        }))
    }

    function getParent($this) {
        var selector = $this.attr("data-target");
        selector || (selector = (selector = $this.attr("href")) && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, ""));
        var $parent = selector && $(selector);
        return $parent && $parent.length ? $parent : $this.parent()
    }
    Dropdown.VERSION = "3.3.2", Dropdown.prototype.toggle = function(e) {
        var $this = $(this);
        if (!$this.is(".disabled, :disabled")) {
            var $parent = getParent($this),
                isActive = $parent.hasClass("open");
            if (clearMenus(), !isActive) {
                "ontouchstart" in document.documentElement && !$parent.closest(".navbar-nav").length && $('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click", clearMenus);
                var relatedTarget = {
                    relatedTarget: this
                };
                if ($parent.trigger(e = $.Event("show.bs.dropdown", relatedTarget)), e.isDefaultPrevented()) return;
                $this.trigger("focus").attr("aria-expanded", "true"), $parent.toggleClass("open").trigger("shown.bs.dropdown", relatedTarget)
            }
            return !1
        }
    }, Dropdown.prototype.keydown = function(e) {
        if (/(38|40|27|32)/.test(e.which) && !/input|textarea/i.test(e.target.tagName)) {
            var $this = $(this);
            if (e.preventDefault(), e.stopPropagation(), !$this.is(".disabled, :disabled")) {
                var $parent = getParent($this),
                    isActive = $parent.hasClass("open");
                if (!isActive && 27 != e.which || isActive && 27 == e.which) return 27 == e.which && $parent.find(toggle).trigger("focus"), $this.trigger("click");
                var desc = " li:not(.divider):visible a",
                    $items = $parent.find('[role="menu"]' + desc + ', [role="listbox"]' + desc);
                if ($items.length) {
                    var index = $items.index(e.target);
                    38 == e.which && 0 < index && index--, 40 == e.which && index < $items.length - 1 && index++, ~index || (index = 0), $items.eq(index).trigger("focus")
                }
            }
        }
    };
    var old = $.fn.dropdown;
    $.fn.dropdown = function(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.dropdown");
            data || $this.data("bs.dropdown", data = new Dropdown(this)), "string" == typeof option && data[option].call($this)
        })
    }, $.fn.dropdown.Constructor = Dropdown, $.fn.dropdown.noConflict = function() {
        return $.fn.dropdown = old, this
    }, $(document).on("click.bs.dropdown.data-api", clearMenus).on("click.bs.dropdown.data-api", ".dropdown form", function(e) {
        e.stopPropagation()
    }).on("click.bs.dropdown.data-api", toggle, Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api", toggle, Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api", '[role="menu"]', Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api", '[role="listbox"]', Dropdown.prototype.keydown)
}(jQuery),
function($) {
    "use strict";

    function Modal(element, options) {
        this.options = options, this.$body = $(document.body), this.$element = $(element), this.$backdrop = this.isShown = null, this.scrollbarWidth = 0, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, $.proxy(function() {
            this.$element.trigger("loaded.bs.modal")
        }, this))
    }

    function Plugin(option, _relatedTarget) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.modal"),
                options = $.extend({}, Modal.DEFAULTS, $this.data(), "object" == typeof option && option);
            data || $this.data("bs.modal", data = new Modal(this, options)), "string" == typeof option ? data[option](_relatedTarget) : options.show && data.show(_relatedTarget)
        })
    }
    Modal.VERSION = "3.3.2", Modal.TRANSITION_DURATION = 300, Modal.BACKDROP_TRANSITION_DURATION = 150, Modal.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    }, Modal.prototype.toggle = function(_relatedTarget) {
        return this.isShown ? this.hide() : this.show(_relatedTarget)
    }, Modal.prototype.show = function(_relatedTarget) {
        var that = this,
            e = $.Event("show.bs.modal", {
                relatedTarget: _relatedTarget
            });
        this.$element.trigger(e), this.isShown || e.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', $.proxy(this.hide, this)), this.backdrop(function() {
            var transition = $.support.transition && that.$element.hasClass("fade");
            that.$element.parent().length || that.$element.appendTo(that.$body), that.$element.show().scrollTop(0), that.options.backdrop && that.adjustBackdrop(), that.adjustDialog(), transition && that.$element[0].offsetWidth, that.$element.addClass("in").attr("aria-hidden", !1), that.enforceFocus();
            var e = $.Event("shown.bs.modal", {
                relatedTarget: _relatedTarget
            });
            transition ? that.$element.find(".modal-dialog").one("bsTransitionEnd", function() {
                that.$element.trigger("focus").trigger(e)
            }).emulateTransitionEnd(Modal.TRANSITION_DURATION) : that.$element.trigger("focus").trigger(e)
        }))
    }, Modal.prototype.hide = function(e) {
        e && e.preventDefault(), e = $.Event("hide.bs.modal"), this.$element.trigger(e), this.isShown && !e.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), $(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal"), $.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", $.proxy(this.hideModal, this)).emulateTransitionEnd(Modal.TRANSITION_DURATION) : this.hideModal())
    }, Modal.prototype.enforceFocus = function() {
        $(document).off("focusin.bs.modal").on("focusin.bs.modal", $.proxy(function(e) {
            this.$element[0] === e.target || this.$element.has(e.target).length || this.$element.trigger("focus")
        }, this))
    }, Modal.prototype.escape = function() {
        this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", $.proxy(function(e) {
            27 == e.which && this.hide()
        }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal")
    }, Modal.prototype.resize = function() {
        this.isShown ? $(window).on("resize.bs.modal", $.proxy(this.handleUpdate, this)) : $(window).off("resize.bs.modal")
    }, Modal.prototype.hideModal = function() {
        var that = this;
        this.$element.hide(), this.backdrop(function() {
            that.$body.removeClass("modal-open"), that.resetAdjustments(), that.resetScrollbar(), that.$element.trigger("hidden.bs.modal")
        })
    }, Modal.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove(), this.$backdrop = null
    }, Modal.prototype.backdrop = function(callback) {
        var that = this,
            animate = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var doAnimate = $.support.transition && animate;
            if (this.$backdrop = $('<div class="modal-backdrop ' + animate + '" />').prependTo(this.$element).on("click.dismiss.bs.modal", $.proxy(function(e) {
                    e.target === e.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this))
                }, this)), doAnimate && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !callback) return;
            doAnimate ? this.$backdrop.one("bsTransitionEnd", callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) : callback()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var callbackRemove = function() {
                that.removeBackdrop(), callback && callback()
            };
            $.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) : callbackRemove()
        } else callback && callback()
    }, Modal.prototype.handleUpdate = function() {
        this.options.backdrop && this.adjustBackdrop(), this.adjustDialog()
    }, Modal.prototype.adjustBackdrop = function() {
        this.$backdrop.css("height", 0).css("height", this.$element[0].scrollHeight)
    }, Modal.prototype.adjustDialog = function() {
        var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight;
        this.$element.css({
            paddingLeft: !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : "",
            paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ""
        })
    }, Modal.prototype.resetAdjustments = function() {
        this.$element.css({
            paddingLeft: "",
            paddingRight: ""
        })
    }, Modal.prototype.checkScrollbar = function() {
        this.bodyIsOverflowing = document.body.scrollHeight > document.documentElement.clientHeight, this.scrollbarWidth = this.measureScrollbar()
    }, Modal.prototype.setScrollbar = function() {
        var bodyPad = parseInt(this.$body.css("padding-right") || 0, 10);
        this.bodyIsOverflowing && this.$body.css("padding-right", bodyPad + this.scrollbarWidth)
    }, Modal.prototype.resetScrollbar = function() {
        this.$body.css("padding-right", "")
    }, Modal.prototype.measureScrollbar = function() {
        var scrollDiv = document.createElement("div");
        scrollDiv.className = "modal-scrollbar-measure", this.$body.append(scrollDiv);
        var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
        return this.$body[0].removeChild(scrollDiv), scrollbarWidth
    };
    var old = $.fn.modal;
    $.fn.modal = Plugin, $.fn.modal.Constructor = Modal, $.fn.modal.noConflict = function() {
        return $.fn.modal = old, this
    }, $(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(e) {
        var $this = $(this),
            href = $this.attr("href"),
            $target = $($this.attr("data-target") || href && href.replace(/.*(?=#[^\s]+$)/, "")),
            option = $target.data("bs.modal") ? "toggle" : $.extend({
                remote: !/#/.test(href) && href
            }, $target.data(), $this.data());
        $this.is("a") && e.preventDefault(), $target.one("show.bs.modal", function(showEvent) {
            showEvent.isDefaultPrevented() || $target.one("hidden.bs.modal", function() {
                $this.is(":visible") && $this.trigger("focus")
            })
        }), Plugin.call($target, option, this)
    })
}(jQuery),
function($) {
    "use strict";

    function Tooltip(element, options) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init("tooltip", element, options)
    }
    Tooltip.VERSION = "3.3.2", Tooltip.TRANSITION_DURATION = 150, Tooltip.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {
            selector: "body",
            padding: 0
        }
    }, Tooltip.prototype.init = function(type, element, options) {
        this.enabled = !0, this.type = type, this.$element = $(element), this.options = this.getOptions(options), this.$viewport = this.options.viewport && $(this.options.viewport.selector || this.options.viewport);
        for (var triggers = this.options.trigger.split(" "), i = triggers.length; i--;) {
            var trigger = triggers[i];
            if ("click" == trigger) this.$element.on("click." + this.type, this.options.selector, $.proxy(this.toggle, this));
            else if ("manual" != trigger) {
                var eventIn = "hover" == trigger ? "mouseenter" : "focusin",
                    eventOut = "hover" == trigger ? "mouseleave" : "focusout";
                this.$element.on(eventIn + "." + this.type, this.options.selector, $.proxy(this.enter, this)), this.$element.on(eventOut + "." + this.type, this.options.selector, $.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = $.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }, Tooltip.prototype.getDefaults = function() {
        return Tooltip.DEFAULTS
    }, Tooltip.prototype.getOptions = function(options) {
        return (options = $.extend({}, this.getDefaults(), this.$element.data(), options)).delay && "number" == typeof options.delay && (options.delay = {
            show: options.delay,
            hide: options.delay
        }), options
    }, Tooltip.prototype.getDelegateOptions = function() {
        var options = {},
            defaults = this.getDefaults();
        return this._options && $.each(this._options, function(key, value) {
            defaults[key] != value && (options[key] = value)
        }), options
    }, Tooltip.prototype.enter = function(obj) {
        var self = obj instanceof this.constructor ? obj : $(obj.currentTarget).data("bs." + this.type);
        if (self && self.$tip && self.$tip.is(":visible")) self.hoverState = "in";
        else {
            if (self || (self = new this.constructor(obj.currentTarget, this.getDelegateOptions()), $(obj.currentTarget).data("bs." + this.type, self)), clearTimeout(self.timeout), self.hoverState = "in", !self.options.delay || !self.options.delay.show) return self.show();
            self.timeout = setTimeout(function() {
                "in" == self.hoverState && self.show()
            }, self.options.delay.show)
        }
    }, Tooltip.prototype.leave = function(obj) {
        var self = obj instanceof this.constructor ? obj : $(obj.currentTarget).data("bs." + this.type);
        if (self || (self = new this.constructor(obj.currentTarget, this.getDelegateOptions()), $(obj.currentTarget).data("bs." + this.type, self)), clearTimeout(self.timeout), self.hoverState = "out", !self.options.delay || !self.options.delay.hide) return self.hide();
        self.timeout = setTimeout(function() {
            "out" == self.hoverState && self.hide()
        }, self.options.delay.hide)
    }, Tooltip.prototype.show = function() {
        var e = $.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(e);
            var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
            if (e.isDefaultPrevented() || !inDom) return;
            var that = this,
                $tip = this.tip(),
                tipId = this.getUID(this.type);
            this.setContent(), $tip.attr("id", tipId), this.$element.attr("aria-describedby", tipId), this.options.animation && $tip.addClass("fade");
            var placement = "function" == typeof this.options.placement ? this.options.placement.call(this, $tip[0], this.$element[0]) : this.options.placement,
                autoToken = /\s?auto?\s?/i,
                autoPlace = autoToken.test(placement);
            autoPlace && (placement = placement.replace(autoToken, "") || "top"), $tip.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(placement).data("bs." + this.type, this), this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element);
            var pos = this.getPosition(),
                actualWidth = $tip[0].offsetWidth,
                actualHeight = $tip[0].offsetHeight;
            if (autoPlace) {
                var orgPlacement = placement,
                    $container = this.options.container ? $(this.options.container) : this.$element.parent(),
                    containerDim = this.getPosition($container);
                placement = "bottom" == placement && pos.bottom + actualHeight > containerDim.bottom ? "top" : "top" == placement && pos.top - actualHeight < containerDim.top ? "bottom" : "right" == placement && pos.right + actualWidth > containerDim.width ? "left" : "left" == placement && pos.left - actualWidth < containerDim.left ? "right" : placement, $tip.removeClass(orgPlacement).addClass(placement)
            }
            var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight);
            this.applyPlacement(calculatedOffset, placement);
            var complete = function() {
                var prevHoverState = that.hoverState;
                that.$element.trigger("shown.bs." + that.type), that.hoverState = null, "out" == prevHoverState && that.leave(that)
            };
            $.support.transition && this.$tip.hasClass("fade") ? $tip.one("bsTransitionEnd", complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION) : complete()
        }
    }, Tooltip.prototype.applyPlacement = function(offset, placement) {
        var $tip = this.tip(),
            width = $tip[0].offsetWidth,
            height = $tip[0].offsetHeight,
            marginTop = parseInt($tip.css("margin-top"), 10),
            marginLeft = parseInt($tip.css("margin-left"), 10);
        isNaN(marginTop) && (marginTop = 0), isNaN(marginLeft) && (marginLeft = 0), offset.top = offset.top + marginTop, offset.left = offset.left + marginLeft, $.offset.setOffset($tip[0], $.extend({
            using: function(props) {
                $tip.css({
                    top: Math.round(props.top),
                    left: Math.round(props.left)
                })
            }
        }, offset), 0), $tip.addClass("in");
        var actualWidth = $tip[0].offsetWidth,
            actualHeight = $tip[0].offsetHeight;
        "top" == placement && actualHeight != height && (offset.top = offset.top + height - actualHeight);
        var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight);
        delta.left ? offset.left += delta.left : offset.top += delta.top;
        var isVertical = /top|bottom/.test(placement),
            arrowDelta = isVertical ? 2 * delta.left - width + actualWidth : 2 * delta.top - height + actualHeight,
            arrowOffsetPosition = isVertical ? "offsetWidth" : "offsetHeight";
        $tip.offset(offset), this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)
    }, Tooltip.prototype.replaceArrow = function(delta, dimension, isHorizontal) {
        this.arrow().css(isHorizontal ? "left" : "top", 50 * (1 - delta / dimension) + "%").css(isHorizontal ? "top" : "left", "")
    }, Tooltip.prototype.setContent = function() {
        var $tip = this.tip(),
            title = this.getTitle();
        $tip.find(".tooltip-inner")[this.options.html ? "html" : "text"](title), $tip.removeClass("fade in top bottom left right")
    }, Tooltip.prototype.hide = function(callback) {
        var that = this,
            $tip = this.tip(),
            e = $.Event("hide.bs." + this.type);

        function complete() {
            "in" != that.hoverState && $tip.detach(), that.$element.removeAttr("aria-describedby").trigger("hidden.bs." + that.type), callback && callback()
        }
        if (this.$element.trigger(e), !e.isDefaultPrevented()) return $tip.removeClass("in"), $.support.transition && this.$tip.hasClass("fade") ? $tip.one("bsTransitionEnd", complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION) : complete(), this.hoverState = null, this
    }, Tooltip.prototype.fixTitle = function() {
        var $e = this.$element;
        !$e.attr("title") && "string" == typeof $e.attr("data-original-title") || $e.attr("data-original-title", $e.attr("title") || "").attr("title", "")
    }, Tooltip.prototype.hasContent = function() {
        return this.getTitle()
    }, Tooltip.prototype.getPosition = function($element) {
        var el = ($element = $element || this.$element)[0],
            isBody = "BODY" == el.tagName,
            elRect = el.getBoundingClientRect();
        null == elRect.width && (elRect = $.extend({}, elRect, {
            width: elRect.right - elRect.left,
            height: elRect.bottom - elRect.top
        }));
        var elOffset = isBody ? {
                top: 0,
                left: 0
            } : $element.offset(),
            scroll = {
                scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop()
            },
            outerDims = isBody ? {
                width: $(window).width(),
                height: $(window).height()
            } : null;
        return $.extend({}, elRect, scroll, outerDims, elOffset)
    }, Tooltip.prototype.getCalculatedOffset = function(placement, pos, actualWidth, actualHeight) {
        return "bottom" == placement ? {
            top: pos.top + pos.height,
            left: pos.left + pos.width / 2 - actualWidth / 2
        } : "top" == placement ? {
            top: pos.top - actualHeight,
            left: pos.left + pos.width / 2 - actualWidth / 2
        } : "left" == placement ? {
            top: pos.top + pos.height / 2 - actualHeight / 2,
            left: pos.left - actualWidth
        } : {
            top: pos.top + pos.height / 2 - actualHeight / 2,
            left: pos.left + pos.width
        }
    }, Tooltip.prototype.getViewportAdjustedDelta = function(placement, pos, actualWidth, actualHeight) {
        var delta = {
            top: 0,
            left: 0
        };
        if (!this.$viewport) return delta;
        var viewportPadding = this.options.viewport && this.options.viewport.padding || 0,
            viewportDimensions = this.getPosition(this.$viewport);
        if (/right|left/.test(placement)) {
            var topEdgeOffset = pos.top - viewportPadding - viewportDimensions.scroll,
                bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight;
            topEdgeOffset < viewportDimensions.top ? delta.top = viewportDimensions.top - topEdgeOffset : bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height && (delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset)
        } else {
            var leftEdgeOffset = pos.left - viewportPadding,
                rightEdgeOffset = pos.left + viewportPadding + actualWidth;
            leftEdgeOffset < viewportDimensions.left ? delta.left = viewportDimensions.left - leftEdgeOffset : rightEdgeOffset > viewportDimensions.width && (delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset)
        }
        return delta
    }, Tooltip.prototype.getTitle = function() {
        var $e = this.$element,
            o = this.options;
        return $e.attr("data-original-title") || ("function" == typeof o.title ? o.title.call($e[0]) : o.title)
    }, Tooltip.prototype.getUID = function(prefix) {
        for (; prefix += ~~(1e6 * Math.random()), document.getElementById(prefix););
        return prefix
    }, Tooltip.prototype.tip = function() {
        return this.$tip = this.$tip || $(this.options.template)
    }, Tooltip.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }, Tooltip.prototype.enable = function() {
        this.enabled = !0
    }, Tooltip.prototype.disable = function() {
        this.enabled = !1
    }, Tooltip.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    }, Tooltip.prototype.toggle = function(e) {
        var self = this;
        e && ((self = $(e.currentTarget).data("bs." + this.type)) || (self = new this.constructor(e.currentTarget, this.getDelegateOptions()), $(e.currentTarget).data("bs." + this.type, self))), self.tip().hasClass("in") ? self.leave(self) : self.enter(self)
    }, Tooltip.prototype.destroy = function() {
        var that = this;
        clearTimeout(this.timeout), this.hide(function() {
            that.$element.off("." + that.type).removeData("bs." + that.type)
        })
    };
    var old = $.fn.tooltip;
    $.fn.tooltip = function(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.tooltip"),
                options = "object" == typeof option && option;
            !data && "destroy" == option || (data || $this.data("bs.tooltip", data = new Tooltip(this, options)), "string" == typeof option && data[option]())
        })
    }, $.fn.tooltip.Constructor = Tooltip, $.fn.tooltip.noConflict = function() {
        return $.fn.tooltip = old, this
    }
}(jQuery),
function($) {
    "use strict";

    function Popover(element, options) {
        this.init("popover", element, options)
    }
    if (!$.fn.tooltip) throw new Error("Popover requires tooltip.js");
    Popover.VERSION = "3.3.2", Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }), ((Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)).constructor = Popover).prototype.getDefaults = function() {
        return Popover.DEFAULTS
    }, Popover.prototype.setContent = function() {
        var $tip = this.tip(),
            title = this.getTitle(),
            content = this.getContent();
        $tip.find(".popover-title")[this.options.html ? "html" : "text"](title), $tip.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof content ? "html" : "append" : "text"](content), $tip.removeClass("fade top bottom left right in"), $tip.find(".popover-title").html() || $tip.find(".popover-title").hide()
    }, Popover.prototype.hasContent = function() {
        return this.getTitle() || this.getContent()
    }, Popover.prototype.getContent = function() {
        var $e = this.$element,
            o = this.options;
        return $e.attr("data-content") || ("function" == typeof o.content ? o.content.call($e[0]) : o.content)
    }, Popover.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    }, Popover.prototype.tip = function() {
        return this.$tip || (this.$tip = $(this.options.template)), this.$tip
    };
    var old = $.fn.popover;
    $.fn.popover = function(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.popover"),
                options = "object" == typeof option && option;
            !data && "destroy" == option || (data || $this.data("bs.popover", data = new Popover(this, options)), "string" == typeof option && data[option]())
        })
    }, $.fn.popover.Constructor = Popover, $.fn.popover.noConflict = function() {
        return $.fn.popover = old, this
    }
}(jQuery),
function($) {
    "use strict";

    function ScrollSpy(element, options) {
        var process = $.proxy(this.process, this);
        this.$body = $("body"), this.$scrollElement = $(element).is("body") ? $(window) : $(element), this.options = $.extend({}, ScrollSpy.DEFAULTS, options), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", process), this.refresh(), this.process()
    }

    function Plugin(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.scrollspy"),
                options = "object" == typeof option && option;
            data || $this.data("bs.scrollspy", data = new ScrollSpy(this, options)), "string" == typeof option && data[option]()
        })
    }
    ScrollSpy.VERSION = "3.3.2", ScrollSpy.DEFAULTS = {
        offset: 10
    }, ScrollSpy.prototype.getScrollHeight = function() {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }, ScrollSpy.prototype.refresh = function() {
        var offsetMethod = "offset",
            offsetBase = 0;
        $.isWindow(this.$scrollElement[0]) || (offsetMethod = "position", offsetBase = this.$scrollElement.scrollTop()), this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight();
        var self = this;
        this.$body.find(this.selector).map(function() {
            var $el = $(this),
                href = $el.data("target") || $el.attr("href"),
                $href = /^#./.test(href) && $(href);
            return $href && $href.length && $href.is(":visible") && [
                [$href[offsetMethod]().top + offsetBase, href]
            ] || null
        }).sort(function(a, b) {
            return a[0] - b[0]
        }).each(function() {
            self.offsets.push(this[0]), self.targets.push(this[1])
        })
    }, ScrollSpy.prototype.process = function() {
        var i, scrollTop = this.$scrollElement.scrollTop() + this.options.offset,
            scrollHeight = this.getScrollHeight(),
            maxScroll = this.options.offset + scrollHeight - this.$scrollElement.height(),
            offsets = this.offsets,
            targets = this.targets,
            activeTarget = this.activeTarget;
        if (this.scrollHeight != scrollHeight && this.refresh(), maxScroll <= scrollTop) return activeTarget != (i = targets[targets.length - 1]) && this.activate(i);
        if (activeTarget && scrollTop < offsets[0]) return this.activeTarget = null, this.clear();
        for (i = offsets.length; i--;) activeTarget != targets[i] && scrollTop >= offsets[i] && (!offsets[i + 1] || scrollTop <= offsets[i + 1]) && this.activate(targets[i])
    }, ScrollSpy.prototype.activate = function(target) {
        this.activeTarget = target, this.clear();
        var selector = this.selector + '[data-target="' + target + '"],' + this.selector + '[href="' + target + '"]',
            active = $(selector).parents("li").addClass("active");
        active.parent(".dropdown-menu").length && (active = active.closest("li.dropdown").addClass("active")), active.trigger("activate.bs.scrollspy")
    }, ScrollSpy.prototype.clear = function() {
        $(this.selector).parentsUntil(this.options.target, ".active").removeClass("active")
    };
    var old = $.fn.scrollspy;
    $.fn.scrollspy = Plugin, $.fn.scrollspy.Constructor = ScrollSpy, $.fn.scrollspy.noConflict = function() {
        return $.fn.scrollspy = old, this
    }, $(window).on("load.bs.scrollspy.data-api", function() {
        $('[data-spy="scroll"]').each(function() {
            var $spy = $(this);
            Plugin.call($spy, $spy.data())
        })
    })
}(jQuery),
function($) {
    "use strict";

    function Tab(element) {
        this.element = $(element)
    }

    function Plugin(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.tab");
            data || $this.data("bs.tab", data = new Tab(this)), "string" == typeof option && data[option]()
        })
    }
    Tab.VERSION = "3.3.2", Tab.TRANSITION_DURATION = 150, Tab.prototype.show = function() {
        var $this = this.element,
            $ul = $this.closest("ul:not(.dropdown-menu)"),
            selector = $this.data("target");
        if (selector || (selector = (selector = $this.attr("href")) && selector.replace(/.*(?=#[^\s]*$)/, "")), !$this.parent("li").hasClass("active")) {
            var $previous = $ul.find(".active:last a"),
                hideEvent = $.Event("hide.bs.tab", {
                    relatedTarget: $this[0]
                }),
                showEvent = $.Event("show.bs.tab", {
                    relatedTarget: $previous[0]
                });
            if ($previous.trigger(hideEvent), $this.trigger(showEvent), !showEvent.isDefaultPrevented() && !hideEvent.isDefaultPrevented()) {
                var $target = $(selector);
                this.activate($this.closest("li"), $ul), this.activate($target, $target.parent(), function() {
                    $previous.trigger({
                        type: "hidden.bs.tab",
                        relatedTarget: $this[0]
                    }), $this.trigger({
                        type: "shown.bs.tab",
                        relatedTarget: $previous[0]
                    })
                })
            }
        }
    }, Tab.prototype.activate = function(element, container, callback) {
        var $active = container.find("> .active"),
            transition = callback && $.support.transition && ($active.length && $active.hasClass("fade") || !!container.find("> .fade").length);

        function next() {
            $active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), transition ? (element[0].offsetWidth, element.addClass("in")) : element.removeClass("fade"), element.parent(".dropdown-menu") && element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), callback && callback()
        }
        $active.length && transition ? $active.one("bsTransitionEnd", next).emulateTransitionEnd(Tab.TRANSITION_DURATION) : next(), $active.removeClass("in")
    };
    var old = $.fn.tab;
    $.fn.tab = Plugin, $.fn.tab.Constructor = Tab, $.fn.tab.noConflict = function() {
        return $.fn.tab = old, this
    };

    function clickHandler(e) {
        e.preventDefault(), Plugin.call($(this), "show")
    }
    $(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', clickHandler).on("click.bs.tab.data-api", '[data-toggle="pill"]', clickHandler)
}(jQuery),
function($) {
    "use strict";
    var Affix = function(element, options) {
        this.options = $.extend({}, Affix.DEFAULTS, options), this.$target = $(this.options.target).on("scroll.bs.affix.data-api", $.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", $.proxy(this.checkPositionWithEventLoop, this)), this.$element = $(element), this.affixed = this.unpin = this.pinnedOffset = null, this.checkPosition()
    };

    function Plugin(option) {
        return this.each(function() {
            var $this = $(this),
                data = $this.data("bs.affix"),
                options = "object" == typeof option && option;
            data || $this.data("bs.affix", data = new Affix(this, options)), "string" == typeof option && data[option]()
        })
    }
    Affix.VERSION = "3.3.2", Affix.RESET = "affix affix-top affix-bottom", Affix.DEFAULTS = {
        offset: 0,
        target: window
    }, Affix.prototype.getState = function(scrollHeight, height, offsetTop, offsetBottom) {
        var scrollTop = this.$target.scrollTop(),
            position = this.$element.offset(),
            targetHeight = this.$target.height();
        if (null != offsetTop && "top" == this.affixed) return scrollTop < offsetTop && "top";
        if ("bottom" == this.affixed) return null != offsetTop ? !(scrollTop + this.unpin <= position.top) && "bottom" : !(scrollTop + targetHeight <= scrollHeight - offsetBottom) && "bottom";
        var initializing = null == this.affixed,
            colliderTop = initializing ? scrollTop : position.top;
        return null != offsetTop && scrollTop <= offsetTop ? "top" : null != offsetBottom && scrollHeight - offsetBottom <= colliderTop + (initializing ? targetHeight : height) && "bottom"
    }, Affix.prototype.getPinnedOffset = function() {
        if (this.pinnedOffset) return this.pinnedOffset;
        this.$element.removeClass(Affix.RESET).addClass("affix");
        var scrollTop = this.$target.scrollTop(),
            position = this.$element.offset();
        return this.pinnedOffset = position.top - scrollTop
    }, Affix.prototype.checkPositionWithEventLoop = function() {
        setTimeout($.proxy(this.checkPosition, this), 1)
    }, Affix.prototype.checkPosition = function() {
        if (this.$element.is(":visible")) {
            var height = this.$element.height(),
                offset = this.options.offset,
                offsetTop = offset.top,
                offsetBottom = offset.bottom,
                scrollHeight = $("body").height();
            "object" != typeof offset && (offsetBottom = offsetTop = offset), "function" == typeof offsetTop && (offsetTop = offset.top(this.$element)), "function" == typeof offsetBottom && (offsetBottom = offset.bottom(this.$element));
            var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom);
            if (this.affixed != affix) {
                null != this.unpin && this.$element.css("top", "");
                var affixType = "affix" + (affix ? "-" + affix : ""),
                    e = $.Event(affixType + ".bs.affix");
                if (this.$element.trigger(e), e.isDefaultPrevented()) return;
                this.affixed = affix, this.unpin = "bottom" == affix ? this.getPinnedOffset() : null, this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix", "affixed") + ".bs.affix")
            }
            "bottom" == affix && this.$element.offset({
                top: scrollHeight - height - offsetBottom
            })
        }
    };
    var old = $.fn.affix;
    $.fn.affix = Plugin, $.fn.affix.Constructor = Affix, $.fn.affix.noConflict = function() {
        return $.fn.affix = old, this
    }, $(window).on("load", function() {
        $('[data-spy="affix"]').each(function() {
            var $spy = $(this),
                data = $spy.data();
            data.offset = data.offset || {}, null != data.offsetBottom && (data.offset.bottom = data.offsetBottom), null != data.offsetTop && (data.offset.top = data.offsetTop), Plugin.call($spy, data)
        })
    })
}(jQuery), define("bootstrap", ["jquery"], function() {}), UUIDjs.maxFromBits = function(bits) {
        return Math.pow(2, bits)
    }, UUIDjs.limitUI04 = UUIDjs.maxFromBits(4), UUIDjs.limitUI06 = UUIDjs.maxFromBits(6), UUIDjs.limitUI08 = UUIDjs.maxFromBits(8), UUIDjs.limitUI12 = UUIDjs.maxFromBits(12), UUIDjs.limitUI14 = UUIDjs.maxFromBits(14), UUIDjs.limitUI16 = UUIDjs.maxFromBits(16), UUIDjs.limitUI32 = UUIDjs.maxFromBits(32), UUIDjs.limitUI40 = UUIDjs.maxFromBits(40), UUIDjs.limitUI48 = UUIDjs.maxFromBits(48), UUIDjs.randomUI04 = function() {
        return getRandomInt(0, UUIDjs.limitUI04 - 1)
    }, UUIDjs.randomUI06 = function() {
        return getRandomInt(0, UUIDjs.limitUI06 - 1)
    }, UUIDjs.randomUI08 = function() {
        return getRandomInt(0, UUIDjs.limitUI08 - 1)
    }, UUIDjs.randomUI12 = function() {
        return getRandomInt(0, UUIDjs.limitUI12 - 1)
    }, UUIDjs.randomUI14 = function() {
        return getRandomInt(0, UUIDjs.limitUI14 - 1)
    }, UUIDjs.randomUI16 = function() {
        return getRandomInt(0, UUIDjs.limitUI16 - 1)
    }, UUIDjs.randomUI32 = function() {
        return getRandomInt(0, UUIDjs.limitUI32 - 1)
    }, UUIDjs.randomUI40 = function() {
        return (0 | Math.random() * (1 << 30)) + (0 | 1024 * Math.random()) * (1 << 30)
    }, UUIDjs.randomUI48 = function() {
        return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << 18)) * (1 << 30)
    }, UUIDjs.paddedString = function(string, length, z) {
        z = z || "0";
        for (var i = length - (string = String(string)).length; 0 < i; i >>>= 1, z += z) 1 & i && (string = z + string);
        return string
    }, UUIDjs.prototype.fromParts = function(timeLow, timeMid, timeHiAndVersion, clockSeqHiAndReserved, clockSeqLow, node) {
        return this.version = timeHiAndVersion >> 12 & 15, this.hex = UUIDjs.paddedString(timeLow.toString(16), 8) + "-" + UUIDjs.paddedString(timeMid.toString(16), 4) + "-" + UUIDjs.paddedString(timeHiAndVersion.toString(16), 4) + "-" + UUIDjs.paddedString(clockSeqHiAndReserved.toString(16), 2) + UUIDjs.paddedString(clockSeqLow.toString(16), 2) + "-" + UUIDjs.paddedString(node.toString(16), 12), this
    }, UUIDjs.prototype.toString = function() {
        return this.hex
    }, UUIDjs.prototype.toURN = function() {
        return "urn:uuid:" + this.hex
    }, UUIDjs.prototype.toBytes = function() {
        for (var parts = this.hex.split("-"), ints = [], intPos = 0, i = 0; i < parts.length; i++)
            for (var j = 0; j < parts[i].length; j += 2) ints[intPos++] = parseInt(parts[i].substr(j, 2), 16);
        return ints
    }, UUIDjs.prototype.equals = function(uuid) {
        return uuid instanceof UUID && this.hex === uuid.hex
    }, UUIDjs.getTimeFieldValues = function(time) {
        var ts = time - Date.UTC(1582, 9, 15),
            hm = ts / 4294967296 * 1e4 & 268435455;
        return {
            low: 1e4 * (268435455 & ts) % 4294967296,
            mid: 65535 & hm,
            hi: hm >>> 16,
            timestamp: ts
        }
    }, UUIDjs._create4 = function() {
        return (new UUIDjs).fromParts(UUIDjs.randomUI32(), UUIDjs.randomUI16(), 16384 | UUIDjs.randomUI12(), 128 | UUIDjs.randomUI06(), UUIDjs.randomUI08(), UUIDjs.randomUI48())
    }, UUIDjs._create1 = function() {
        var now = (new Date).getTime(),
            sequence = UUIDjs.randomUI14(),
            node = 1099511627776 * (1 | UUIDjs.randomUI08()) + UUIDjs.randomUI40(),
            tick = UUIDjs.randomUI04(),
            timestamp = 0;
        now != timestamp ? (now < timestamp && sequence++, timestamp = now, tick = UUIDjs.randomUI04()) : Math.random() < .25 && tick < 9984 ? tick += 1 + UUIDjs.randomUI04() : sequence++;
        var tf = UUIDjs.getTimeFieldValues(timestamp),
            tl = tf.low + tick,
            thav = 4095 & tf.hi | 4096,
            cshar = (sequence &= 16383) >>> 8 | 128,
            csl = 255 & sequence;
        return (new UUIDjs).fromParts(tl, tf.mid, thav, cshar, csl, node)
    }, UUIDjs.create = function(version) {
        return this["_create" + (version = version || 4)]()
    }, UUIDjs.fromTime = function(time, last) {
        last = last || !1;
        var tf = UUIDjs.getTimeFieldValues(time),
            tl = tf.low,
            thav = 4095 & tf.hi | 4096;
        return !1 === last ? (new UUIDjs).fromParts(tl, tf.mid, thav, 0, 0, 0) : (new UUIDjs).fromParts(tl, tf.mid, thav, 128 | UUIDjs.limitUI06, UUIDjs.limitUI08 - 1, UUIDjs.limitUI48 - 1)
    }, UUIDjs.firstFromTime = function(time) {
        return UUIDjs.fromTime(time, !1)
    }, UUIDjs.lastFromTime = function(time) {
        return UUIDjs.fromTime(time, !0)
    }, UUIDjs.fromURN = function(strId) {
        var r;
        return (r = /^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(strId)) ? (new UUIDjs).fromParts(parseInt(r[1], 16), parseInt(r[2], 16), parseInt(r[3], 16), parseInt(r[4], 16), parseInt(r[5], 16), parseInt(r[6], 16)) : null
    }, UUIDjs.fromBytes = function(ints) {
        if (ints.length < 5) return null;
        for (var str = "", pos = 0, parts = [4, 2, 2, 2, 6], i = 0; i < parts.length; i++) {
            for (var j = 0; j < parts[i]; j++) {
                var octet = ints[pos++].toString(16);
                1 == octet.length && (octet = "0" + octet), str += octet
            }
            6 !== parts[i] && (str += "-")
        }
        return UUIDjs.fromURN(str)
    }, UUIDjs.fromBinary = function(binary) {
        for (var ints = [], i = 0; i < binary.length; i++)
            if (ints[i] = binary.charCodeAt(i), 255 < ints[i] || ints[i] < 0) throw new Error("Unexpected byte in binary data.");
        return UUIDjs.fromBytes(ints)
    }, UUIDjs.new = function() {
        return this.create(4)
    }, UUIDjs.newTS = function() {
        return this.create(1)
    }, define("uuid", function() {}),
    function(a) {
        "use strict";

        function b(a, b) {
            var c = (65535 & a) + (65535 & b);
            return (a >> 16) + (b >> 16) + (c >> 16) << 16 | 65535 & c
        }

        function d(a, d, e, f, g, h) {
            return b(function(a, b) {
                return a << b | a >>> 32 - b
            }(b(b(d, a), b(f, h)), g), e)
        }

        function e(a, b, c, e, f, g, h) {
            return d(b & c | ~b & e, a, b, f, g, h)
        }

        function f(a, b, c, e, f, g, h) {
            return d(b & e | c & ~e, a, b, f, g, h)
        }

        function g(a, b, c, e, f, g, h) {
            return d(b ^ c ^ e, a, b, f, g, h)
        }

        function h(a, b, c, e, f, g, h) {
            return d(c ^ (b | ~e), a, b, f, g, h)
        }

        function i(a, c) {
            a[c >> 5] |= 128 << c % 32, a[14 + (c + 64 >>> 9 << 4)] = c;
            var d, i, j, k, l, m = 1732584193,
                n = -271733879,
                o = -1732584194,
                p = 271733878;
            for (d = 0; d < a.length; d += 16) n = h(n = h(n = h(n = h(n = g(n = g(n = g(n = g(n = f(n = f(n = f(n = f(n = e(n = e(n = e(n = e(j = n, o = e(k = o, p = e(l = p, m = e(i = m, n, o, p, a[d], 7, -680876936), n, o, a[d + 1], 12, -389564586), m, n, a[d + 2], 17, 606105819), p, m, a[d + 3], 22, -1044525330), o = e(o, p = e(p, m = e(m, n, o, p, a[d + 4], 7, -176418897), n, o, a[d + 5], 12, 1200080426), m, n, a[d + 6], 17, -1473231341), p, m, a[d + 7], 22, -45705983), o = e(o, p = e(p, m = e(m, n, o, p, a[d + 8], 7, 1770035416), n, o, a[d + 9], 12, -1958414417), m, n, a[d + 10], 17, -42063), p, m, a[d + 11], 22, -1990404162), o = e(o, p = e(p, m = e(m, n, o, p, a[d + 12], 7, 1804603682), n, o, a[d + 13], 12, -40341101), m, n, a[d + 14], 17, -1502002290), p, m, a[d + 15], 22, 1236535329), o = f(o, p = f(p, m = f(m, n, o, p, a[d + 1], 5, -165796510), n, o, a[d + 6], 9, -1069501632), m, n, a[d + 11], 14, 643717713), p, m, a[d], 20, -373897302), o = f(o, p = f(p, m = f(m, n, o, p, a[d + 5], 5, -701558691), n, o, a[d + 10], 9, 38016083), m, n, a[d + 15], 14, -660478335), p, m, a[d + 4], 20, -405537848), o = f(o, p = f(p, m = f(m, n, o, p, a[d + 9], 5, 568446438), n, o, a[d + 14], 9, -1019803690), m, n, a[d + 3], 14, -187363961), p, m, a[d + 8], 20, 1163531501), o = f(o, p = f(p, m = f(m, n, o, p, a[d + 13], 5, -1444681467), n, o, a[d + 2], 9, -51403784), m, n, a[d + 7], 14, 1735328473), p, m, a[d + 12], 20, -1926607734), o = g(o, p = g(p, m = g(m, n, o, p, a[d + 5], 4, -378558), n, o, a[d + 8], 11, -2022574463), m, n, a[d + 11], 16, 1839030562), p, m, a[d + 14], 23, -35309556), o = g(o, p = g(p, m = g(m, n, o, p, a[d + 1], 4, -1530992060), n, o, a[d + 4], 11, 1272893353), m, n, a[d + 7], 16, -155497632), p, m, a[d + 10], 23, -1094730640), o = g(o, p = g(p, m = g(m, n, o, p, a[d + 13], 4, 681279174), n, o, a[d], 11, -358537222), m, n, a[d + 3], 16, -722521979), p, m, a[d + 6], 23, 76029189), o = g(o, p = g(p, m = g(m, n, o, p, a[d + 9], 4, -640364487), n, o, a[d + 12], 11, -421815835), m, n, a[d + 15], 16, 530742520), p, m, a[d + 2], 23, -995338651), o = h(o, p = h(p, m = h(m, n, o, p, a[d], 6, -198630844), n, o, a[d + 7], 10, 1126891415), m, n, a[d + 14], 15, -1416354905), p, m, a[d + 5], 21, -57434055), o = h(o, p = h(p, m = h(m, n, o, p, a[d + 12], 6, 1700485571), n, o, a[d + 3], 10, -1894986606), m, n, a[d + 10], 15, -1051523), p, m, a[d + 1], 21, -2054922799), o = h(o, p = h(p, m = h(m, n, o, p, a[d + 8], 6, 1873313359), n, o, a[d + 15], 10, -30611744), m, n, a[d + 6], 15, -1560198380), p, m, a[d + 13], 21, 1309151649), o = h(o, p = h(p, m = h(m, n, o, p, a[d + 4], 6, -145523070), n, o, a[d + 11], 10, -1120210379), m, n, a[d + 2], 15, 718787259), p, m, a[d + 9], 21, -343485551), m = b(m, i), n = b(n, j), o = b(o, k), p = b(p, l);
            return [m, n, o, p]
        }

        function j(a) {
            var b, c = "";
            for (b = 0; b < 32 * a.length; b += 8) c += String.fromCharCode(a[b >> 5] >>> b % 32 & 255);
            return c
        }

        function k(a) {
            var b, c = [];
            for (c[(a.length >> 2) - 1] = void 0, b = 0; b < c.length; b += 1) c[b] = 0;
            for (b = 0; b < 8 * a.length; b += 8) c[b >> 5] |= (255 & a.charCodeAt(b / 8)) << b % 32;
            return c
        }

        function n(a) {
            var b, c, d = "0123456789abcdef",
                e = "";
            for (c = 0; c < a.length; c += 1) b = a.charCodeAt(c), e += d.charAt(b >>> 4 & 15) + d.charAt(15 & b);
            return e
        }

        function o(a) {
            return unescape(encodeURIComponent(a))
        }

        function p(a) {
            return function(a) {
                return j(i(k(a), 8 * a.length))
            }(o(a))
        }

        function r(a, b) {
            return function(a, b) {
                var c, d, e = k(a),
                    f = [],
                    g = [];
                for (f[15] = g[15] = void 0, 16 < e.length && (e = i(e, 8 * a.length)), c = 0; c < 16; c += 1) f[c] = 909522486 ^ e[c], g[c] = 1549556828 ^ e[c];
                return d = i(f.concat(k(b)), 512 + 8 * b.length), j(i(g.concat(d), 640))
            }(o(a), o(b))
        }

        function t(a, b, c) {
            return b ? c ? r(b, a) : function(a, b) {
                return n(r(a, b))
            }(b, a) : c ? p(a) : function(a) {
                return n(p(a))
            }(a)
        }
        "function" == typeof define && define.amd ? define("md5", [], function() {
            return t
        }) : a.md5 = t
    }(this),
    function(D) {
        function n(c, b, g) {
            var a = 0,
                d = [0],
                e = "",
                f = null;
            if ("UTF8" !== (e = g || "UTF8") && "UTF16BE" !== e && "UTF16LE" !== e) throw "encoding must be UTF8, UTF16BE, or UTF16LE";
            if ("HEX" === b) {
                if (0 != c.length % 2) throw "srcString of HEX type must be in byte increments";
                f = v(c), a = f.binLen, d = f.value
            } else if ("TEXT" === b || "ASCII" === b) f = w(c, e), a = f.binLen, d = f.value;
            else if ("B64" === b) f = x(c), a = f.binLen, d = f.value;
            else {
                if ("BYTES" !== b) throw "inputFormat must be HEX, TEXT, ASCII, B64, or BYTES";
                f = y(c), a = f.binLen, d = f.value
            }
            this.getHash = function(c, b, e, g) {
                var p, f = null,
                    h = d.slice(),
                    m = a;
                if (3 === arguments.length ? "number" != typeof e && (g = e, e = 1) : 2 === arguments.length && (e = 1), e !== parseInt(e, 10) || e < 1) throw "numRounds must a integer >= 1";
                switch (b) {
                    case "HEX":
                        f = z;
                        break;
                    case "B64":
                        f = A;
                        break;
                    case "BYTES":
                        f = B;
                        break;
                    default:
                        throw "format must be HEX, B64, or BYTES"
                }
                if ("SHA-1" !== c) throw "Chosen SHA variant is not supported";
                for (p = 0; p < e; p += 1) h = t(h, m), m = 160;
                return f(h, C(g))
            }, this.getHMAC = function(c, b, f, g, r) {
                var h, m, p, s, n = [],
                    u = [];
                switch (h = null, g) {
                    case "HEX":
                        g = z;
                        break;
                    case "B64":
                        g = A;
                        break;
                    case "BYTES":
                        g = B;
                        break;
                    default:
                        throw "outputFormat must be HEX, B64, or BYTES"
                }
                if ("SHA-1" !== f) throw "Chosen SHA variant is not supported";
                if (m = 64, s = 160, "HEX" === b) p = (h = v(c)).binLen, h = h.value;
                else if ("TEXT" === b || "ASCII" === b) p = (h = w(c, e)).binLen, h = h.value;
                else if ("B64" === b) p = (h = x(c)).binLen, h = h.value;
                else {
                    if ("BYTES" !== b) throw "inputFormat must be HEX, TEXT, ASCII, B64, or BYTES";
                    p = (h = y(c)).binLen, h = h.value
                }
                if (c = 8 * m, b = m / 4 - 1, m < p / 8) {
                    if ("SHA-1" !== f) throw "Unexpected error in HMAC implementation";
                    for (h = t(h, p); h.length <= b;) h.push(0);
                    h[b] &= 4294967040
                } else if (p / 8 < m) {
                    for (; h.length <= b;) h.push(0);
                    h[b] &= 4294967040
                }
                for (m = 0; m <= b; m += 1) n[m] = 909522486 ^ h[m], u[m] = 1549556828 ^ h[m];
                if ("SHA-1" !== f) throw "Unexpected error in HMAC implementation";
                return g(f = t(u.concat(t(n.concat(d), c + a)), c + s), C(r))
            }
        }

        function w(c, b) {
            var a, f, k, q, g = [],
                d = [],
                e = 0;
            if ("UTF8" === b)
                for (f = 0; f < c.length; f += 1)
                    for (d = [], (a = c.charCodeAt(f)) < 128 ? d.push(a) : a < 2048 ? (d.push(192 | a >>> 6), d.push(128 | 63 & a)) : a < 55296 || 57344 <= a ? d.push(224 | a >>> 12, 128 | a >>> 6 & 63, 128 | 63 & a) : (f += 1, a = 65536 + ((1023 & a) << 10 | 1023 & c.charCodeAt(f)), d.push(240 | a >>> 18, 128 | a >>> 12 & 63, 128 | a >>> 6 & 63, 128 | 63 & a)), k = 0; k < d.length; k += 1) {
                        for (q = e >>> 2; g.length <= q;) g.push(0);
                        g[q] |= d[k] << 24 - e % 4 * 8, e += 1
                    } else if ("UTF16BE" === b || "UTF16LE" === b)
                        for (f = 0; f < c.length; f += 1) {
                            for (a = c.charCodeAt(f), "UTF16LE" === b && (a = (k = 255 & a) << 8 | a >> 8), q = e >>> 2; g.length <= q;) g.push(0);
                            g[q] |= a << 16 - e % 4 * 8, e += 2
                        }
            return {
                value: g,
                binLen: 8 * e
            }
        }

        function v(c) {
            var a, d, e, b = [],
                g = c.length;
            if (0 != g % 2) throw "String of HEX type must be in byte increments";
            for (a = 0; a < g; a += 2) {
                if (d = parseInt(c.substr(a, 2), 16), isNaN(d)) throw "String of HEX type contains invalid characters";
                for (e = a >>> 3; b.length <= e;) b.push(0);
                b[a >>> 3] |= d << 24 - a % 8 * 4
            }
            return {
                value: b,
                binLen: 4 * g
            }
        }

        function y(c) {
            var g, a, d, b = [];
            for (a = 0; a < c.length; a += 1) g = c.charCodeAt(a), d = a >>> 2, b.length <= d && b.push(0), b[d] |= g << 24 - a % 4 * 8;
            return {
                value: b,
                binLen: 8 * c.length
            }
        }

        function x(c) {
            var a, d, e, f, k, b = [],
                g = 0;
            if (-1 === c.search(/^[a-zA-Z0-9=+\/]+$/)) throw "Invalid character in base-64 string";
            if (d = c.indexOf("="), c = c.replace(/\=/g, ""), -1 !== d && d < c.length) throw "Invalid '=' found in base-64 string";
            for (d = 0; d < c.length; d += 4) {
                for (k = c.substr(d, 4), e = f = 0; e < k.length; e += 1) f |= (a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(k[e])) << 18 - 6 * e;
                for (e = 0; e < k.length - 1; e += 1) {
                    for (a = g >>> 2; b.length <= a;) b.push(0);
                    b[a] |= (f >>> 16 - 8 * e & 255) << 24 - g % 4 * 8, g += 1
                }
            }
            return {
                value: b,
                binLen: 8 * g
            }
        }

        function z(c, b) {
            var d, e, g = "",
                a = 4 * c.length;
            for (d = 0; d < a; d += 1) e = c[d >>> 2] >>> 8 * (3 - d % 4), g += "0123456789abcdef".charAt(e >>> 4 & 15) + "0123456789abcdef".charAt(15 & e);
            return b.outputUpper ? g.toUpperCase() : g
        }

        function A(c, b) {
            var d, e, f, g = "",
                a = 4 * c.length;
            for (d = 0; d < a; d += 3)
                for (f = d + 1 >>> 2, e = c.length <= f ? 0 : c[f], f = d + 2 >>> 2, f = c.length <= f ? 0 : c[f], f = (c[d >>> 2] >>> 8 * (3 - d % 4) & 255) << 16 | (e >>> 8 * (3 - (d + 1) % 4) & 255) << 8 | f >>> 8 * (3 - (d + 2) % 4) & 255, e = 0; e < 4; e += 1) g = 8 * d + 6 * e <= 32 * c.length ? g + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f >>> 6 * (3 - e) & 63) : g + b.b64Pad;
            return g
        }

        function B(c) {
            var a, d, b = "",
                g = 4 * c.length;
            for (a = 0; a < g; a += 1) d = c[a >>> 2] >>> 8 * (3 - a % 4) & 255, b += String.fromCharCode(d);
            return b
        }

        function C(c) {
            var b = {
                outputUpper: !1,
                b64Pad: "="
            };
            try {
                c.hasOwnProperty("outputUpper") && (b.outputUpper = c.outputUpper), c.hasOwnProperty("b64Pad") && (b.b64Pad = c.b64Pad)
            } catch (g) {}
            if ("boolean" != typeof b.outputUpper) throw "Invalid outputUpper formatting option";
            if ("string" != typeof b.b64Pad) throw "Invalid b64Pad formatting option";
            return b
        }

        function r(c, b) {
            return c << b | c >>> 32 - b
        }

        function s(c, b) {
            var g = (65535 & c) + (65535 & b);
            return ((c >>> 16) + (b >>> 16) + (g >>> 16) & 65535) << 16 | 65535 & g
        }

        function u(c, b, g, a, d) {
            var e = (65535 & c) + (65535 & b) + (65535 & g) + (65535 & a) + (65535 & d);
            return ((c >>> 16) + (b >>> 16) + (g >>> 16) + (a >>> 16) + (d >>> 16) + (e >>> 16) & 65535) << 16 | 65535 & e
        }

        function t(c, b) {
            var a, d, e, f, k, q, n, l, t, g = [],
                h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
            for (a = 15 + (b + 65 >>> 9 << 4); c.length <= a;) c.push(0);
            for (c[b >>> 5] |= 128 << 24 - b % 32, c[a] = b, t = c.length, n = 0; n < t; n += 16) {
                for (a = h[0], d = h[1], e = h[2], f = h[3], k = h[4], l = 0; l < 80; l += 1) g[l] = l < 16 ? c[l + n] : r(g[l - 3] ^ g[l - 8] ^ g[l - 14] ^ g[l - 16], 1), q = l < 20 ? u(r(a, 5), d & e ^ ~d & f, k, 1518500249, g[l]) : l < 40 ? u(r(a, 5), d ^ e ^ f, k, 1859775393, g[l]) : l < 60 ? u(r(a, 5), d & e ^ d & f ^ e & f, k, 2400959708, g[l]) : u(r(a, 5), d ^ e ^ f, k, 3395469782, g[l]), k = f, f = e, e = r(d, 30), d = a, a = q;
                h[0] = s(a, h[0]), h[1] = s(d, h[1]), h[2] = s(e, h[2]), h[3] = s(f, h[3]), h[4] = s(k, h[4])
            }
            return h
        }
        "function" == typeof define && define.amd ? define("sha1", [], function() {
            return n
        }) : "undefined" != typeof exports ? "undefined" != typeof module && module.exports ? module.exports = exports = n : exports = n : D.jsSHA = n
    }(this),
    function(a) {
        if ("object" == typeof exports) module.exports = a();
        else if ("function" == typeof define && define.amd) define("Proj4js", a);
        else {
            var b;
            "undefined" != typeof window ? b = window : "undefined" != typeof global ? b = global : "undefined" != typeof self && (b = self), b.proj4 = a()
        }
    }(function() {
        return function a(b, c, d) {
            function e(g, h) {
                if (!c[g]) {
                    if (!b[g]) {
                        var i = "function" == typeof require && require;
                        if (!h && i) return i(g, !0);
                        if (f) return f(g, !0);
                        throw new Error("Cannot find module '" + g + "'")
                    }
                    var j = c[g] = {
                        exports: {}
                    };
                    b[g][0].call(j.exports, function(a) {
                        var c = b[g][1][a];
                        return e(c || a)
                    }, j, j.exports, a, b, c, d)
                }
                return c[g].exports
            }
            for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]);
            return e
        }({
            1: [function(a, b) {
                function Point(a, b, c) {
                    if (!(this instanceof Point)) return new Point(a, b, c);
                    if (Array.isArray(a)) this.x = a[0], this.y = a[1], this.z = a[2] || 0;
                    else if ("object" == typeof a) this.x = a.x, this.y = a.y, this.z = a.z || 0;
                    else if ("string" == typeof a && void 0 === b) {
                        var d = a.split(",");
                        this.x = parseFloat(d[0], 10), this.y = parseFloat(d[1], 10), this.z = parseFloat(d[2], 10) || 0
                    } else this.x = a, this.y = b, this.z = c || 0;
                    console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")
                }
                var c = a("mgrs");
                Point.fromMGRS = function(a) {
                    return new Point(c.toPoint(a))
                }, Point.prototype.toMGRS = function(a) {
                    return c.forward([this.x, this.y], a)
                }, b.exports = Point
            }, {
                mgrs: 66
            }],
            2: [function(a, b) {
                function Projection(a, b) {
                    if (!(this instanceof Projection)) return new Projection(a);
                    b = b || function(a) {
                        if (a) throw a
                    };
                    var e = c(a);
                    if ("object" == typeof e) {
                        var g = f(e),
                            h = Projection.projections.get(g.projName);
                        h ? (d(this, g), d(this, h), this.init(), b(null, this)) : b(a)
                    } else b(a)
                }
                var c = a("./parseCode"),
                    d = a("./extend"),
                    e = a("./projections"),
                    f = a("./deriveConstants");
                (Projection.projections = e).start(), b.exports = Projection
            }, {
                "./deriveConstants": 32,
                "./extend": 33,
                "./parseCode": 36,
                "./projections": 38
            }],
            3: [function(a, b) {
                b.exports = function(a, b, c) {
                    var d, e, f, g = c.x,
                        h = c.y,
                        i = c.z || 0;
                    for (f = 0; f < 3; f++)
                        if (!b || 2 !== f || void 0 !== c.z) switch (e = 0 === f ? (d = g, "x") : 1 === f ? (d = h, "y") : (d = i, "z"), a.axis[f]) {
                            case "e":
                                c[e] = d;
                                break;
                            case "w":
                                c[e] = -d;
                                break;
                            case "n":
                                c[e] = d;
                                break;
                            case "s":
                                c[e] = -d;
                                break;
                            case "u":
                                void 0 !== c[e] && (c.z = d);
                                break;
                            case "d":
                                void 0 !== c[e] && (c.z = -d);
                                break;
                            default:
                                return null
                        }
                    return c
                }
            }, {}],
            4: [function(a, b) {
                var c = Math.PI / 2,
                    d = a("./sign");
                b.exports = function(a) {
                    return Math.abs(a) < c ? a : a - d(a) * Math.PI
                }
            }, {
                "./sign": 21
            }],
            5: [function(a, b) {
                var c = 2 * Math.PI,
                    d = a("./sign");
                b.exports = function(a) {
                    return Math.abs(a) < Math.PI ? a : a - d(a) * c
                }
            }, {
                "./sign": 21
            }],
            6: [function(a, b) {
                b.exports = function(a) {
                    return 1 < Math.abs(a) && (a = 1 < a ? 1 : -1), Math.asin(a)
                }
            }, {}],
            7: [function(a, b) {
                b.exports = function(a) {
                    return 1 - .25 * a * (1 + a / 16 * (3 + 1.25 * a))
                }
            }, {}],
            8: [function(a, b) {
                b.exports = function(a) {
                    return .375 * a * (1 + .25 * a * (1 + .46875 * a))
                }
            }, {}],
            9: [function(a, b) {
                b.exports = function(a) {
                    return .05859375 * a * a * (1 + .75 * a)
                }
            }, {}],
            10: [function(a, b) {
                b.exports = function(a) {
                    return a * a * a * (35 / 3072)
                }
            }, {}],
            11: [function(a, b) {
                b.exports = function(a, b, c) {
                    var d = b * c;
                    return a / Math.sqrt(1 - d * d)
                }
            }, {}],
            12: [function(a, b) {
                b.exports = function(a, b, c, d, e) {
                    var f, g;
                    f = a / b;
                    for (var h = 0; h < 15; h++)
                        if (f += g = (a - (b * f - c * Math.sin(2 * f) + d * Math.sin(4 * f) - e * Math.sin(6 * f))) / (b - 2 * c * Math.cos(2 * f) + 4 * d * Math.cos(4 * f) - 6 * e * Math.cos(6 * f)), Math.abs(g) <= 1e-10) return f;
                    return NaN
                }
            }, {}],
            13: [function(a, b) {
                var c = Math.PI / 2;
                b.exports = function(a, b) {
                    var d = 1 - (1 - a * a) / (2 * a) * Math.log((1 - a) / (1 + a));
                    if (Math.abs(Math.abs(b) - d) < 1e-6) return b < 0 ? -1 * c : c;
                    for (var e, f, g, h, i = Math.asin(.5 * b), j = 0; j < 30; j++)
                        if (f = Math.sin(i), g = Math.cos(i), h = a * f, i += e = Math.pow(1 - h * h, 2) / (2 * g) * (b / (1 - a * a) - f / (1 - h * h) + .5 / a * Math.log((1 - h) / (1 + h))), Math.abs(e) <= 1e-10) return i;
                    return NaN
                }
            }, {}],
            14: [function(a, b) {
                b.exports = function(a, b, c, d, e) {
                    return a * e - b * Math.sin(2 * e) + c * Math.sin(4 * e) - d * Math.sin(6 * e)
                }
            }, {}],
            15: [function(a, b) {
                b.exports = function(a, b, c) {
                    var d = a * b;
                    return c / Math.sqrt(1 - d * d)
                }
            }, {}],
            16: [function(a, b) {
                var c = Math.PI / 2;
                b.exports = function(a, b) {
                    for (var d, e, f = .5 * a, g = c - 2 * Math.atan(b), h = 0; h <= 15; h++)
                        if (d = a * Math.sin(g), g += e = c - 2 * Math.atan(b * Math.pow((1 - d) / (1 + d), f)) - g, Math.abs(e) <= 1e-10) return g;
                    return -9999
                }
            }, {}],
            17: [function(a, b) {
                var e = .046875,
                    f = .01953125,
                    g = .01068115234375;
                b.exports = function(a) {
                    var b = [];
                    b[0] = 1 - a * (.25 + a * (e + a * (f + a * g))), b[1] = a * (.75 - a * (e + a * (f + a * g)));
                    var o = a * a;
                    return b[2] = o * (.46875 - a * (.013020833333333334 + .007120768229166667 * a)), o *= a, b[3] = o * (.3645833333333333 - .005696614583333333 * a), b[4] = o * a * .3076171875, b
                }
            }, {}],
            18: [function(a, b) {
                var c = a("./pj_mlfn");
                b.exports = function(a, b, f) {
                    for (var g = 1 / (1 - b), h = a, i = 20; i; --i) {
                        var j = Math.sin(h),
                            k = 1 - b * j * j;
                        if (h -= k = (c(h, j, Math.cos(h), f) - a) * k * Math.sqrt(k) * g, Math.abs(k) < 1e-10) return h
                    }
                    return h
                }
            }, {
                "./pj_mlfn": 19
            }],
            19: [function(a, b) {
                b.exports = function(a, b, c, d) {
                    return c *= b, b *= b, d[0] * a - c * (d[1] + b * (d[2] + b * (d[3] + b * d[4])))
                }
            }, {}],
            20: [function(a, b) {
                b.exports = function(a, b) {
                    var c;
                    return 1e-7 < a ? (1 - a * a) * (b / (1 - (c = a * b) * c) - .5 / a * Math.log((1 - c) / (1 + c))) : 2 * b
                }
            }, {}],
            21: [function(a, b) {
                b.exports = function(a) {
                    return a < 0 ? -1 : 1
                }
            }, {}],
            22: [function(a, b) {
                b.exports = function(a, b) {
                    return Math.pow((1 - a) / (1 + a), b)
                }
            }, {}],
            23: [function(a, b) {
                b.exports = function(a) {
                    var b = {
                        x: a[0],
                        y: a[1]
                    };
                    return 2 < a.length && (b.z = a[2]), 3 < a.length && (b.m = a[3]), b
                }
            }, {}],
            24: [function(a, b) {
                var c = Math.PI / 2;
                b.exports = function(a, b, d) {
                    var e = a * d,
                        f = .5 * a;
                    return e = Math.pow((1 - e) / (1 + e), f), Math.tan(.5 * (c - b)) / e
                }
            }, {}],
            25: [function(a, b, c) {
                c.wgs84 = {
                    towgs84: "0,0,0",
                    ellipse: "WGS84",
                    datumName: "WGS84"
                }, c.ch1903 = {
                    towgs84: "674.374,15.056,405.346",
                    ellipse: "bessel",
                    datumName: "swiss"
                }, c.ggrs87 = {
                    towgs84: "-199.87,74.79,246.62",
                    ellipse: "GRS80",
                    datumName: "Greek_Geodetic_Reference_System_1987"
                }, c.nad83 = {
                    towgs84: "0,0,0",
                    ellipse: "GRS80",
                    datumName: "North_American_Datum_1983"
                }, c.nad27 = {
                    nadgrids: "@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",
                    ellipse: "clrk66",
                    datumName: "North_American_Datum_1927"
                }, c.potsdam = {
                    towgs84: "606.0,23.0,413.0",
                    ellipse: "bessel",
                    datumName: "Potsdam Rauenberg 1950 DHDN"
                }, c.carthage = {
                    towgs84: "-263.0,6.0,431.0",
                    ellipse: "clark80",
                    datumName: "Carthage 1934 Tunisia"
                }, c.hermannskogel = {
                    towgs84: "653.0,-212.0,449.0",
                    ellipse: "bessel",
                    datumName: "Hermannskogel"
                }, c.ire65 = {
                    towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
                    ellipse: "mod_airy",
                    datumName: "Ireland 1965"
                }, c.rassadiran = {
                    towgs84: "-133.63,-157.5,-158.62",
                    ellipse: "intl",
                    datumName: "Rassadiran"
                }, c.nzgd49 = {
                    towgs84: "59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",
                    ellipse: "intl",
                    datumName: "New Zealand Geodetic Datum 1949"
                }, c.osgb36 = {
                    towgs84: "446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
                    ellipse: "airy",
                    datumName: "Airy 1830"
                }, c.s_jtsk = {
                    towgs84: "589,76,480",
                    ellipse: "bessel",
                    datumName: "S-JTSK (Ferro)"
                }, c.beduaram = {
                    towgs84: "-106,-87,188",
                    ellipse: "clrk80",
                    datumName: "Beduaram"
                }, c.gunung_segara = {
                    towgs84: "-403,684,41",
                    ellipse: "bessel",
                    datumName: "Gunung Segara Jakarta"
                }, c.rnb72 = {
                    towgs84: "106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",
                    ellipse: "intl",
                    datumName: "Reseau National Belge 1972"
                }
            }, {}],
            26: [function(a, b, c) {
                c.MERIT = {
                    a: 6378137,
                    rf: 298.257,
                    ellipseName: "MERIT 1983"
                }, c.SGS85 = {
                    a: 6378136,
                    rf: 298.257,
                    ellipseName: "Soviet Geodetic System 85"
                }, c.GRS80 = {
                    a: 6378137,
                    rf: 298.257222101,
                    ellipseName: "GRS 1980(IUGG, 1980)"
                }, c.IAU76 = {
                    a: 6378140,
                    rf: 298.257,
                    ellipseName: "IAU 1976"
                }, c.airy = {
                    a: 6377563.396,
                    b: 6356256.91,
                    ellipseName: "Airy 1830"
                }, c.APL4 = {
                    a: 6378137,
                    rf: 298.25,
                    ellipseName: "Appl. Physics. 1965"
                }, c.NWL9D = {
                    a: 6378145,
                    rf: 298.25,
                    ellipseName: "Naval Weapons Lab., 1965"
                }, c.mod_airy = {
                    a: 6377340.189,
                    b: 6356034.446,
                    ellipseName: "Modified Airy"
                }, c.andrae = {
                    a: 6377104.43,
                    rf: 300,
                    ellipseName: "Andrae 1876 (Den., Iclnd.)"
                }, c.aust_SA = {
                    a: 6378160,
                    rf: 298.25,
                    ellipseName: "Australian Natl & S. Amer. 1969"
                }, c.GRS67 = {
                    a: 6378160,
                    rf: 298.247167427,
                    ellipseName: "GRS 67(IUGG 1967)"
                }, c.bessel = {
                    a: 6377397.155,
                    rf: 299.1528128,
                    ellipseName: "Bessel 1841"
                }, c.bess_nam = {
                    a: 6377483.865,
                    rf: 299.1528128,
                    ellipseName: "Bessel 1841 (Namibia)"
                }, c.clrk66 = {
                    a: 6378206.4,
                    b: 6356583.8,
                    ellipseName: "Clarke 1866"
                }, c.clrk80 = {
                    a: 6378249.145,
                    rf: 293.4663,
                    ellipseName: "Clarke 1880 mod."
                }, c.clrk58 = {
                    a: 6378293.645208759,
                    rf: 294.2606763692654,
                    ellipseName: "Clarke 1858"
                }, c.CPM = {
                    a: 6375738.7,
                    rf: 334.29,
                    ellipseName: "Comm. des Poids et Mesures 1799"
                }, c.delmbr = {
                    a: 6376428,
                    rf: 311.5,
                    ellipseName: "Delambre 1810 (Belgium)"
                }, c.engelis = {
                    a: 6378136.05,
                    rf: 298.2566,
                    ellipseName: "Engelis 1985"
                }, c.evrst30 = {
                    a: 6377276.345,
                    rf: 300.8017,
                    ellipseName: "Everest 1830"
                }, c.evrst48 = {
                    a: 6377304.063,
                    rf: 300.8017,
                    ellipseName: "Everest 1948"
                }, c.evrst56 = {
                    a: 6377301.243,
                    rf: 300.8017,
                    ellipseName: "Everest 1956"
                }, c.evrst69 = {
                    a: 6377295.664,
                    rf: 300.8017,
                    ellipseName: "Everest 1969"
                }, c.evrstSS = {
                    a: 6377298.556,
                    rf: 300.8017,
                    ellipseName: "Everest (Sabah & Sarawak)"
                }, c.fschr60 = {
                    a: 6378166,
                    rf: 298.3,
                    ellipseName: "Fischer (Mercury Datum) 1960"
                }, c.fschr60m = {
                    a: 6378155,
                    rf: 298.3,
                    ellipseName: "Fischer 1960"
                }, c.fschr68 = {
                    a: 6378150,
                    rf: 298.3,
                    ellipseName: "Fischer 1968"
                }, c.helmert = {
                    a: 6378200,
                    rf: 298.3,
                    ellipseName: "Helmert 1906"
                }, c.hough = {
                    a: 6378270,
                    rf: 297,
                    ellipseName: "Hough"
                }, c.intl = {
                    a: 6378388,
                    rf: 297,
                    ellipseName: "International 1909 (Hayford)"
                }, c.kaula = {
                    a: 6378163,
                    rf: 298.24,
                    ellipseName: "Kaula 1961"
                }, c.lerch = {
                    a: 6378139,
                    rf: 298.257,
                    ellipseName: "Lerch 1979"
                }, c.mprts = {
                    a: 6397300,
                    rf: 191,
                    ellipseName: "Maupertius 1738"
                }, c.new_intl = {
                    a: 6378157.5,
                    b: 6356772.2,
                    ellipseName: "New International 1967"
                }, c.plessis = {
                    a: 6376523,
                    rf: 6355863,
                    ellipseName: "Plessis 1817 (France)"
                }, c.krass = {
                    a: 6378245,
                    rf: 298.3,
                    ellipseName: "Krassovsky, 1942"
                }, c.SEasia = {
                    a: 6378155,
                    b: 6356773.3205,
                    ellipseName: "Southeast Asia"
                }, c.walbeck = {
                    a: 6376896,
                    b: 6355834.8467,
                    ellipseName: "Walbeck"
                }, c.WGS60 = {
                    a: 6378165,
                    rf: 298.3,
                    ellipseName: "WGS 60"
                }, c.WGS66 = {
                    a: 6378145,
                    rf: 298.25,
                    ellipseName: "WGS 66"
                }, c.WGS7 = {
                    a: 6378135,
                    rf: 298.26,
                    ellipseName: "WGS 72"
                }, c.WGS84 = {
                    a: 6378137,
                    rf: 298.257223563,
                    ellipseName: "WGS 84"
                }, c.sphere = {
                    a: 6370997,
                    b: 6370997,
                    ellipseName: "Normal Sphere (r=6370997)"
                }
            }, {}],
            27: [function(a, b, c) {
                c.greenwich = 0, c.lisbon = -9.131906111111, c.paris = 2.337229166667, c.bogota = -74.080916666667, c.madrid = -3.687938888889, c.rome = 12.452333333333, c.bern = 7.439583333333, c.jakarta = 106.807719444444, c.ferro = -17.666666666667, c.brussels = 4.367975, c.stockholm = 18.058277777778, c.athens = 23.7163375, c.oslo = 10.722916666667
            }, {}],
            28: [function(a, b) {
                function c(a, b, c) {
                    var d;
                    return Array.isArray(c) ? (d = f(a, b, c), 3 === c.length ? [d.x, d.y, d.z] : [d.x, d.y]) : f(a, b, c)
                }

                function d(a) {
                    return a instanceof e ? a : a.oProj ? a.oProj : e(a)
                }
                var e = a("./Proj"),
                    f = a("./transform"),
                    g = e("WGS84");
                b.exports = function(a, b, e) {
                    a = d(a);
                    var f, h = !1;
                    return void 0 === b ? (b = a, a = g, h = !0) : void 0 === b.x && !Array.isArray(b) || (e = b, b = a, a = g, h = !0), b = d(b), e ? c(a, b, e) : (f = {
                        forward: function(d) {
                            return c(a, b, d)
                        },
                        inverse: function(d) {
                            return c(b, a, d)
                        }
                    }, h && (f.oProj = b), f)
                }
            }, {
                "./Proj": 2,
                "./transform": 64
            }],
            29: [function(a, b) {
                var c = Math.PI / 2,
                    i = 484813681109536e-20,
                    k = .3826834323650898,
                    l = function(a) {
                        if (!(this instanceof l)) return new l(a);
                        if (this.datum_type = 4, a) {
                            if (a.datumCode && "none" === a.datumCode && (this.datum_type = 5), a.datum_params) {
                                for (var b = 0; b < a.datum_params.length; b++) a.datum_params[b] = parseFloat(a.datum_params[b]);
                                0 === a.datum_params[0] && 0 === a.datum_params[1] && 0 === a.datum_params[2] || (this.datum_type = 1), 3 < a.datum_params.length && (0 !== a.datum_params[3] || 0 !== a.datum_params[4] || 0 !== a.datum_params[5] || 0 !== a.datum_params[6]) && (this.datum_type = 2, a.datum_params[3] *= i, a.datum_params[4] *= i, a.datum_params[5] *= i, a.datum_params[6] = a.datum_params[6] / 1e6 + 1)
                            }
                            this.datum_type = a.grids ? 3 : this.datum_type, this.a = a.a, this.b = a.b, this.es = a.es, this.ep2 = a.ep2, this.datum_params = a.datum_params, 3 === this.datum_type && (this.grids = a.grids)
                        }
                    };
                l.prototype = {
                    compare_datums: function(a) {
                        return this.datum_type === a.datum_type && (!(this.a !== a.a || 5e-11 < Math.abs(this.es - a.es)) && (1 === this.datum_type ? this.datum_params[0] === a.datum_params[0] && this.datum_params[1] === a.datum_params[1] && this.datum_params[2] === a.datum_params[2] : 2 === this.datum_type ? this.datum_params[0] === a.datum_params[0] && this.datum_params[1] === a.datum_params[1] && this.datum_params[2] === a.datum_params[2] && this.datum_params[3] === a.datum_params[3] && this.datum_params[4] === a.datum_params[4] && this.datum_params[5] === a.datum_params[5] && this.datum_params[6] === a.datum_params[6] : 3 !== this.datum_type && 3 !== a.datum_type || this.nadgrids === a.nadgrids))
                    },
                    geodetic_to_geocentric: function(a) {
                        var b, d, e, f, g, h, i, j = a.x,
                            k = a.y,
                            l = a.z ? a.z : 0;
                        if (k < -c && -1.001 * c < k) k = -c;
                        else if (c < k && k < 1.001 * c) k = c;
                        else if (k < -c || c < k) return null;
                        return j > Math.PI && (j -= 2 * Math.PI), g = Math.sin(k), i = Math.cos(k), h = g * g, b = ((f = this.a / Math.sqrt(1 - this.es * h)) + l) * i * Math.cos(j), d = (f + l) * i * Math.sin(j), e = (f * (1 - this.es) + l) * g, a.x = b, a.y = d, a.z = e, 0
                    },
                    geocentric_to_geodetic: function(a) {
                        var b, d, e, f, g, h, i, j, k, l, m, n, p, q, r, s, t = 1e-12,
                            w = a.x,
                            x = a.y,
                            y = a.z ? a.z : 0;
                        if (!1, b = Math.sqrt(w * w + x * x), d = Math.sqrt(w * w + x * x + y * y), b / this.a < t) {
                            if (!0, q = 0, d / this.a < t) return r = c, void(s = -this.b)
                        } else q = Math.atan2(x, w);
                        for (e = y / d, f = b / d, g = 1 / Math.sqrt(1 - this.es * (2 - this.es) * f * f), j = f * (1 - this.es) * g, k = e * g, p = 0; p++, s = b * j + y * k - (i = this.a / Math.sqrt(1 - this.es * k * k)) * (1 - this.es * k * k), h = this.es * i / (i + s), n = (m = e * (g = 1 / Math.sqrt(1 - h * (2 - h) * f * f))) * j - (l = f * (1 - h) * g) * k, j = l, k = m, 1e-24 < n * n && p < 30;);
                        return r = Math.atan(m / Math.abs(l)), a.x = q, a.y = r, a.z = s, a
                    },
                    geocentric_to_geodetic_noniter: function(a) {
                        var b, d, e, f, g, h, i, l, m, n, o, p, q, r, s, t, u, v = a.x,
                            w = a.y,
                            x = a.z ? a.z : 0;
                        if (v = parseFloat(v), w = parseFloat(w), x = parseFloat(x), u = !1, 0 !== v) b = Math.atan2(w, v);
                        else if (0 < w) b = c;
                        else if (w < 0) b = -c;
                        else if (u = !0, (b = 0) < x) d = c;
                        else {
                            if (!(x < 0)) return d = c, void(e = -this.b);
                            d = -c
                        }
                        return g = v * v + w * w, h = 1.0026 * x, p = (f = Math.sqrt(g)) / (l = Math.sqrt(h * h + g)), o = (n = h / l) * n * n, i = x + this.b * this.ep2 * o, t = f - this.a * this.es * p * p * p, q = i / (m = Math.sqrt(i * i + t * t)), r = t / m, s = this.a / Math.sqrt(1 - this.es * q * q), e = k <= r ? f / r - s : r <= -k ? f / -r - s : x / q + s * (this.es - 1), !1 === u && (d = Math.atan(q / r)), a.x = b, a.y = d, a.z = e, a
                    },
                    geocentric_to_wgs84: function(a) {
                        if (1 === this.datum_type) a.x += this.datum_params[0], a.y += this.datum_params[1], a.z += this.datum_params[2];
                        else if (2 === this.datum_type) {
                            var b = this.datum_params[0],
                                c = this.datum_params[1],
                                f = this.datum_params[2],
                                g = this.datum_params[3],
                                h = this.datum_params[4],
                                i = this.datum_params[5],
                                j = this.datum_params[6],
                                k = j * (a.x - i * a.y + h * a.z) + b,
                                l = j * (i * a.x + a.y - g * a.z) + c,
                                m = j * (-h * a.x + g * a.y + a.z) + f;
                            a.x = k, a.y = l, a.z = m
                        }
                    },
                    geocentric_from_wgs84: function(a) {
                        if (1 === this.datum_type) a.x -= this.datum_params[0], a.y -= this.datum_params[1], a.z -= this.datum_params[2];
                        else if (2 === this.datum_type) {
                            var b = this.datum_params[0],
                                c = this.datum_params[1],
                                f = this.datum_params[2],
                                g = this.datum_params[3],
                                h = this.datum_params[4],
                                i = this.datum_params[5],
                                j = this.datum_params[6],
                                k = (a.x - b) / j,
                                l = (a.y - c) / j,
                                m = (a.z - f) / j;
                            a.x = k + i * l - h * m, a.y = -i * k + l + g * m, a.z = h * k - g * l + m
                        }
                    }
                }, b.exports = l
            }, {}],
            30: [function(a, b) {
                var g = 6378137,
                    h = .006694379990141316;
                b.exports = function(a, b, i) {
                    function j(a) {
                        return 1 === a || 2 === a
                    }
                    var k, l, m;
                    if (a.compare_datums(b)) return i;
                    if (5 === a.datum_type || 5 === b.datum_type) return i;
                    var n = a.a,
                        o = a.es,
                        p = b.a,
                        q = b.es,
                        r = a.datum_type;
                    if (3 === r)
                        if (0 === this.apply_gridshift(a, 0, i)) a.a = g, a.es = h;
                        else {
                            if (!a.datum_params) return a.a = n, a.es = a.es, i;
                            for (k = 1, l = 0, m = a.datum_params.length; l < m; l++) k *= a.datum_params[l];
                            if (0 === k) return a.a = n, a.es = a.es, i;
                            r = 3 < a.datum_params.length ? 2 : 1
                        } return 3 === b.datum_type && (b.a = g, b.es = h), (a.es !== b.es || a.a !== b.a || j(r) || j(b.datum_type)) && (a.geodetic_to_geocentric(i), j(a.datum_type) && a.geocentric_to_wgs84(i), j(b.datum_type) && b.geocentric_from_wgs84(i), b.geocentric_to_geodetic(i)), 3 === b.datum_type && this.apply_gridshift(b, 1, i), a.a = n, a.es = o, b.a = p, b.es = q, i
                }
            }, {}],
            31: [function(a, b) {
                function c(a) {
                    var b = this;
                    if (2 === arguments.length) {
                        var d = arguments[1];
                        c[a] = "string" == typeof d ? "+" === d[0] ? e(arguments[1]) : f(arguments[1]) : d
                    } else if (1 === arguments.length) {
                        if (Array.isArray(a)) return a.map(function(a) {
                            Array.isArray(a) ? c.apply(b, a) : c(a)
                        });
                        if ("string" == typeof a) {
                            if (a in c) return c[a]
                        } else "EPSG" in a ? c["EPSG:" + a.EPSG] = a : "ESRI" in a ? c["ESRI:" + a.ESRI] = a : "IAU2000" in a ? c["IAU2000:" + a.IAU2000] = a : console.log(a);
                        return
                    }
                }
                var d = a("./global"),
                    e = a("./projString"),
                    f = a("./wkt");
                d(c), b.exports = c
            }, {
                "./global": 34,
                "./projString": 37,
                "./wkt": 65
            }],
            32: [function(a, b) {
                var c = a("./constants/Datum"),
                    d = a("./constants/Ellipsoid"),
                    e = a("./extend"),
                    f = a("./datum");
                b.exports = function(a) {
                    if (a.datumCode && "none" !== a.datumCode) {
                        var b = c[a.datumCode];
                        b && (a.datum_params = b.towgs84 ? b.towgs84.split(",") : null, a.ellps = b.ellipse, a.datumName = b.datumName ? b.datumName : a.datumCode)
                    }
                    if (!a.a) {
                        var k = d[a.ellps] ? d[a.ellps] : d.WGS84;
                        e(a, k)
                    }
                    return a.rf && !a.b && (a.b = (1 - 1 / a.rf) * a.a), (0 === a.rf || Math.abs(a.a - a.b) < 1e-10) && (a.sphere = !0, a.b = a.a), a.a2 = a.a * a.a, a.b2 = a.b * a.b, a.es = (a.a2 - a.b2) / a.a2, a.e = Math.sqrt(a.es), a.R_A && (a.a *= 1 - a.es * (.16666666666666666 + a.es * (.04722222222222222 + .022156084656084655 * a.es)), a.a2 = a.a * a.a, a.b2 = a.b * a.b, a.es = 0), a.ep2 = (a.a2 - a.b2) / a.b2, a.k0 || (a.k0 = 1), a.axis || (a.axis = "enu"), a.datum = f(a), a
                }
            }, {
                "./constants/Datum": 25,
                "./constants/Ellipsoid": 26,
                "./datum": 29,
                "./extend": 33
            }],
            33: [function(a, b) {
                b.exports = function(a, b) {
                    var c, d;
                    if (a = a || {}, !b) return a;
                    for (d in b) void 0 !== (c = b[d]) && (a[d] = c);
                    return a
                }
            }, {}],
            34: [function(a, b) {
                b.exports = function(a) {
                    a("EPSG:4326", "+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"), a("EPSG:4269", "+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"), a("EPSG:3857", "+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"), a.WGS84 = a["EPSG:4326"], a["EPSG:3785"] = a["EPSG:3857"], a.GOOGLE = a["EPSG:3857"], a["EPSG:900913"] = a["EPSG:3857"], a["EPSG:102113"] = a["EPSG:3857"]
                }
            }, {}],
            35: [function(a, b) {
                var proj4 = a("./core");
                proj4.defaultDatum = "WGS84", proj4.Proj = a("./Proj"), proj4.WGS84 = new proj4.Proj("WGS84"), proj4.Point = a("./Point"), proj4.toPoint = a("./common/toPoint"), proj4.defs = a("./defs"), proj4.transform = a("./transform"), proj4.mgrs = a("mgrs"), proj4.version = a("../package.json").version, a("./includedProjections")(proj4), b.exports = proj4
            }, {
                "../package.json": 67,
                "./Point": 1,
                "./Proj": 2,
                "./common/toPoint": 23,
                "./core": 28,
                "./defs": 31,
                "./includedProjections": "gWUPNW",
                "./transform": 64,
                mgrs: 66
            }],
            36: [function(a, b) {
                var h = a("./defs"),
                    i = a("./wkt"),
                    j = a("./projString");
                b.exports = function(a) {
                    return function(a) {
                        return "string" == typeof a
                    }(a) ? function(a) {
                        return a in h
                    }(a) ? h[a] : function(a) {
                        return ["GEOGCS", "GEOCCS", "PROJCS", "LOCAL_CS"].reduce(function(b, c) {
                            return b + 1 + a.indexOf(c)
                        }, 0)
                    }(a) ? i(a) : function(a) {
                        return "+" === a[0]
                    }(a) ? j(a) : void 0 : a
                }
            }, {
                "./defs": 31,
                "./projString": 37,
                "./wkt": 65
            }],
            37: [function(a, b) {
                var c = .017453292519943295,
                    d = a("./constants/PrimeMeridian");
                b.exports = function(a) {
                    var b = {},
                        e = {};
                    a.split("+").map(function(a) {
                        return a.trim()
                    }).filter(function(a) {
                        return a
                    }).forEach(function(a) {
                        var b = a.split("=");
                        b.push(!0), e[b[0].toLowerCase()] = b[1]
                    });
                    var f, g, h, i = {
                        proj: "projName",
                        datum: "datumCode",
                        rf: function(a) {
                            b.rf = parseFloat(a, 10)
                        },
                        lat_0: function(a) {
                            b.lat0 = a * c
                        },
                        lat_1: function(a) {
                            b.lat1 = a * c
                        },
                        lat_2: function(a) {
                            b.lat2 = a * c
                        },
                        lat_ts: function(a) {
                            b.lat_ts = a * c
                        },
                        lon_0: function(a) {
                            b.long0 = a * c
                        },
                        lon_1: function(a) {
                            b.long1 = a * c
                        },
                        lon_2: function(a) {
                            b.long2 = a * c
                        },
                        alpha: function(a) {
                            b.alpha = parseFloat(a) * c
                        },
                        lonc: function(a) {
                            b.longc = a * c
                        },
                        x_0: function(a) {
                            b.x0 = parseFloat(a, 10)
                        },
                        y_0: function(a) {
                            b.y0 = parseFloat(a, 10)
                        },
                        k_0: function(a) {
                            b.k0 = parseFloat(a, 10)
                        },
                        k: function(a) {
                            b.k0 = parseFloat(a, 10)
                        },
                        r_a: function() {
                            b.R_A = !0
                        },
                        zone: function(a) {
                            b.zone = parseInt(a, 10)
                        },
                        south: function() {
                            b.utmSouth = !0
                        },
                        towgs84: function(a) {
                            b.datum_params = a.split(",").map(function(a) {
                                return parseFloat(a, 10)
                            })
                        },
                        to_meter: function(a) {
                            b.to_meter = parseFloat(a, 10)
                        },
                        from_greenwich: function(a) {
                            b.from_greenwich = a * c
                        },
                        pm: function(a) {
                            b.from_greenwich = (d[a] ? d[a] : parseFloat(a, 10)) * c
                        },
                        nadgrids: function(a) {
                            "@null" === a ? b.datumCode = "none" : b.nadgrids = a
                        },
                        axis: function(a) {
                            var c = "ewnsud";
                            3 === a.length && -1 !== c.indexOf(a.substr(0, 1)) && -1 !== c.indexOf(a.substr(1, 1)) && -1 !== c.indexOf(a.substr(2, 1)) && (b.axis = a)
                        }
                    };
                    for (f in e) g = e[f], f in i ? "function" == typeof(h = i[f]) ? h(g) : b[h] = g : b[f] = g;
                    return "string" == typeof b.datumCode && "WGS84" !== b.datumCode && (b.datumCode = b.datumCode.toLowerCase()), b
                }
            }, {
                "./constants/PrimeMeridian": 27
            }],
            38: [function(a, b, c) {
                function d(a, b) {
                    var c = g.length;
                    return a.names ? ((g[c] = a).names.forEach(function(a) {
                        f[a.toLowerCase()] = c
                    }), this) : (console.log(b), !0)
                }
                var e = [a("./projections/merc"), a("./projections/longlat")],
                    f = {},
                    g = [];
                c.add = d, c.get = function(a) {
                    if (!a) return !1;
                    var b = a.toLowerCase();
                    return void 0 !== f[b] && g[f[b]] ? g[f[b]] : void 0
                }, c.start = function() {
                    e.forEach(d)
                }
            }, {
                "./projections/longlat": 50,
                "./projections/merc": 51
            }],
            39: [function(a, b, c) {
                var d = 1e-10,
                    e = a("../common/msfnz"),
                    f = a("../common/qsfnz"),
                    g = a("../common/adjust_lon"),
                    h = a("../common/asinz");
                c.init = function() {
                    Math.abs(this.lat1 + this.lat2) < d || (this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e3 = Math.sqrt(this.es), this.sin_po = Math.sin(this.lat1), this.cos_po = Math.cos(this.lat1), this.t1 = this.sin_po, this.con = this.sin_po, this.ms1 = e(this.e3, this.sin_po, this.cos_po), this.qs1 = f(this.e3, this.sin_po, this.cos_po), this.sin_po = Math.sin(this.lat2), this.cos_po = Math.cos(this.lat2), this.t2 = this.sin_po, this.ms2 = e(this.e3, this.sin_po, this.cos_po), this.qs2 = f(this.e3, this.sin_po, this.cos_po), this.sin_po = Math.sin(this.lat0), this.cos_po = Math.cos(this.lat0), this.t3 = this.sin_po, this.qs0 = f(this.e3, this.sin_po, this.cos_po), this.ns0 = Math.abs(this.lat1 - this.lat2) > d ? (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1) : this.con, this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1, this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0)
                }, c.forward = function(a) {
                    var b = a.x,
                        c = a.y;
                    this.sin_phi = Math.sin(c), this.cos_phi = Math.cos(c);
                    var d = f(this.e3, this.sin_phi, this.cos_phi),
                        e = this.a * Math.sqrt(this.c - this.ns0 * d) / this.ns0,
                        h = this.ns0 * g(b - this.long0),
                        i = e * Math.sin(h) + this.x0,
                        j = this.rh - e * Math.cos(h) + this.y0;
                    return a.x = i, a.y = j, a
                }, c.inverse = function(a) {
                    var b, c, d, e, f, h;
                    return a.x -= this.x0, a.y = this.rh - a.y + this.y0, d = 0 <= this.ns0 ? (b = Math.sqrt(a.x * a.x + a.y * a.y), 1) : (b = -Math.sqrt(a.x * a.x + a.y * a.y), -1), (e = 0) !== b && (e = Math.atan2(d * a.x, d * a.y)), d = b * this.ns0 / this.a, h = this.sphere ? Math.asin((this.c - d * d) / (2 * this.ns0)) : (c = (this.c - d * d) / this.ns0, this.phi1z(this.e3, c)), f = g(e / this.ns0 + this.long0), a.x = f, a.y = h, a
                }, c.phi1z = function(a, b) {
                    var c, f, g, i, j = h(.5 * b);
                    if (a < d) return j;
                    for (var k = a * a, l = 1; l <= 25; l++)
                        if (j += i = .5 * (g = 1 - (f = a * (c = Math.sin(j))) * f) * g / Math.cos(j) * (b / (1 - k) - c / g + .5 / a * Math.log((1 - f) / (1 + f))), Math.abs(i) <= 1e-7) return j;
                    return null
                }, c.names = ["Albers_Conic_Equal_Area", "Albers", "aea"]
            }, {
                "../common/adjust_lon": 5,
                "../common/asinz": 6,
                "../common/msfnz": 15,
                "../common/qsfnz": 20
            }],
            40: [function(a, b, c) {
                var d = a("../common/adjust_lon"),
                    e = Math.PI / 2,
                    f = 1e-10,
                    g = a("../common/mlfn"),
                    h = a("../common/e0fn"),
                    i = a("../common/e1fn"),
                    j = a("../common/e2fn"),
                    k = a("../common/e3fn"),
                    l = a("../common/gN"),
                    m = a("../common/asinz"),
                    n = a("../common/imlfn");
                c.init = function() {
                    this.sin_p12 = Math.sin(this.lat0), this.cos_p12 = Math.cos(this.lat0)
                }, c.forward = function(a) {
                    var b, c, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, H = a.x,
                        I = a.y,
                        J = Math.sin(a.y),
                        K = Math.cos(a.y),
                        L = d(H - this.long0);
                    return this.sphere ? Math.abs(this.sin_p12 - 1) <= f ? (a.x = this.x0 + this.a * (e - I) * Math.sin(L), a.y = this.y0 - this.a * (e - I) * Math.cos(L)) : Math.abs(this.sin_p12 + 1) <= f ? (a.x = this.x0 + this.a * (e + I) * Math.sin(L), a.y = this.y0 + this.a * (e + I) * Math.cos(L)) : (B = this.sin_p12 * J + this.cos_p12 * K * Math.cos(L), A = (z = Math.acos(B)) / Math.sin(z), a.x = this.x0 + this.a * A * K * Math.sin(L), a.y = this.y0 + this.a * A * (this.cos_p12 * J - this.sin_p12 * K * Math.cos(L))) : (b = h(this.es), c = i(this.es), m = j(this.es), n = k(this.es), Math.abs(this.sin_p12 - 1) <= f ? (o = this.a * g(b, c, m, n, e), p = this.a * g(b, c, m, n, I), a.x = this.x0 + (o - p) * Math.sin(L), a.y = this.y0 - (o - p) * Math.cos(L)) : Math.abs(this.sin_p12 + 1) <= f ? (o = this.a * g(b, c, m, n, e), p = this.a * g(b, c, m, n, I), a.x = this.x0 + (o + p) * Math.sin(L), a.y = this.y0 + (o + p) * Math.cos(L)) : (q = J / K, r = l(this.a, this.e, this.sin_p12), s = l(this.a, this.e, J), t = Math.atan((1 - this.es) * q + this.es * r * this.sin_p12 / (s * K)), C = 0 === (u = Math.atan2(Math.sin(L), this.cos_p12 * Math.tan(t) - this.sin_p12 * Math.cos(L))) ? Math.asin(this.cos_p12 * Math.sin(t) - this.sin_p12 * Math.cos(t)) : Math.abs(Math.abs(u) - Math.PI) <= f ? -Math.asin(this.cos_p12 * Math.sin(t) - this.sin_p12 * Math.cos(t)) : Math.asin(Math.sin(L) * Math.cos(t) / Math.sin(u)), v = this.e * this.sin_p12 / Math.sqrt(1 - this.es), z = r * C * (1 - (D = C * C) * (y = (w = this.e * this.cos_p12 * Math.cos(u) / Math.sqrt(1 - this.es)) * w) * (1 - y) / 6 + (E = D * C) / 8 * (x = v * w) * (1 - 2 * y) + (F = E * C) / 120 * (y * (4 - 7 * y) - 3 * v * v * (1 - 7 * y)) - F * C / 48 * x), a.x = this.x0 + z * Math.sin(u), a.y = this.y0 + z * Math.cos(u))), a
                }, c.inverse = function(a) {
                    var b, c, o, p, q, r, s, t, u, v, w, x, z, A, B, C, D, E, F, G, H, I;
                    if (a.x -= this.x0, a.y -= this.y0, this.sphere) {
                        if ((b = Math.sqrt(a.x * a.x + a.y * a.y)) > 2 * e * this.a) return;
                        return c = b / this.a, o = Math.sin(c), p = Math.cos(c), q = this.long0, Math.abs(b) <= f ? r = this.lat0 : (r = m(p * this.sin_p12 + a.y * o * this.cos_p12 / b), s = Math.abs(this.lat0) - e, q = d(Math.abs(s) <= f ? 0 <= this.lat0 ? this.long0 + Math.atan2(a.x, -a.y) : this.long0 - Math.atan2(-a.x, a.y) : this.long0 + Math.atan2(a.x * o, b * this.cos_p12 * p - a.y * this.sin_p12 * o))), a.x = q, a.y = r, a
                    }
                    return t = h(this.es), u = i(this.es), v = j(this.es), w = k(this.es), Math.abs(this.sin_p12 - 1) <= f ? (x = this.a * g(t, u, v, w, e), b = Math.sqrt(a.x * a.x + a.y * a.y), r = n((x - b) / this.a, t, u, v, w), q = d(this.long0 + Math.atan2(a.x, -1 * a.y))) : Math.abs(this.sin_p12 + 1) <= f ? (x = this.a * g(t, u, v, w, e), b = Math.sqrt(a.x * a.x + a.y * a.y), r = n((b - x) / this.a, t, u, v, w), q = d(this.long0 + Math.atan2(a.x, a.y))) : (b = Math.sqrt(a.x * a.x + a.y * a.y), B = Math.atan2(a.x, a.y), z = l(this.a, this.e, this.sin_p12), C = Math.cos(B), E = -(D = this.e * this.cos_p12 * C) * D / (1 - this.es), F = 3 * this.es * (1 - E) * this.sin_p12 * this.cos_p12 * C / (1 - this.es), I = 1 - E * (H = (G = b / z) - E * (1 + E) * Math.pow(G, 3) / 6 - F * (1 + 3 * E) * Math.pow(G, 4) / 24) * H / 2 - G * H * H * H / 6, A = Math.asin(this.sin_p12 * Math.cos(H) + this.cos_p12 * Math.sin(H) * C), q = d(this.long0 + Math.asin(Math.sin(B) * Math.sin(H) / Math.cos(A))), r = Math.atan((1 - this.es * I * this.sin_p12 / Math.sin(A)) * Math.tan(A) / (1 - this.es))), a.x = q, a.y = r, a
                }, c.names = ["Azimuthal_Equidistant", "aeqd"]
            }, {
                "../common/adjust_lon": 5,
                "../common/asinz": 6,
                "../common/e0fn": 7,
                "../common/e1fn": 8,
                "../common/e2fn": 9,
                "../common/e3fn": 10,
                "../common/gN": 11,
                "../common/imlfn": 12,
                "../common/mlfn": 14
            }],
            41: [function(a, b, c) {
                var d = a("../common/mlfn"),
                    e = a("../common/e0fn"),
                    f = a("../common/e1fn"),
                    g = a("../common/e2fn"),
                    h = a("../common/e3fn"),
                    i = a("../common/gN"),
                    j = a("../common/adjust_lon"),
                    k = a("../common/adjust_lat"),
                    l = a("../common/imlfn"),
                    m = Math.PI / 2;
                c.init = function() {
                    this.sphere || (this.e0 = e(this.es), this.e1 = f(this.es), this.e2 = g(this.es), this.e3 = h(this.es), this.ml0 = this.a * d(this.e0, this.e1, this.e2, this.e3, this.lat0))
                }, c.forward = function(a) {
                    var b, c, e = a.x,
                        f = a.y;
                    if (e = j(e - this.long0), this.sphere) b = this.a * Math.asin(Math.cos(f) * Math.sin(e)), c = this.a * (Math.atan2(Math.tan(f), Math.cos(e)) - this.lat0);
                    else {
                        var g = Math.sin(f),
                            h = Math.cos(f),
                            k = i(this.a, this.e, g),
                            l = Math.tan(f) * Math.tan(f),
                            m = e * Math.cos(f),
                            n = m * m,
                            o = this.es * h * h / (1 - this.es);
                        b = k * m * (1 - n * l * (1 / 6 - (8 - l + 8 * o) * n / 120)), c = this.a * d(this.e0, this.e1, this.e2, this.e3, f) - this.ml0 + k * g / h * n * (.5 + (5 - l + 6 * o) * n / 24)
                    }
                    return a.x = b + this.x0, a.y = c + this.y0, a
                }, c.inverse = function(a) {
                    a.x -= this.x0, a.y -= this.y0;
                    var b, c, d = a.x / this.a,
                        e = a.y / this.a;
                    if (this.sphere) {
                        var f = e + this.lat0;
                        b = Math.asin(Math.sin(f) * Math.cos(d)), c = Math.atan2(Math.tan(d), Math.cos(f))
                    } else {
                        var g = this.ml0 / this.a + e,
                            h = l(g, this.e0, this.e1, this.e2, this.e3);
                        if (Math.abs(Math.abs(h) - m) <= 1e-10) return a.x = this.long0, a.y = m, e < 0 && (a.y *= -1), a;
                        var o = i(this.a, this.e, Math.sin(h)),
                            p = o * o * o / this.a / this.a * (1 - this.es),
                            q = Math.pow(Math.tan(h), 2),
                            r = d * this.a / o,
                            s = r * r;
                        b = h - o * Math.tan(h) / p * r * r * (.5 - (1 + 3 * q) * r * r / 24), c = r * (1 - s * (q / 3 + (1 + 3 * q) * q * s / 15)) / Math.cos(h)
                    }
                    return a.x = j(c + this.long0), a.y = k(b), a
                }, c.names = ["Cassini", "Cassini_Soldner", "cass"]
            }, {
                "../common/adjust_lat": 4,
                "../common/adjust_lon": 5,
                "../common/e0fn": 7,
                "../common/e1fn": 8,
                "../common/e2fn": 9,
                "../common/e3fn": 10,
                "../common/gN": 11,
                "../common/imlfn": 12,
                "../common/mlfn": 14
            }],
            42: [function(a, b, c) {
                var d = a("../common/adjust_lon"),
                    e = a("../common/qsfnz"),
                    f = a("../common/msfnz"),
                    g = a("../common/iqsfnz");
                c.init = function() {
                    this.sphere || (this.k0 = f(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)))
                }, c.forward = function(a) {
                    var b, c, f = a.x,
                        g = a.y,
                        h = d(f - this.long0);
                    if (this.sphere) b = this.x0 + this.a * h * Math.cos(this.lat_ts), c = this.y0 + this.a * Math.sin(g) / Math.cos(this.lat_ts);
                    else {
                        var i = e(this.e, Math.sin(g));
                        b = this.x0 + this.a * this.k0 * h, c = this.y0 + this.a * i * .5 / this.k0
                    }
                    return a.x = b, a.y = c, a
                }, c.inverse = function(a) {
                    var b, c;
                    return a.x -= this.x0, a.y -= this.y0, this.sphere ? (b = d(this.long0 + a.x / this.a / Math.cos(this.lat_ts)), c = Math.asin(a.y / this.a * Math.cos(this.lat_ts))) : (c = g(this.e, 2 * a.y * this.k0 / this.a), b = d(this.long0 + a.x / (this.a * this.k0))), a.x = b, a.y = c, a
                }, c.names = ["cea"]
            }, {
                "../common/adjust_lon": 5,
                "../common/iqsfnz": 13,
                "../common/msfnz": 15,
                "../common/qsfnz": 20
            }],
            43: [function(a, b, c) {
                var d = a("../common/adjust_lon"),
                    e = a("../common/adjust_lat");
                c.init = function() {
                    this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, this.lat0 = this.lat0 || 0, this.long0 = this.long0 || 0, this.lat_ts = this.lat_ts || 0, this.title = this.title || "Equidistant Cylindrical (Plate Carre)", this.rc = Math.cos(this.lat_ts)
                }, c.forward = function(a) {
                    var b = a.x,
                        c = a.y,
                        f = d(b - this.long0),
                        g = e(c - this.lat0);
                    return a.x = this.x0 + this.a * f * this.rc, a.y = this.y0 + this.a * g, a
                }, c.inverse = function(a) {
                    var b = a.x,
                        c = a.y;
                    return a.x = d(this.long0 + (b - this.x0) / (this.a * this.rc)), a.y = e(this.lat0 + (c - this.y0) / this.a), a
                }, c.names = ["Equirectangular", "Equidistant_Cylindrical", "eqc"]
            }, {
                "../common/adjust_lat": 4,
                "../common/adjust_lon": 5
            }],
            44: [function(a, b, c) {
                var d = a("../common/e0fn"),
                    e = a("../common/e1fn"),
                    f = a("../common/e2fn"),
                    g = a("../common/e3fn"),
                    h = a("../common/msfnz"),
                    i = a("../common/mlfn"),
                    j = a("../common/adjust_lon"),
                    k = a("../common/adjust_lat"),
                    l = a("../common/imlfn");
                c.init = function() {
                    Math.abs(this.lat1 + this.lat2) < 1e-10 || (this.lat2 = this.lat2 || this.lat1, this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e = Math.sqrt(this.es), this.e0 = d(this.es), this.e1 = e(this.es), this.e2 = f(this.es), this.e3 = g(this.es), this.sinphi = Math.sin(this.lat1), this.cosphi = Math.cos(this.lat1), this.ms1 = h(this.e, this.sinphi, this.cosphi), this.ml1 = i(this.e0, this.e1, this.e2, this.e3, this.lat1), Math.abs(this.lat1 - this.lat2) < 1e-10 ? this.ns = this.sinphi : (this.sinphi = Math.sin(this.lat2), this.cosphi = Math.cos(this.lat2), this.ms2 = h(this.e, this.sinphi, this.cosphi), this.ml2 = i(this.e0, this.e1, this.e2, this.e3, this.lat2), this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1)), this.g = this.ml1 + this.ms1 / this.ns, this.ml0 = i(this.e0, this.e1, this.e2, this.e3, this.lat0), this.rh = this.a * (this.g - this.ml0))
                }, c.forward = function(a) {
                    var b, c = a.x,
                        d = a.y;
                    if (this.sphere) b = this.a * (this.g - d);
                    else {
                        var e = i(this.e0, this.e1, this.e2, this.e3, d);
                        b = this.a * (this.g - e)
                    }
                    var f = this.ns * j(c - this.long0),
                        g = this.x0 + b * Math.sin(f),
                        h = this.y0 + this.rh - b * Math.cos(f);
                    return a.x = g, a.y = h, a
                }, c.inverse = function(a) {
                    var b, c, d, e;
                    a.x -= this.x0, a.y = this.rh - a.y + this.y0, b = 0 <= this.ns ? (c = Math.sqrt(a.x * a.x + a.y * a.y), 1) : (c = -Math.sqrt(a.x * a.x + a.y * a.y), -1);
                    var f = 0;
                    if (0 !== c && (f = Math.atan2(b * a.x, b * a.y)), this.sphere) return e = j(this.long0 + f / this.ns), d = k(this.g - c / this.a), a.x = e, a.y = d, a;
                    var g = this.g - c / this.a;
                    return d = l(g, this.e0, this.e1, this.e2, this.e3), e = j(this.long0 + f / this.ns), a.x = e, a.y = d, a
                }, c.names = ["Equidistant_Conic", "eqdc"]
            }, {
                "../common/adjust_lat": 4,
                "../common/adjust_lon": 5,
                "../common/e0fn": 7,
                "../common/e1fn": 8,
                "../common/e2fn": 9,
                "../common/e3fn": 10,
                "../common/imlfn": 12,
                "../common/mlfn": 14,
                "../common/msfnz": 15
            }],
            45: [function(a, b, c) {
                var d = Math.PI / 4,
                    e = a("../common/srat"),
                    f = Math.PI / 2;
                c.init = function() {
                    var a = Math.sin(this.lat0),
                        b = Math.cos(this.lat0);
                    b *= b, this.rc = Math.sqrt(1 - this.es) / (1 - this.es * a * a), this.C = Math.sqrt(1 + this.es * b * b / (1 - this.es)), this.phic0 = Math.asin(a / this.C), this.ratexp = .5 * this.C * this.e, this.K = Math.tan(.5 * this.phic0 + d) / (Math.pow(Math.tan(.5 * this.lat0 + d), this.C) * e(this.e * a, this.ratexp))
                }, c.forward = function(a) {
                    var b = a.x,
                        c = a.y;
                    return a.y = 2 * Math.atan(this.K * Math.pow(Math.tan(.5 * c + d), this.C) * e(this.e * Math.sin(c), this.ratexp)) - f, a.x = this.C * b, a
                }, c.inverse = function(a) {
                    for (var c = a.x / this.C, h = a.y, i = Math.pow(Math.tan(.5 * h + d) / this.K, 1 / this.C), j = 20; 0 < j && (h = 2 * Math.atan(i * e(this.e * Math.sin(a.y), -.5 * this.e)) - f, !(Math.abs(h - a.y) < 1e-14)); --j) a.y = h;
                    return j ? (a.x = c, a.y = h, a) : null
                }, c.names = ["gauss"]
            }, {
                "../common/srat": 22
            }],
            46: [function(a, b, c) {
                var d = a("../common/adjust_lon"),
                    f = a("../common/asinz");
                c.init = function() {
                    this.sin_p14 = Math.sin(this.lat0), this.cos_p14 = Math.cos(this.lat0), this.infinity_dist = 1e3 * this.a, this.rc = 1
                }, c.forward = function(a) {
                    var b, c, f, g, i, j, k, l = a.x,
                        m = a.y;
                    return f = d(l - this.long0), b = Math.sin(m), c = Math.cos(m), g = Math.cos(f), 1, k = 0 < (i = this.sin_p14 * b + this.cos_p14 * c * g) || Math.abs(i) <= 1e-10 ? (j = this.x0 + 1 * this.a * c * Math.sin(f) / i, this.y0 + 1 * this.a * (this.cos_p14 * b - this.sin_p14 * c * g) / i) : (j = this.x0 + this.infinity_dist * c * Math.sin(f), this.y0 + this.infinity_dist * (this.cos_p14 * b - this.sin_p14 * c * g)), a.x = j, a.y = k, a
                }, c.inverse = function(a) {
                    var b, c, e, g, h, i;
                    return a.x = (a.x - this.x0) / this.a, a.y = (a.y - this.y0) / this.a, a.x /= this.k0, a.y /= this.k0, h = (b = Math.sqrt(a.x * a.x + a.y * a.y)) ? (g = Math.atan2(b, this.rc), c = Math.sin(g), e = Math.cos(g), i = f(e * this.sin_p14 + a.y * c * this.cos_p14 / b), h = Math.atan2(a.x * c, b * this.cos_p14 * e - a.y * this.sin_p14 * c), d(this.long0 + h)) : (i = this.phic0, 0), a.x = h, a.y = i, a
                }, c.names = ["gnom"]
            }, {
                "../common/adjust_lon": 5,
                "../common/asinz": 6
            }],
            47: [function(a, b, c) {
                var d = a("../common/adjust_lon");
                c.init = function() {
                    this.a = 6377397.155, this.es = .006674372230614, this.e = Math.sqrt(this.es), this.lat0 || (this.lat0 = .863937979737193), this.long0 || (this.long0 = .4334234309119251), this.k0 || (this.k0 = .9999), this.s45 = .785398163397448, this.s90 = 2 * this.s45, this.fi0 = this.lat0, this.e2 = this.es, this.e = Math.sqrt(this.e2), this.alfa = Math.sqrt(1 + this.e2 * Math.pow(Math.cos(this.fi0), 4) / (1 - this.e2)), this.uq = 1.04216856380474, this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa), this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2), this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g, this.k1 = this.k0, this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2)), this.s0 = 1.37008346281555, this.n = Math.sin(this.s0), this.ro0 = this.k1 * this.n0 / Math.tan(this.s0), this.ad = this.s90 - this.uq
                }, c.forward = function(a) {
                    var b, c, e, f, g, h, i, j = a.x,
                        k = a.y,
                        l = d(j - this.long0);
                    return b = Math.pow((1 + this.e * Math.sin(k)) / (1 - this.e * Math.sin(k)), this.alfa * this.e / 2), c = 2 * (Math.atan(this.k * Math.pow(Math.tan(k / 2 + this.s45), this.alfa) / b) - this.s45), e = -l * this.alfa, f = Math.asin(Math.cos(this.ad) * Math.sin(c) + Math.sin(this.ad) * Math.cos(c) * Math.cos(e)), g = Math.asin(Math.cos(c) * Math.sin(e) / Math.cos(f)), h = this.n * g, i = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(f / 2 + this.s45), this.n), a.y = i * Math.cos(h) / 1, a.x = i * Math.sin(h) / 1, this.czech || (a.y *= -1, a.x *= -1), a
                }, c.inverse = function(a) {
                    var b, c, d, e, g, h, i, j = a.x;
                    a.x = a.y, a.y = j, this.czech || (a.y *= -1, a.x *= -1), g = Math.sqrt(a.x * a.x + a.y * a.y), e = Math.atan2(a.y, a.x) / Math.sin(this.s0), d = 2 * (Math.atan(Math.pow(this.ro0 / g, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45), b = Math.asin(Math.cos(this.ad) * Math.sin(d) - Math.sin(this.ad) * Math.cos(d) * Math.cos(e)), c = Math.asin(Math.cos(d) * Math.sin(e) / Math.cos(b)), a.x = this.long0 - c / this.alfa, h = b;
                    for (var k = i = 0; a.y = 2 * (Math.atan(Math.pow(this.k, -1 / this.alfa) * Math.pow(Math.tan(b / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(h)) / (1 - this.e * Math.sin(h)), this.e / 2)) - this.s45), Math.abs(h - a.y) < 1e-10 && (i = 1), h = a.y, k += 1, 0 === i && k < 15;);
                    return 15 <= k ? null : a
                }, c.names = ["Krovak", "krovak"]
            }, {
                "../common/adjust_lon": 5
            }],
            48: [function(a, b, c) {
                var d = Math.PI / 2,
                    e = Math.PI / 4,
                    f = 1e-10,
                    g = a("../common/qsfnz"),
                    h = a("../common/adjust_lon");
                c.S_POLE = 1, c.N_POLE = 2, c.EQUIT = 3, c.OBLIQ = 4, c.init = function() {
                    var b, a = Math.abs(this.lat0);
                    if (this.mode = Math.abs(a - d) < f ? this.lat0 < 0 ? this.S_POLE : this.N_POLE : Math.abs(a) < f ? this.EQUIT : this.OBLIQ, 0 < this.es) switch (this.qp = g(this.e, 1), this.mmf = .5 / (1 - this.es), this.apa = this.authset(this.es), this.mode) {
                        case this.N_POLE:
                        case this.S_POLE:
                            this.dd = 1;
                            break;
                        case this.EQUIT:
                            this.rq = Math.sqrt(.5 * this.qp), this.dd = 1 / this.rq, this.xmf = 1, this.ymf = .5 * this.qp;
                            break;
                        case this.OBLIQ:
                            this.rq = Math.sqrt(.5 * this.qp), b = Math.sin(this.lat0), this.sinb1 = g(this.e, b) / this.qp, this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1), this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * b * b) * this.rq * this.cosb1), this.ymf = (this.xmf = this.rq) / this.dd, this.xmf *= this.dd
                    } else this.mode === this.OBLIQ && (this.sinph0 = Math.sin(this.lat0), this.cosph0 = Math.cos(this.lat0))
                }, c.forward = function(a) {
                    var b, c, i, j, k, l, m, n, o, p, q = a.x,
                        r = a.y;
                    if (q = h(q - this.long0), this.sphere) {
                        if (k = Math.sin(r), p = Math.cos(r), i = Math.cos(q), this.mode === this.OBLIQ || this.mode === this.EQUIT) {
                            if ((c = this.mode === this.EQUIT ? 1 + p * i : 1 + this.sinph0 * k + this.cosph0 * p * i) <= f) return null;
                            b = (c = Math.sqrt(2 / c)) * p * Math.sin(q), c *= this.mode === this.EQUIT ? k : this.cosph0 * k - this.sinph0 * p * i
                        } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
                            if (this.mode === this.N_POLE && (i = -i), Math.abs(r + this.phi0) < f) return null;
                            c = e - .5 * r, b = (c = 2 * (this.mode === this.S_POLE ? Math.cos(c) : Math.sin(c))) * Math.sin(q), c *= i
                        }
                    } else {
                        switch (o = n = m = 0, i = Math.cos(q), j = Math.sin(q), k = Math.sin(r), l = g(this.e, k), this.mode !== this.OBLIQ && this.mode !== this.EQUIT || (m = l / this.qp, n = Math.sqrt(1 - m * m)), this.mode) {
                            case this.OBLIQ:
                                o = 1 + this.sinb1 * m + this.cosb1 * n * i;
                                break;
                            case this.EQUIT:
                                o = 1 + n * i;
                                break;
                            case this.N_POLE:
                                o = d + r, l = this.qp - l;
                                break;
                            case this.S_POLE:
                                o = r - d, l = this.qp + l
                        }
                        if (Math.abs(o) < f) return null;
                        switch (this.mode) {
                            case this.OBLIQ:
                            case this.EQUIT:
                                o = Math.sqrt(2 / o), c = this.mode === this.OBLIQ ? this.ymf * o * (this.cosb1 * m - this.sinb1 * n * i) : (o = Math.sqrt(2 / (1 + n * i))) * m * this.ymf, b = this.xmf * o * n * j;
                                break;
                            case this.N_POLE:
                            case this.S_POLE:
                                0 <= l ? (b = (o = Math.sqrt(l)) * j, c = i * (this.mode === this.S_POLE ? o : -o)) : b = c = 0
                        }
                    }
                    return a.x = this.a * b + this.x0, a.y = this.a * c + this.y0, a
                }, c.inverse = function(a) {
                    a.x -= this.x0, a.y -= this.y0;
                    var b, c, e, g, i, j, k, l = a.x / this.a,
                        m = a.y / this.a;
                    if (this.sphere) {
                        var n, o = 0,
                            p = 0;
                        if (1 < (c = .5 * (n = Math.sqrt(l * l + m * m)))) return null;
                        switch (c = 2 * Math.asin(c), this.mode !== this.OBLIQ && this.mode !== this.EQUIT || (p = Math.sin(c), o = Math.cos(c)), this.mode) {
                            case this.EQUIT:
                                c = Math.abs(n) <= f ? 0 : Math.asin(m * p / n), l *= p, m = o * n;
                                break;
                            case this.OBLIQ:
                                c = Math.abs(n) <= f ? this.phi0 : Math.asin(o * this.sinph0 + m * p * this.cosph0 / n), l *= p * this.cosph0, m = (o - Math.sin(c) * this.sinph0) * n;
                                break;
                            case this.N_POLE:
                                m = -m, c = d - c;
                                break;
                            case this.S_POLE:
                                c -= d
                        }
                        b = 0 !== m || this.mode !== this.EQUIT && this.mode !== this.OBLIQ ? Math.atan2(l, m) : 0
                    } else {
                        if (k = 0, this.mode === this.OBLIQ || this.mode === this.EQUIT) {
                            if (l /= this.dd, m *= this.dd, (j = Math.sqrt(l * l + m * m)) < f) return a.x = 0, a.y = this.phi0, a;
                            g = 2 * Math.asin(.5 * j / this.rq), e = Math.cos(g), l *= g = Math.sin(g), m = this.mode === this.OBLIQ ? (k = e * this.sinb1 + m * g * this.cosb1 / j, i = this.qp * k, j * this.cosb1 * e - m * this.sinb1 * g) : (k = m * g / j, i = this.qp * k, j * e)
                        } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
                            if (this.mode === this.N_POLE && (m = -m), !(i = l * l + m * m)) return a.x = 0, a.y = this.phi0, a;
                            k = 1 - i / this.qp, this.mode === this.S_POLE && (k = -k)
                        }
                        b = Math.atan2(l, m), c = this.authlat(Math.asin(k), this.apa)
                    }
                    return a.x = h(this.long0 + b), a.y = c, a
                }, c.P00 = .3333333333333333, c.P01 = .17222222222222222, c.P02 = .10257936507936508, c.P10 = .06388888888888888, c.P11 = .0664021164021164, c.P20 = .016415012942191543, c.authset = function(a) {
                    var b, c = [];
                    return c[0] = a * this.P00, b = a * a, c[0] += b * this.P01, c[1] = b * this.P10, b *= a, c[0] += b * this.P02, c[1] += b * this.P11, c[2] = b * this.P20, c
                }, c.authlat = function(a, b) {
                    var c = a + a;
                    return a + b[0] * Math.sin(c) + b[1] * Math.sin(c + c) + b[2] * Math.sin(c + c + c)
                }, c.names = ["Lambert Azimuthal Equal Area", "Lambert_Azimuthal_Equal_Area", "laea"]
            }, {
                "../common/adjust_lon": 5,
                "../common/qsfnz": 20
            }],
            49: [function(a, b, c) {
                var d = 1e-10,
                    e = a("../common/msfnz"),
                    f = a("../common/tsfnz"),
                    g = Math.PI / 2,
                    h = a("../common/sign"),
                    i = a("../common/adjust_lon"),
                    j = a("../common/phi2z");
                c.init = function() {
                    if (this.lat2 || (this.lat2 = this.lat1), this.k0 || (this.k0 = 1), this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, !(Math.abs(this.lat1 + this.lat2) < d)) {
                        var a = this.b / this.a;
                        this.e = Math.sqrt(1 - a * a);
                        var b = Math.sin(this.lat1),
                            c = Math.cos(this.lat1),
                            g = e(this.e, b, c),
                            h = f(this.e, this.lat1, b),
                            i = Math.sin(this.lat2),
                            j = Math.cos(this.lat2),
                            k = e(this.e, i, j),
                            l = f(this.e, this.lat2, i),
                            m = f(this.e, this.lat0, Math.sin(this.lat0));
                        this.ns = Math.abs(this.lat1 - this.lat2) > d ? Math.log(g / k) / Math.log(h / l) : b, isNaN(this.ns) && (this.ns = b), this.f0 = g / (this.ns * Math.pow(h, this.ns)), this.rh = this.a * this.f0 * Math.pow(m, this.ns), this.title || (this.title = "Lambert Conformal Conic")
                    }
                }, c.forward = function(a) {
                    var b = a.x,
                        c = a.y;
                    Math.abs(2 * Math.abs(c) - Math.PI) <= d && (c = h(c) * (g - 2 * d));
                    var e, j, k = Math.abs(Math.abs(c) - g);
                    if (d < k) e = f(this.e, c, Math.sin(c)), j = this.a * this.f0 * Math.pow(e, this.ns);
                    else {
                        if ((k = c * this.ns) <= 0) return null;
                        j = 0
                    }
                    var l = this.ns * i(b - this.long0);
                    return a.x = this.k0 * j * Math.sin(l) + this.x0, a.y = this.k0 * (this.rh - j * Math.cos(l)) + this.y0, a
                }, c.inverse = function(a) {
                    var b, c, d, e, f, h = (a.x - this.x0) / this.k0,
                        k = this.rh - (a.y - this.y0) / this.k0;
                    c = 0 < this.ns ? (b = Math.sqrt(h * h + k * k), 1) : (b = -Math.sqrt(h * h + k * k), -1);
                    var l = 0;
                    if (0 !== b && (l = Math.atan2(c * h, c * k)), 0 !== b || 0 < this.ns) {
                        if (c = 1 / this.ns, d = Math.pow(b / (this.a * this.f0), c), -9999 === (e = j(this.e, d))) return null
                    } else e = -g;
                    return f = i(l / this.ns + this.long0), a.x = f, a.y = e, a
                }, c.names = ["Lambert Tangential Conformal Conic Projection", "Lambert_Conformal_Conic", "Lambert_Conformal_Conic_2SP", "lcc"]
            }, {
                "../common/adjust_lon": 5,
                "../common/msfnz": 15,
                "../common/phi2z": 16,
                "../common/sign": 21,
                "../common/tsfnz": 24
            }],
            50: [function(a, b, c) {
                function d(a) {
                    return a
                }
                c.init = function() {}, c.forward = d, c.inverse = d, c.names = ["longlat", "identity"]
            }, {}],
            51: [function(a, b, c) {
                var d = a("../common/msfnz"),
                    e = Math.PI / 2,
                    g = 57.29577951308232,
                    h = a("../common/adjust_lon"),
                    i = Math.PI / 4,
                    j = a("../common/tsfnz"),
                    k = a("../common/phi2z");
                c.init = function() {
                    var a = this.b / this.a;
                    this.es = 1 - a * a, "x0" in this || (this.x0 = 0), "y0" in this || (this.y0 = 0), this.e = Math.sqrt(this.es), this.lat_ts ? this.k0 = this.sphere ? Math.cos(this.lat_ts) : d(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) : this.k0 || (this.k0 = this.k ? this.k : 1)
                }, c.forward = function(a) {
                    var d, k, b = a.x,
                        c = a.y;
                    if (90 < c * g && c * g < -90 && 180 < b * g && b * g < -180) return null;
                    if (Math.abs(Math.abs(c) - e) <= 1e-10) return null;
                    if (this.sphere) d = this.x0 + this.a * this.k0 * h(b - this.long0), k = this.y0 + this.a * this.k0 * Math.log(Math.tan(i + .5 * c));
                    else {
                        var l = Math.sin(c),
                            m = j(this.e, c, l);
                        d = this.x0 + this.a * this.k0 * h(b - this.long0), k = this.y0 - this.a * this.k0 * Math.log(m)
                    }
                    return a.x = d, a.y = k, a
                }, c.inverse = function(a) {
                    var b, c, d = a.x - this.x0,
                        f = a.y - this.y0;
                    if (this.sphere) c = e - 2 * Math.atan(Math.exp(-f / (this.a * this.k0)));
                    else {
                        var g = Math.exp(-f / (this.a * this.k0));
                        if (-9999 === (c = k(this.e, g))) return null
                    }
                    return b = h(this.long0 + d / (this.a * this.k0)), a.x = b, a.y = c, a
                }, c.names = ["Mercator", "Popular Visualisation Pseudo Mercator", "Mercator_1SP", "Mercator_Auxiliary_Sphere", "merc"]
            }, {
                "../common/adjust_lon": 5,
                "../common/msfnz": 15,
                "../common/phi2z": 16,
                "../common/tsfnz": 24
            }],
            52: [function(a, b, c) {
                var d = a("../common/adjust_lon");
                c.init = function() {}, c.forward = function(a) {
                    var b = a.x,
                        c = a.y,
                        e = d(b - this.long0),
                        f = this.x0 + this.a * e,
                        g = this.y0 + this.a * Math.log(Math.tan(Math.PI / 4 + c / 2.5)) * 1.25;
                    return a.x = f, a.y = g, a
                }, c.inverse = function(a) {
                    a.x -= this.x0, a.y -= this.y0;
                    var b = d(this.long0 + a.x / this.a),
                        c = 2.5 * (Math.atan(Math.exp(.8 * a.y / this.a)) - Math.PI / 4);
                    return a.x = b, a.y = c, a
                }, c.names = ["Miller_Cylindrical", "mill"]
            }, {
                "../common/adjust_lon": 5
            }],
            53: [function(a, b, c) {
                var d = a("../common/adjust_lon");
                c.init = function() {}, c.forward = function(a) {
                    for (var b = a.x, c = a.y, f = d(b - this.long0), g = c, h = Math.PI * Math.sin(c), i = 0;; i++) {
                        var j = -(g + Math.sin(g) - h) / (1 + Math.cos(g));
                        if (g += j, Math.abs(j) < 1e-10) break
                    }
                    g /= 2, Math.PI / 2 - Math.abs(c) < 1e-10 && (f = 0);
                    var k = .900316316158 * this.a * f * Math.cos(g) + this.x0,
                        l = 1.4142135623731 * this.a * Math.sin(g) + this.y0;
                    return a.x = k, a.y = l, a
                }, c.inverse = function(a) {
                    var b, c;
                    a.x -= this.x0, a.y -= this.y0, c = a.y / (1.4142135623731 * this.a), .999999999999 < Math.abs(c) && (c = .999999999999), b = Math.asin(c);
                    var e = d(this.long0 + a.x / (.900316316158 * this.a * Math.cos(b)));
                    e < -Math.PI && (e = -Math.PI), e > Math.PI && (e = Math.PI), c = (2 * b + Math.sin(2 * b)) / Math.PI, 1 < Math.abs(c) && (c = 1);
                    var f = Math.asin(c);
                    return a.x = e, a.y = f, a
                }, c.names = ["Mollweide", "moll"]
            }, {
                "../common/adjust_lon": 5
            }],
            54: [function(a, b, c) {
                var d = 484813681109536e-20;
                c.iterations = 1, c.init = function() {
                    this.A = [], this.A[1] = .6399175073, this.A[2] = -.1358797613, this.A[3] = .063294409, this.A[4] = -.02526853, this.A[5] = .0117879, this.A[6] = -.0055161, this.A[7] = .0026906, this.A[8] = -.001333, this.A[9] = 67e-5, this.A[10] = -34e-5, this.B_re = [], this.B_im = [], this.B_re[1] = .7557853228, this.B_im[1] = 0, this.B_re[2] = .249204646, this.B_im[2] = .003371507, this.B_re[3] = -.001541739, this.B_im[3] = .04105856, this.B_re[4] = -.10162907, this.B_im[4] = .01727609, this.B_re[5] = -.26623489, this.B_im[5] = -.36249218, this.B_re[6] = -.6870983, this.B_im[6] = -1.1651967, this.C_re = [], this.C_im = [], this.C_re[1] = 1.3231270439, this.C_im[1] = 0, this.C_re[2] = -.577245789, this.C_im[2] = -.007809598, this.C_re[3] = .508307513, this.C_im[3] = -.112208952, this.C_re[4] = -.15094762, this.C_im[4] = .18200602, this.C_re[5] = 1.01418179, this.C_im[5] = 1.64497696, this.C_re[6] = 1.9660549, this.C_im[6] = 2.5127645, this.D = [], this.D[1] = 1.5627014243, this.D[2] = .5185406398, this.D[3] = -.03333098, this.D[4] = -.1052906, this.D[5] = -.0368594, this.D[6] = .007317, this.D[7] = .0122, this.D[8] = .00394, this.D[9] = -.0013
                }, c.forward = function(a) {
                    var b, c = a.x,
                        f = a.y - this.lat0,
                        g = c - this.long0,
                        h = f / d * 1e-5,
                        i = g,
                        j = 1,
                        k = 0;
                    for (b = 1; b <= 10; b++) j *= h, k += this.A[b] * j;
                    var m, n = k,
                        o = i,
                        p = 1,
                        q = 0,
                        r = 0,
                        s = 0;
                    for (b = 1; b <= 6; b++) m = q * n + p * o, p = p * n - q * o, q = m, r = r + this.B_re[b] * p - this.B_im[b] * q, s = s + this.B_im[b] * p + this.B_re[b] * q;
                    return a.x = s * this.a + this.x0, a.y = r * this.a + this.y0, a
                }, c.inverse = function(a) {
                    var b, e, f = a.x,
                        g = a.y,
                        h = f - this.x0,
                        j = (g - this.y0) / this.a,
                        k = h / this.a,
                        l = 1,
                        m = 0,
                        n = 0,
                        o = 0;
                    for (b = 1; b <= 6; b++) e = m * j + l * k, l = l * j - m * k, m = e, n = n + this.C_re[b] * l - this.C_im[b] * m, o = o + this.C_im[b] * l + this.C_re[b] * m;
                    for (var p = 0; p < this.iterations; p++) {
                        var r, s = n,
                            t = o,
                            u = j,
                            v = k;
                        for (b = 2; b <= 6; b++) r = t * n + s * o, s = s * n - t * o, t = r, u += (b - 1) * (this.B_re[b] * s - this.B_im[b] * t), v += (b - 1) * (this.B_im[b] * s + this.B_re[b] * t);
                        s = 1, t = 0;
                        var w = this.B_re[1],
                            x = this.B_im[1];
                        for (b = 2; b <= 6; b++) r = t * n + s * o, s = s * n - t * o, t = r, w += b * (this.B_re[b] * s - this.B_im[b] * t), x += b * (this.B_im[b] * s + this.B_re[b] * t);
                        var y = w * w + x * x;
                        n = (u * w + v * x) / y, o = (v * w - u * x) / y
                    }
                    var z = n,
                        A = o,
                        B = 1,
                        C = 0;
                    for (b = 1; b <= 9; b++) B *= z, C += this.D[b] * B;
                    var D = this.lat0 + C * d * 1e5,
                        E = this.long0 + A;
                    return a.x = E, a.y = D, a
                }, c.names = ["New_Zealand_Map_Grid", "nzmg"]
            }, {}],
            55: [function(a, b, c) {
                var d = a("../common/tsfnz"),
                    e = a("../common/adjust_lon"),
                    f = a("../common/phi2z"),
                    g = Math.PI / 2,
                    h = Math.PI / 4,
                    i = 1e-10;
                c.init = function() {
                    this.no_off = this.no_off || !1, this.no_rot = this.no_rot || !1, isNaN(this.k0) && (this.k0 = 1);
                    var a = Math.sin(this.lat0),
                        b = Math.cos(this.lat0),
                        c = this.e * a;
                    this.bl = Math.sqrt(1 + this.es / (1 - this.es) * Math.pow(b, 4)), this.al = this.a * this.bl * this.k0 * Math.sqrt(1 - this.es) / (1 - c * c);
                    var h, i, f = d(this.e, this.lat0, a),
                        g = this.bl / b * Math.sqrt((1 - this.es) / (1 - c * c));
                    if (g * g < 1 && (g = 1), isNaN(this.longc)) {
                        var j = d(this.e, this.lat1, Math.sin(this.lat1)),
                            k = d(this.e, this.lat2, Math.sin(this.lat2));
                        this.el = 0 <= this.lat0 ? (g + Math.sqrt(g * g - 1)) * Math.pow(f, this.bl) : (g - Math.sqrt(g * g - 1)) * Math.pow(f, this.bl);
                        var l = Math.pow(j, this.bl),
                            m = Math.pow(k, this.bl);
                        i = .5 * ((h = this.el / l) - 1 / h);
                        var n = (this.el * this.el - m * l) / (this.el * this.el + m * l),
                            o = (m - l) / (m + l),
                            p = e(this.long1 - this.long2);
                        this.long0 = .5 * (this.long1 + this.long2) - Math.atan(n * Math.tan(.5 * this.bl * p) / o) / this.bl, this.long0 = e(this.long0);
                        var q = e(this.long1 - this.long0);
                        this.gamma0 = Math.atan(Math.sin(this.bl * q) / i), this.alpha = Math.asin(g * Math.sin(this.gamma0))
                    } else h = 0 <= this.lat0 ? g + Math.sqrt(g * g - 1) : g - Math.sqrt(g * g - 1), this.el = h * Math.pow(f, this.bl), i = .5 * (h - 1 / h), this.gamma0 = Math.asin(Math.sin(this.alpha) / g), this.long0 = this.longc - Math.asin(i * Math.tan(this.gamma0)) / this.bl;
                    this.uc = this.no_off ? 0 : 0 <= this.lat0 ? this.al / this.bl * Math.atan2(Math.sqrt(g * g - 1), Math.cos(this.alpha)) : -1 * this.al / this.bl * Math.atan2(Math.sqrt(g * g - 1), Math.cos(this.alpha))
                }, c.forward = function(a) {
                    var b, c, f, j = a.x,
                        k = a.y,
                        l = e(j - this.long0);
                    if (Math.abs(Math.abs(k) - g) <= i) f = 0 < k ? -1 : 1, c = this.al / this.bl * Math.log(Math.tan(h + f * this.gamma0 * .5)), b = -1 * f * g * this.al / this.bl;
                    else {
                        var m = d(this.e, k, Math.sin(k)),
                            n = this.el / Math.pow(m, this.bl),
                            o = .5 * (n - 1 / n),
                            p = .5 * (n + 1 / n),
                            q = Math.sin(this.bl * l),
                            r = (o * Math.sin(this.gamma0) - q * Math.cos(this.gamma0)) / p;
                        c = Math.abs(Math.abs(r) - 1) <= i ? Number.POSITIVE_INFINITY : .5 * this.al * Math.log((1 - r) / (1 + r)) / this.bl, b = Math.abs(Math.cos(this.bl * l)) <= i ? this.al * this.bl * l : this.al * Math.atan2(o * Math.cos(this.gamma0) + q * Math.sin(this.gamma0), Math.cos(this.bl * l)) / this.bl
                    }
                    return this.no_rot ? (a.x = this.x0 + b, a.y = this.y0 + c) : (b -= this.uc, a.x = this.x0 + c * Math.cos(this.alpha) + b * Math.sin(this.alpha), a.y = this.y0 + b * Math.cos(this.alpha) - c * Math.sin(this.alpha)), a
                }, c.inverse = function(a) {
                    var b, c;
                    this.no_rot ? (c = a.y - this.y0, b = a.x - this.x0) : (c = (a.x - this.x0) * Math.cos(this.alpha) - (a.y - this.y0) * Math.sin(this.alpha), b = (a.y - this.y0) * Math.cos(this.alpha) + (a.x - this.x0) * Math.sin(this.alpha), b += this.uc);
                    var d = Math.exp(-1 * this.bl * c / this.al),
                        h = .5 * (d - 1 / d),
                        j = .5 * (d + 1 / d),
                        k = Math.sin(this.bl * b / this.al),
                        l = (k * Math.cos(this.gamma0) + h * Math.sin(this.gamma0)) / j,
                        m = Math.pow(this.el / Math.sqrt((1 + l) / (1 - l)), 1 / this.bl);
                    return Math.abs(l - 1) < i ? (a.x = this.long0, a.y = g) : Math.abs(1 + l) < i ? (a.x = this.long0, a.y = -1 * g) : (a.y = f(this.e, m), a.x = e(this.long0 - Math.atan2(h * Math.cos(this.gamma0) - k * Math.sin(this.gamma0), Math.cos(this.bl * b / this.al)) / this.bl)), a
                }, c.names = ["Hotine_Oblique_Mercator", "Hotine Oblique Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin", "Hotine_Oblique_Mercator_Azimuth_Center", "omerc"]
            }, {
                "../common/adjust_lon": 5,
                "../common/phi2z": 16,
                "../common/tsfnz": 24
            }],
            56: [function(a, b, c) {
                var d = a("../common/e0fn"),
                    e = a("../common/e1fn"),
                    f = a("../common/e2fn"),
                    g = a("../common/e3fn"),
                    h = a("../common/adjust_lon"),
                    i = a("../common/adjust_lat"),
                    j = a("../common/mlfn"),
                    k = 1e-10,
                    l = a("../common/gN");
                c.init = function() {
                    this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e = Math.sqrt(this.es), this.e0 = d(this.es), this.e1 = e(this.es), this.e2 = f(this.es), this.e3 = g(this.es), this.ml0 = this.a * j(this.e0, this.e1, this.e2, this.e3, this.lat0)
                }, c.forward = function(a) {
                    var b, c, d, e = a.x,
                        f = a.y,
                        g = h(e - this.long0);
                    if (d = g * Math.sin(f), this.sphere) c = Math.abs(f) <= k ? (b = this.a * g, -1 * this.a * this.lat0) : (b = this.a * Math.sin(d) / Math.tan(f), this.a * (i(f - this.lat0) + (1 - Math.cos(d)) / Math.tan(f)));
                    else if (Math.abs(f) <= k) b = this.a * g, c = -1 * this.ml0;
                    else {
                        var m = l(this.a, this.e, Math.sin(f)) / Math.tan(f);
                        b = m * Math.sin(d), c = this.a * j(this.e0, this.e1, this.e2, this.e3, f) - this.ml0 + m * (1 - Math.cos(d))
                    }
                    return a.x = b + this.x0, a.y = c + this.y0, a
                }, c.inverse = function(a) {
                    var b, c, d, e, f, g, i, l, n;
                    if (d = a.x - this.x0, e = a.y - this.y0, this.sphere)
                        if (Math.abs(e + this.a * this.lat0) <= k) b = h(d / this.a + this.long0), c = 0;
                        else {
                            var o;
                            for (g = this.lat0 + e / this.a, i = d * d / this.a / this.a + g * g, l = g, f = 20; f; --f)
                                if (l += n = -1 * (g * (l * (o = Math.tan(l)) + 1) - l - .5 * (l * l + i) * o) / ((l - g) / o - 1), Math.abs(n) <= k) {
                                    c = l;
                                    break
                                } b = h(this.long0 + Math.asin(d * Math.tan(l) / this.a) / Math.sin(c))
                        }
                    else if (Math.abs(e + this.ml0) <= k) c = 0, b = h(this.long0 + d / this.a);
                    else {
                        var p, q, r, s, t;
                        for (g = (this.ml0 + e) / this.a, i = d * d / this.a / this.a + g * g, l = g, f = 20; f; --f)
                            if (t = this.e * Math.sin(l), p = Math.sqrt(1 - t * t) * Math.tan(l), q = this.a * j(this.e0, this.e1, this.e2, this.e3, l), r = this.e0 - 2 * this.e1 * Math.cos(2 * l) + 4 * this.e2 * Math.cos(4 * l) - 6 * this.e3 * Math.cos(6 * l), l -= n = (g * (p * (s = q / this.a) + 1) - s - .5 * p * (s * s + i)) / (this.es * Math.sin(2 * l) * (s * s + i - 2 * g * s) / (4 * p) + (g - s) * (p * r - 2 / Math.sin(2 * l)) - r), Math.abs(n) <= k) {
                                c = l;
                                break
                            } p = Math.sqrt(1 - this.es * Math.pow(Math.sin(c), 2)) * Math.tan(c), b = h(this.long0 + Math.asin(d * p / this.a) / Math.sin(c))
                    }
                    return a.x = b, a.y = c, a
                }, c.names = ["Polyconic", "poly"]
            }, {
                "../common/adjust_lat": 4,
                "../common/adjust_lon": 5,
                "../common/e0fn": 7,
                "../common/e1fn": 8,
                "../common/e2fn": 9,
                "../common/e3fn": 10,
                "../common/gN": 11,
                "../common/mlfn": 14
            }],
            57: [function(a, b, c) {
                var d = a("../common/adjust_lon"),
                    e = a("../common/adjust_lat"),
                    f = a("../common/pj_enfn"),
                    h = a("../common/pj_mlfn"),
                    i = a("../common/pj_inv_mlfn"),
                    j = Math.PI / 2,
                    l = a("../common/asinz");
                c.init = function() {
                    this.sphere ? (this.n = 1, this.m = 0, this.es = 0, this.C_y = Math.sqrt((this.m + 1) / this.n), this.C_x = this.C_y / (this.m + 1)) : this.en = f(this.es)
                }, c.forward = function(a) {
                    var b, c, e = a.x,
                        f = a.y;
                    if (e = d(e - this.long0), this.sphere) {
                        if (this.m)
                            for (var i = this.n * Math.sin(f), j = 20; j; --j) {
                                var l = (this.m * f + Math.sin(f) - i) / (this.m + Math.cos(f));
                                if (f -= l, Math.abs(l) < 1e-10) break
                            } else f = 1 !== this.n ? Math.asin(this.n * Math.sin(f)) : f;
                        b = this.a * this.C_x * e * (this.m + Math.cos(f)), c = this.a * this.C_y * f
                    } else {
                        var m = Math.sin(f),
                            n = Math.cos(f);
                        c = this.a * h(f, m, n, this.en), b = this.a * e * n / Math.sqrt(1 - this.es * m * m)
                    }
                    return a.x = b, a.y = c, a
                }, c.inverse = function(a) {
                    var b, c, f, g;
                    return a.x -= this.x0, f = a.x / this.a, a.y -= this.y0, b = a.y / this.a, this.sphere ? (b /= this.C_y, f /= this.C_x * (this.m + Math.cos(b)), this.m ? b = l((this.m * b + Math.sin(b)) / this.n) : 1 !== this.n && (b = l(Math.sin(b) / this.n)), f = d(f + this.long0), b = e(b)) : (b = i(a.y / this.a, this.es, this.en), (g = Math.abs(b)) < j ? (g = Math.sin(b), c = this.long0 + a.x * Math.sqrt(1 - this.es * g * g) / (this.a * Math.cos(b)), f = d(c)) : g - 1e-10 < j && (f = this.long0)), a.x = f, a.y = b, a
                }, c.names = ["Sinusoidal", "sinu"]
            }, {
                "../common/adjust_lat": 4,
                "../common/adjust_lon": 5,
                "../common/asinz": 6,
                "../common/pj_enfn": 17,
                "../common/pj_inv_mlfn": 18,
                "../common/pj_mlfn": 19
            }],
            58: [function(a, b, c) {
                c.init = function() {
                    var a = this.lat0;
                    this.lambda0 = this.long0;
                    var b = Math.sin(a),
                        c = this.a,
                        e = 1 / this.rf,
                        f = 2 * e - Math.pow(e, 2),
                        g = this.e = Math.sqrt(f);
                    this.R = this.k0 * c * Math.sqrt(1 - f) / (1 - f * Math.pow(b, 2)), this.alpha = Math.sqrt(1 + f / (1 - f) * Math.pow(Math.cos(a), 4)), this.b0 = Math.asin(b / this.alpha);
                    var h = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2)),
                        i = Math.log(Math.tan(Math.PI / 4 + a / 2)),
                        j = Math.log((1 + g * b) / (1 - g * b));
                    this.K = h - this.alpha * i + this.alpha * g / 2 * j
                }, c.forward = function(a) {
                    var b = Math.log(Math.tan(Math.PI / 4 - a.y / 2)),
                        c = this.e / 2 * Math.log((1 + this.e * Math.sin(a.y)) / (1 - this.e * Math.sin(a.y))),
                        d = -this.alpha * (b + c) + this.K,
                        e = 2 * (Math.atan(Math.exp(d)) - Math.PI / 4),
                        f = this.alpha * (a.x - this.lambda0),
                        g = Math.atan(Math.sin(f) / (Math.sin(this.b0) * Math.tan(e) + Math.cos(this.b0) * Math.cos(f))),
                        h = Math.asin(Math.cos(this.b0) * Math.sin(e) - Math.sin(this.b0) * Math.cos(e) * Math.cos(f));
                    return a.y = this.R / 2 * Math.log((1 + Math.sin(h)) / (1 - Math.sin(h))) + this.y0, a.x = this.R * g + this.x0, a
                }, c.inverse = function(a) {
                    for (var b = a.x - this.x0, c = a.y - this.y0, d = b / this.R, e = 2 * (Math.atan(Math.exp(c / this.R)) - Math.PI / 4), f = Math.asin(Math.cos(this.b0) * Math.sin(e) + Math.sin(this.b0) * Math.cos(e) * Math.cos(d)), g = Math.atan(Math.sin(d) / (Math.cos(this.b0) * Math.cos(d) - Math.sin(this.b0) * Math.tan(e))), h = this.lambda0 + g / this.alpha, i = 0, j = f, k = -1e3, l = 0; 1e-7 < Math.abs(j - k);) {
                        if (20 < ++l) return;
                        i = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + f / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(j)) / 2)), k = j, j = 2 * Math.atan(Math.exp(i)) - Math.PI / 2
                    }
                    return a.x = h, a.y = j, a
                }, c.names = ["somerc"]
            }, {}],
            59: [function(a, b, c) {
                var d = Math.PI / 2,
                    e = 1e-10,
                    f = a("../common/sign"),
                    g = a("../common/msfnz"),
                    h = a("../common/tsfnz"),
                    i = a("../common/phi2z"),
                    j = a("../common/adjust_lon");
                c.ssfn_ = function(a, b, c) {
                    return b *= c, Math.tan(.5 * (d + a)) * Math.pow((1 - b) / (1 + b), .5 * c)
                }, c.init = function() {
                    this.coslat0 = Math.cos(this.lat0), this.sinlat0 = Math.sin(this.lat0), this.sphere ? 1 === this.k0 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= e && (this.k0 = .5 * (1 + f(this.lat0) * Math.sin(this.lat_ts))) : (Math.abs(this.coslat0) <= e && (this.con = 0 < this.lat0 ? 1 : -1), this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e)), 1 === this.k0 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= e && (this.k0 = .5 * this.cons * g(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / h(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts))), this.ms1 = g(this.e, this.sinlat0, this.coslat0), this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - d, this.cosX0 = Math.cos(this.X0), this.sinX0 = Math.sin(this.X0))
                }, c.forward = function(a) {
                    var b, c, f, g, i, k, l = a.x,
                        m = a.y,
                        n = Math.sin(m),
                        o = Math.cos(m),
                        p = j(l - this.long0);
                    return Math.abs(Math.abs(l - this.long0) - Math.PI) <= e && Math.abs(m + this.lat0) <= e ? (a.x = NaN, a.y = NaN) : this.sphere ? (b = 2 * this.k0 / (1 + this.sinlat0 * n + this.coslat0 * o * Math.cos(p)), a.x = this.a * b * o * Math.sin(p) + this.x0, a.y = this.a * b * (this.coslat0 * n - this.sinlat0 * o * Math.cos(p)) + this.y0) : (c = 2 * Math.atan(this.ssfn_(m, n, this.e)) - d, g = Math.cos(c), f = Math.sin(c), Math.abs(this.coslat0) <= e ? (i = h(this.e, m * this.con, this.con * n), k = 2 * this.a * this.k0 * i / this.cons, a.x = this.x0 + k * Math.sin(l - this.long0), a.y = this.y0 - this.con * k * Math.cos(l - this.long0)) : (Math.abs(this.sinlat0) < e ? (b = 2 * this.a * this.k0 / (1 + g * Math.cos(p)), a.y = b * f) : (b = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * f + this.cosX0 * g * Math.cos(p))), a.y = b * (this.cosX0 * f - this.sinX0 * g * Math.cos(p)) + this.y0), a.x = b * g * Math.sin(p) + this.x0)), a
                }, c.inverse = function(a) {
                    a.x -= this.x0, a.y -= this.y0;
                    var b, c, f, g, h, k = Math.sqrt(a.x * a.x + a.y * a.y);
                    if (this.sphere) {
                        var l = 2 * Math.atan(k / (.5 * this.a * this.k0));
                        return b = this.long0, c = this.lat0, k <= e || (c = Math.asin(Math.cos(l) * this.sinlat0 + a.y * Math.sin(l) * this.coslat0 / k), b = j(Math.abs(this.coslat0) < e ? 0 < this.lat0 ? this.long0 + Math.atan2(a.x, -1 * a.y) : this.long0 + Math.atan2(a.x, a.y) : this.long0 + Math.atan2(a.x * Math.sin(l), k * this.coslat0 * Math.cos(l) - a.y * this.sinlat0 * Math.sin(l)))), a.x = b, a.y = c, a
                    }
                    if (Math.abs(this.coslat0) <= e) {
                        if (k <= e) return c = this.lat0, b = this.long0, a.x = b, a.y = c, a;
                        a.x *= this.con, a.y *= this.con, f = k * this.cons / (2 * this.a * this.k0), c = this.con * i(this.e, f), b = this.con * j(this.con * this.long0 + Math.atan2(a.x, -1 * a.y))
                    } else g = 2 * Math.atan(k * this.cosX0 / (2 * this.a * this.k0 * this.ms1)), b = this.long0, k <= e ? h = this.X0 : (h = Math.asin(Math.cos(g) * this.sinX0 + a.y * Math.sin(g) * this.cosX0 / k), b = j(this.long0 + Math.atan2(a.x * Math.sin(g), k * this.cosX0 * Math.cos(g) - a.y * this.sinX0 * Math.sin(g)))), c = -1 * i(this.e, Math.tan(.5 * (d + h)));
                    return a.x = b, a.y = c, a
                }, c.names = ["stere"]
            }, {
                "../common/adjust_lon": 5,
                "../common/msfnz": 15,
                "../common/phi2z": 16,
                "../common/sign": 21,
                "../common/tsfnz": 24
            }],
            60: [function(a, b, c) {
                var d = a("./gauss"),
                    e = a("../common/adjust_lon");
                c.init = function() {
                    d.init.apply(this), this.rc && (this.sinc0 = Math.sin(this.phic0), this.cosc0 = Math.cos(this.phic0), this.R2 = 2 * this.rc, this.title || (this.title = "Oblique Stereographic Alternative"))
                }, c.forward = function(a) {
                    var b, c, f, g;
                    return a.x = e(a.x - this.long0), d.forward.apply(this, [a]), b = Math.sin(a.y), c = Math.cos(a.y), f = Math.cos(a.x), g = this.k0 * this.R2 / (1 + this.sinc0 * b + this.cosc0 * c * f), a.x = g * c * Math.sin(a.x), a.y = g * (this.cosc0 * b - this.sinc0 * c * f), a.x = this.a * a.x + this.x0, a.y = this.a * a.y + this.y0, a
                }, c.inverse = function(a) {
                    var b, c, f, g, h;
                    if (a.x = (a.x - this.x0) / this.a, a.y = (a.y - this.y0) / this.a, a.x /= this.k0, a.y /= this.k0, h = Math.sqrt(a.x * a.x + a.y * a.y)) {
                        var i = 2 * Math.atan2(h, this.R2);
                        b = Math.sin(i), c = Math.cos(i), g = Math.asin(c * this.sinc0 + a.y * b * this.cosc0 / h), f = Math.atan2(a.x * b, h * this.cosc0 * c - a.y * this.sinc0 * b)
                    } else g = this.phic0, f = 0;
                    return a.x = f, a.y = g, d.inverse.apply(this, [a]), a.x = e(a.x + this.long0), a
                }, c.names = ["Stereographic_North_Pole", "Oblique_Stereographic", "Polar_Stereographic", "sterea", "Oblique Stereographic Alternative"]
            }, {
                "../common/adjust_lon": 5,
                "./gauss": 45
            }],
            61: [function(a, b, c) {
                var d = a("../common/e0fn"),
                    e = a("../common/e1fn"),
                    f = a("../common/e2fn"),
                    g = a("../common/e3fn"),
                    h = a("../common/mlfn"),
                    i = a("../common/adjust_lon"),
                    j = Math.PI / 2,
                    l = a("../common/sign"),
                    m = a("../common/asinz");
                c.init = function() {
                    this.e0 = d(this.es), this.e1 = e(this.es), this.e2 = f(this.es), this.e3 = g(this.es), this.ml0 = this.a * h(this.e0, this.e1, this.e2, this.e3, this.lat0)
                }, c.forward = function(a) {
                    var b, c, d, e = a.x,
                        f = a.y,
                        g = i(e - this.long0),
                        j = Math.sin(f),
                        k = Math.cos(f);
                    if (this.sphere) {
                        var l = k * Math.sin(g);
                        if (Math.abs(Math.abs(l) - 1) < 1e-10) return 93;
                        c = .5 * this.a * this.k0 * Math.log((1 + l) / (1 - l)), b = Math.acos(k * Math.cos(g) / Math.sqrt(1 - l * l)), f < 0 && (b = -b), d = this.a * this.k0 * (b - this.lat0)
                    } else {
                        var m = k * g,
                            n = Math.pow(m, 2),
                            o = this.ep2 * Math.pow(k, 2),
                            p = Math.tan(f),
                            q = Math.pow(p, 2);
                        b = 1 - this.es * Math.pow(j, 2);
                        var r = this.a / Math.sqrt(b),
                            s = this.a * h(this.e0, this.e1, this.e2, this.e3, f);
                        c = this.k0 * r * m * (1 + n / 6 * (1 - q + o + n / 20 * (5 - 18 * q + Math.pow(q, 2) + 72 * o - 58 * this.ep2))) + this.x0, d = this.k0 * (s - this.ml0 + r * p * n * (.5 + n / 24 * (5 - q + 9 * o + 4 * Math.pow(o, 2) + n / 30 * (61 - 58 * q + Math.pow(q, 2) + 600 * o - 330 * this.ep2)))) + this.y0
                    }
                    return a.x = c, a.y = d, a
                }, c.inverse = function(a) {
                    var b, c, d, e, f, g;
                    if (this.sphere) {
                        var n = Math.exp(a.x / (this.a * this.k0)),
                            o = .5 * (n - 1 / n),
                            p = this.lat0 + a.y / (this.a * this.k0),
                            q = Math.cos(p);
                        b = Math.sqrt((1 - q * q) / (1 + o * o)), f = m(b), p < 0 && (f = -f), g = 0 == o && 0 === q ? this.long0 : i(Math.atan2(o, q) + this.long0)
                    } else {
                        var r = a.x - this.x0,
                            s = a.y - this.y0;
                        for (c = b = (this.ml0 + s / this.k0) / this.a, e = 0; c += d = (b + this.e1 * Math.sin(2 * c) - this.e2 * Math.sin(4 * c) + this.e3 * Math.sin(6 * c)) / this.e0 - c, !(Math.abs(d) <= 1e-10); e++)
                            if (6 <= e) return 95;
                        if (Math.abs(c) < j) {
                            var t = Math.sin(c),
                                u = Math.cos(c),
                                v = Math.tan(c),
                                w = this.ep2 * Math.pow(u, 2),
                                x = Math.pow(w, 2),
                                y = Math.pow(v, 2),
                                z = Math.pow(y, 2);
                            b = 1 - this.es * Math.pow(t, 2);
                            var A = this.a / Math.sqrt(b),
                                B = A * (1 - this.es) / b,
                                C = r / (A * this.k0),
                                D = Math.pow(C, 2);
                            f = c - A * v * D / B * (.5 - D / 24 * (5 + 3 * y + 10 * w - 4 * x - 9 * this.ep2 - D / 30 * (61 + 90 * y + 298 * w + 45 * z - 252 * this.ep2 - 3 * x))), g = i(this.long0 + C * (1 - D / 6 * (1 + 2 * y + w - D / 20 * (5 - 2 * w + 28 * y - 3 * x + 8 * this.ep2 + 24 * z))) / u)
                        } else f = j * l(s), g = this.long0
                    }
                    return a.x = g, a.y = f, a
                }, c.names = ["Transverse_Mercator", "Transverse Mercator", "tmerc"]
            }, {
                "../common/adjust_lon": 5,
                "../common/asinz": 6,
                "../common/e0fn": 7,
                "../common/e1fn": 8,
                "../common/e2fn": 9,
                "../common/e3fn": 10,
                "../common/mlfn": 14,
                "../common/sign": 21
            }],
            62: [function(a, b, c) {
                var e = a("./tmerc");
                c.dependsOn = "tmerc", c.init = function() {
                    this.zone && (this.lat0 = 0, this.long0 = .017453292519943295 * (6 * Math.abs(this.zone) - 183), this.x0 = 5e5, this.y0 = this.utmSouth ? 1e7 : 0, this.k0 = .9996, e.init.apply(this), this.forward = e.forward, this.inverse = e.inverse)
                }, c.names = ["Universal Transverse Mercator System", "utm"]
            }, {
                "./tmerc": 61
            }],
            63: [function(a, b, c) {
                var d = a("../common/adjust_lon"),
                    e = Math.PI / 2,
                    f = 1e-10,
                    g = a("../common/asinz");
                c.init = function() {
                    this.R = this.a
                }, c.forward = function(a) {
                    var b, c, h = a.x,
                        i = a.y,
                        j = d(h - this.long0);
                    Math.abs(i) <= f && (b = this.x0 + this.R * j, c = this.y0);
                    var k = g(2 * Math.abs(i / Math.PI));
                    (Math.abs(j) <= f || Math.abs(Math.abs(i) - e) <= f) && (b = this.x0, c = 0 <= i ? this.y0 + Math.PI * this.R * Math.tan(.5 * k) : this.y0 + Math.PI * this.R * -Math.tan(.5 * k));
                    var l = .5 * Math.abs(Math.PI / j - j / Math.PI),
                        m = l * l,
                        n = Math.sin(k),
                        o = Math.cos(k),
                        p = o / (n + o - 1),
                        q = p * p,
                        r = p * (2 / n - 1),
                        s = r * r,
                        t = Math.PI * this.R * (l * (p - s) + Math.sqrt(m * (p - s) * (p - s) - (s + m) * (q - s))) / (s + m);
                    j < 0 && (t = -t), b = this.x0 + t;
                    var u = m + p;
                    return t = Math.PI * this.R * (r * u - l * Math.sqrt((s + m) * (1 + m) - u * u)) / (s + m), c = 0 <= i ? this.y0 + t : this.y0 - t, a.x = b, a.y = c, a
                }, c.inverse = function(a) {
                    var b, c, e, g, h, i, j, k, l, m, n, o;
                    return a.x -= this.x0, a.y -= this.y0, n = Math.PI * this.R, h = (e = a.x / n) * e + (g = a.y / n) * g, n = 3 * (g * g / (k = -2 * (i = -Math.abs(g) * (1 + h)) + 1 + 2 * g * g + h * h) + (2 * (j = i - 2 * g * g + e * e) * j * j / k / k / k - 9 * i * j / k / k) / 27) / (l = (i - j * j / 3 / k) / k) / (m = 2 * Math.sqrt(-l / 3)), 1 < Math.abs(n) && (n = 0 <= n ? 1 : -1), o = Math.acos(n) / 3, c = 0 <= a.y ? (-m * Math.cos(o + Math.PI / 3) - j / 3 / k) * Math.PI : -(-m * Math.cos(o + Math.PI / 3) - j / 3 / k) * Math.PI, b = Math.abs(e) < f ? this.long0 : d(this.long0 + Math.PI * (h - 1 + Math.sqrt(1 + 2 * (e * e - g * g) + h * h)) / 2 / e), a.x = b, a.y = c, a
                }, c.names = ["Van_der_Grinten_I", "VanDerGrinten", "vandg"]
            }, {
                "../common/adjust_lon": 5,
                "../common/asinz": 6
            }],
            64: [function(a, b) {
                var c = .017453292519943295,
                    d = 57.29577951308232,
                    g = a("./datum_transform"),
                    h = a("./adjust_axis"),
                    i = a("./Proj"),
                    j = a("./common/toPoint");
                b.exports = function k(a, b, l) {
                    function m(a, b) {
                        return (1 === a.datum.datum_type || 2 === a.datum.datum_type) && "WGS84" !== b.datumCode
                    }
                    var n;
                    return Array.isArray(l) && (l = j(l)), a.datum && b.datum && (m(a, b) || m(b, a)) && (k(a, n = new i("WGS84"), l), a = n), "enu" !== a.axis && h(a, !1, l), "longlat" === a.projName ? (l.x *= c, l.y *= c) : (a.to_meter && (l.x *= a.to_meter, l.y *= a.to_meter), a.inverse(l)), a.from_greenwich && (l.x += a.from_greenwich), l = g(a.datum, b.datum, l), b.from_greenwich && (l.x -= b.from_greenwich), "longlat" === b.projName ? (l.x *= d, l.y *= d) : (b.forward(l), b.to_meter && (l.x /= b.to_meter, l.y /= b.to_meter)), "enu" !== b.axis && h(b, !0, l), l
                }
            }, {
                "./Proj": 2,
                "./adjust_axis": 3,
                "./common/toPoint": 23,
                "./datum_transform": 30
            }],
            65: [function(a, b) {
                function c(a, b, c) {
                    a[b] = c.map(function(a) {
                        var b = {};
                        return d(a, b), b
                    }).reduce(function(a, b) {
                        return i(a, b)
                    }, {})
                }

                function d(a, b) {
                    var e;
                    return Array.isArray(a) ? ("PARAMETER" === (e = a.shift()) && (e = a.shift()), void(1 === a.length ? Array.isArray(a[0]) ? (b[e] = {}, d(a[0], b[e])) : b[e] = a[0] : a.length ? "TOWGS84" === e ? b[e] = a : (b[e] = {}, -1 < ["UNIT", "PRIMEM", "VERT_DATUM"].indexOf(e) ? (b[e] = {
                        name: a[0].toLowerCase(),
                        convert: a[1]
                    }, 3 === a.length && (b[e].auth = a[2])) : "SPHEROID" === e ? (b[e] = {
                        name: a[0],
                        a: a[1],
                        rf: a[2]
                    }, 4 === a.length && (b[e].auth = a[3])) : -1 < ["GEOGCS", "GEOCCS", "DATUM", "VERT_CS", "COMPD_CS", "LOCAL_CS", "FITTED_CS", "LOCAL_DATUM"].indexOf(e) ? (a[0] = ["name", a[0]], c(b, e, a)) : a.every(function(a) {
                        return Array.isArray(a)
                    }) ? c(b, e, a) : d(a, b[e])) : b[e] = !0)) : void(b[a] = !0)
                }

                function f(a) {
                    return a * h
                }

                function g(a) {
                    function b(b) {
                        var c = a.to_meter || 1;
                        return parseFloat(b, 10) * c
                    }
                    "GEOGCS" === a.type ? a.projName = "longlat" : "LOCAL_CS" === a.type ? (a.projName = "identity", a.local = !0) : a.projName = "object" == typeof a.PROJECTION ? Object.keys(a.PROJECTION)[0] : a.PROJECTION, a.UNIT && (a.units = a.UNIT.name.toLowerCase(), "metre" === a.units && (a.units = "meter"), a.UNIT.convert && (a.to_meter = parseFloat(a.UNIT.convert, 10))), a.GEOGCS && (a.datumCode = a.GEOGCS.DATUM ? a.GEOGCS.DATUM.name.toLowerCase() : a.GEOGCS.name.toLowerCase(), "d_" === a.datumCode.slice(0, 2) && (a.datumCode = a.datumCode.slice(2)), "new_zealand_geodetic_datum_1949" !== a.datumCode && "new_zealand_1949" !== a.datumCode || (a.datumCode = "nzgd49"), "wgs_1984" === a.datumCode && ("Mercator_Auxiliary_Sphere" === a.PROJECTION && (a.sphere = !0), a.datumCode = "wgs84"), "_ferro" === a.datumCode.slice(-6) && (a.datumCode = a.datumCode.slice(0, -6)), "_jakarta" === a.datumCode.slice(-8) && (a.datumCode = a.datumCode.slice(0, -8)), ~a.datumCode.indexOf("belge") && (a.datumCode = "rnb72"), a.GEOGCS.DATUM && a.GEOGCS.DATUM.SPHEROID && (a.ellps = a.GEOGCS.DATUM.SPHEROID.name.replace("_19", "").replace(/[Cc]larke\_18/, "clrk"), "international" === a.ellps.toLowerCase().slice(0, 13) && (a.ellps = "intl"), a.a = a.GEOGCS.DATUM.SPHEROID.a, a.rf = parseFloat(a.GEOGCS.DATUM.SPHEROID.rf, 10)), ~a.datumCode.indexOf("osgb_1936") && (a.datumCode = "osgb36")), a.b && !isFinite(a.b) && (a.b = a.a);
                    [
                        ["standard_parallel_1", "Standard_Parallel_1"],
                        ["standard_parallel_2", "Standard_Parallel_2"],
                        ["false_easting", "False_Easting"],
                        ["false_northing", "False_Northing"],
                        ["central_meridian", "Central_Meridian"],
                        ["latitude_of_origin", "Latitude_Of_Origin"],
                        ["scale_factor", "Scale_Factor"],
                        ["k0", "scale_factor"],
                        ["latitude_of_center", "Latitude_of_center"],
                        ["lat0", "latitude_of_center", f],
                        ["longitude_of_center", "Longitude_Of_Center"],
                        ["longc", "longitude_of_center", f],
                        ["x0", "false_easting", b],
                        ["y0", "false_northing", b],
                        ["long0", "central_meridian", f],
                        ["lat0", "latitude_of_origin", f],
                        ["lat0", "standard_parallel_1", f],
                        ["lat1", "standard_parallel_1", f],
                        ["lat2", "standard_parallel_2", f],
                        ["alpha", "azimuth", f],
                        ["srsCode", "name"]
                    ].forEach(function(b) {
                        return function(a, b) {
                            var c = b[0],
                                d = b[1];
                            !(c in a) && d in a && (a[c] = a[d], 3 === b.length && (a[c] = b[2](a[c])))
                        }(a, b)
                    }), a.long0 || !a.longc || "Albers_Conic_Equal_Area" !== a.PROJECTION && "Lambert_Azimuthal_Equal_Area" !== a.PROJECTION || (a.long0 = a.longc)
                }
                var h = .017453292519943295,
                    i = a("./extend");
                b.exports = function(a, b) {
                    var c = JSON.parse(("," + a).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g, ',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g, ',"$1"]')),
                        e = c.shift(),
                        f = c.shift();
                    c.unshift(["name", f]), c.unshift(["type", e]), c.unshift("output");
                    var h = {};
                    return d(c, h), g(h.output), i(b, h.output)
                }
            }, {
                "./extend": 33
            }],
            66: [function(a, b, c) {
                function d(a) {
                    return a * (Math.PI / 180)
                }

                function e(a) {
                    return a / Math.PI * 180
                }

                function i(a, b) {
                    var c = "" + a.easting,
                        d = "" + a.northing;
                    return a.zoneNumber + a.zoneLetter + function(a, b, c) {
                        var d = k(c),
                            e = Math.floor(a / 1e5),
                            f = Math.floor(b / 1e5) % 20;
                        return function(a, b, c) {
                            var d = c - 1,
                                e = r.charCodeAt(d),
                                f = s.charCodeAt(d),
                                g = e + a - 1,
                                h = f + b,
                                i = !1;
                            return x < g && (g = g - x + t - 1, i = !0), (g === u || e < u && u < g || (u < g || e < u) && i) && g++, (g === v || e < v && v < g || (v < g || e < v) && i) && ++g === u && g++, x < g && (g = g - x + t - 1), i = w < h && (h = h - w + t - 1, !0), (h === u || f < u && u < h || (u < h || f < u) && i) && h++, (h === v || f < v && v < h || (v < h || f < v) && i) && ++h === u && h++, w < h && (h = h - w + t - 1), String.fromCharCode(g) + String.fromCharCode(h)
                        }(e, f, d)
                    }(a.easting, a.northing, a.zoneNumber) + c.substr(c.length - 5, b) + d.substr(d.length - 5, b)
                }

                function k(a) {
                    var b = a % q;
                    return 0 === b && (b = q), b
                }

                function n(a, b) {
                    for (var c = r.charCodeAt(b - 1), d = 1e5, e = !1; c !== a.charCodeAt(0);) {
                        if (++c === u && c++, c === v && c++, x < c) {
                            if (e) throw "Bad character: " + a;
                            c = t, e = !0
                        }
                        d += 1e5
                    }
                    return d
                }

                function o(a, b) {
                    if ("V" < a) throw "MGRSPoint given invalid Northing " + a;
                    for (var c = s.charCodeAt(b - 1), d = 0, e = !1; c !== a.charCodeAt(0);) {
                        if (++c === u && c++, c === v && c++, w < c) {
                            if (e) throw "Bad character: " + a;
                            c = t, e = !0
                        }
                        d += 1e5
                    }
                    return d
                }

                function p(a) {
                    var b;
                    switch (a) {
                        case "C":
                            b = 11e5;
                            break;
                        case "D":
                            b = 2e6;
                            break;
                        case "E":
                            b = 28e5;
                            break;
                        case "F":
                            b = 37e5;
                            break;
                        case "G":
                            b = 46e5;
                            break;
                        case "H":
                            b = 55e5;
                            break;
                        case "J":
                            b = 64e5;
                            break;
                        case "K":
                            b = 73e5;
                            break;
                        case "L":
                            b = 82e5;
                            break;
                        case "M":
                            b = 91e5;
                            break;
                        case "N":
                            b = 0;
                            break;
                        case "P":
                            b = 8e5;
                            break;
                        case "Q":
                            b = 17e5;
                            break;
                        case "R":
                            b = 26e5;
                            break;
                        case "S":
                            b = 35e5;
                            break;
                        case "T":
                            b = 44e5;
                            break;
                        case "U":
                            b = 53e5;
                            break;
                        case "V":
                            b = 62e5;
                            break;
                        case "W":
                            b = 7e6;
                            break;
                        case "X":
                            b = 79e5;
                            break;
                        default:
                            b = -1
                    }
                    if (0 <= b) return b;
                    throw "Invalid zone letter: " + a
                }
                var q = 6,
                    r = "AJSAJS",
                    s = "AFAFAF",
                    t = 65,
                    u = 73,
                    v = 79,
                    w = 86,
                    x = 90;
                c.forward = function(a, b) {
                    return b = b || 5, i(function(a) {
                        var c, e, f, g, i, k, l, m = a.lat,
                            n = a.lon,
                            o = 6378137,
                            p = .00669438,
                            r = d(m),
                            s = d(n);
                        l = Math.floor((n + 180) / 6) + 1, 180 === n && (l = 60), 56 <= m && m < 64 && 3 <= n && n < 12 && (l = 32), 72 <= m && m < 84 && (0 <= n && n < 9 ? l = 31 : 9 <= n && n < 21 ? l = 33 : 21 <= n && n < 33 ? l = 35 : 33 <= n && n < 42 && (l = 37)), k = d(6 * (l - 1) - 180 + 3), c = p / (1 - p), e = o / Math.sqrt(1 - p * Math.sin(r) * Math.sin(r)), f = Math.tan(r) * Math.tan(r), g = c * Math.cos(r) * Math.cos(r);
                        var t = .9996 * e * ((i = Math.cos(r) * (s - k)) + (1 - f + g) * i * i * i / 6 + (5 - 18 * f + f * f + 72 * g - 58 * c) * i * i * i * i * i / 120) + 5e5,
                            u = .9996 * (o * (.9983242984503243 * r - .002514607064228144 * Math.sin(2 * r) + 2639046602129982e-21 * Math.sin(4 * r) - 35 * p * p * p / 3072 * Math.sin(6 * r)) + e * Math.tan(r) * (i * i / 2 + (5 - f + 9 * g + 4 * g * g) * i * i * i * i / 24 + (61 - 58 * f + f * f + 600 * g - 330 * c) * i * i * i * i * i * i / 720));
                        return m < 0 && (u += 1e7), {
                            northing: Math.round(u),
                            easting: Math.round(t),
                            zoneNumber: l,
                            zoneLetter: function(a) {
                                var b = "Z";
                                return a <= 84 && 72 <= a ? b = "X" : a < 72 && 64 <= a ? b = "W" : a < 64 && 56 <= a ? b = "V" : a < 56 && 48 <= a ? b = "U" : a < 48 && 40 <= a ? b = "T" : a < 40 && 32 <= a ? b = "S" : a < 32 && 24 <= a ? b = "R" : a < 24 && 16 <= a ? b = "Q" : a < 16 && 8 <= a ? b = "P" : a < 8 && 0 <= a ? b = "N" : a < 0 && -8 <= a ? b = "M" : a < -8 && -16 <= a ? b = "L" : a < -16 && -24 <= a ? b = "K" : a < -24 && -32 <= a ? b = "J" : a < -32 && -40 <= a ? b = "H" : a < -40 && -48 <= a ? b = "G" : a < -48 && -56 <= a ? b = "F" : a < -56 && -64 <= a ? b = "E" : a < -64 && -72 <= a ? b = "D" : a < -72 && -80 <= a && (b = "C"), b
                            }(m)
                        }
                    }({
                        lat: a[1],
                        lon: a[0]
                    }), b)
                }, c.inverse = function(a) {
                    var b = function g(a) {
                        var b = a.northing,
                            c = a.easting,
                            d = a.zoneLetter,
                            f = a.zoneNumber;
                        if (f < 0 || 60 < f) return null;
                        var h, i, j, k, l, m, o, p, q, s = 6378137,
                            t = .00669438,
                            u = (1 - Math.sqrt(1 - t)) / (1 + Math.sqrt(1 - t)),
                            v = c - 5e5,
                            w = b;
                        d < "N" && (w -= 1e7), o = 6 * (f - 1) - 180 + 3, h = t / (1 - t), q = (p = w / .9996 / 6367449.145945056) + (3 * u / 2 - 27 * u * u * u / 32) * Math.sin(2 * p) + (21 * u * u / 16 - 55 * u * u * u * u / 32) * Math.sin(4 * p) + 151 * u * u * u / 96 * Math.sin(6 * p), i = s / Math.sqrt(1 - t * Math.sin(q) * Math.sin(q)), j = Math.tan(q) * Math.tan(q), k = h * Math.cos(q) * Math.cos(q), l = s * (1 - t) / Math.pow(1 - t * Math.sin(q) * Math.sin(q), 1.5), m = v / (.9996 * i);
                        var x = q - i * Math.tan(q) / l * (m * m / 2 - (5 + 3 * j + 10 * k - 4 * k * k - 9 * h) * m * m * m * m / 24 + (61 + 90 * j + 298 * k + 45 * j * j - 252 * h - 3 * k * k) * m * m * m * m * m * m / 720);
                        x = e(x);
                        var z, y = (m - (1 + 2 * j + k) * m * m * m / 6 + (5 - 2 * k + 28 * j - 3 * k * k + 8 * h + 24 * j * j) * m * m * m * m * m / 120) / Math.cos(q);
                        if (y = o + e(y), a.accuracy) {
                            var A = g({
                                northing: a.northing + a.accuracy,
                                easting: a.easting + a.accuracy,
                                zoneLetter: a.zoneLetter,
                                zoneNumber: a.zoneNumber
                            });
                            z = {
                                top: A.lat,
                                right: A.lon,
                                bottom: x,
                                left: y
                            }
                        } else z = {
                            lat: x,
                            lon: y
                        };
                        return z
                    }(function(a) {
                        if (a && 0 === a.length) throw "MGRSPoint coverting from nothing";
                        for (var b, c = a.length, d = null, e = "", f = 0; !/[A-Z]/.test(b = a.charAt(f));) {
                            if (2 <= f) throw "MGRSPoint bad conversion from: " + a;
                            e += b, f++
                        }
                        var g = parseInt(e, 10);
                        if (0 === f || c < f + 3) throw "MGRSPoint bad conversion from: " + a;
                        var h = a.charAt(f++);
                        if (h <= "A" || "B" === h || "Y" === h || "Z" <= h || "I" === h || "O" === h) throw "MGRSPoint zone letter " + h + " not handled: " + a;
                        d = a.substring(f, f += 2);
                        for (var i = k(g), j = n(d.charAt(0), i), l = o(d.charAt(1), i); l < p(h);) l += 2e6;
                        var m = c - f;
                        if (m % 2 != 0) throw "MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters" + a;
                        var q, r, s, v = m / 2,
                            w = 0,
                            x = 0;
                        return 0 < v && (q = 1e5 / Math.pow(10, v), r = a.substring(f, f + v), w = parseFloat(r) * q, s = a.substring(f + v), x = parseFloat(s) * q), {
                            easting: w + j,
                            northing: x + l,
                            zoneLetter: h,
                            zoneNumber: g,
                            accuracy: q
                        }
                    }(a.toUpperCase()));
                    return [b.left, b.bottom, b.right, b.top]
                }, c.toPoint = function(a) {
                    var b = c.inverse(a);
                    return [(b[2] + b[0]) / 2, (b[3] + b[1]) / 2]
                }
            }, {}],
            67: [function(a, b) {
                b.exports = {
                    name: "proj4",
                    version: "2.2.1",
                    description: "Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",
                    main: "lib/index.js",
                    directories: {
                        test: "test",
                        doc: "docs"
                    },
                    scripts: {
                        test: "./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"
                    },
                    repository: {
                        type: "git",
                        url: "git://github.com/proj4js/proj4js.git"
                    },
                    author: "",
                    license: "MIT",
                    jam: {
                        main: "dist/proj4.js",
                        include: ["dist/proj4.js", "README.md", "AUTHORS", "LICENSE.md"]
                    },
                    devDependencies: {
                        "grunt-cli": "~0.1.13",
                        grunt: "~0.4.2",
                        "grunt-contrib-connect": "~0.6.0",
                        "grunt-contrib-jshint": "~0.8.0",
                        chai: "~1.8.1",
                        mocha: "~1.17.1",
                        "grunt-mocha-phantomjs": "~0.4.0",
                        browserify: "~3.24.5",
                        "grunt-browserify": "~1.3.0",
                        "grunt-contrib-uglify": "~0.3.2",
                        curl: "git://github.com/cujojs/curl.git",
                        istanbul: "~0.2.4",
                        tin: "~0.4.0"
                    },
                    dependencies: {
                        mgrs: "0.0.0"
                    }
                }
            }, {}],
            "./includedProjections": [function(a, b) {
                b.exports = a("gWUPNW")
            }, {}],
            gWUPNW: [function(a, b) {
                var c = [a("./lib/projections/tmerc"), a("./lib/projections/utm"), a("./lib/projections/sterea"), a("./lib/projections/stere"), a("./lib/projections/somerc"), a("./lib/projections/omerc"), a("./lib/projections/lcc"), a("./lib/projections/krovak"), a("./lib/projections/cass"), a("./lib/projections/laea"), a("./lib/projections/aea"), a("./lib/projections/gnom"), a("./lib/projections/cea"), a("./lib/projections/eqc"), a("./lib/projections/poly"), a("./lib/projections/nzmg"), a("./lib/projections/mill"), a("./lib/projections/sinu"), a("./lib/projections/moll"), a("./lib/projections/eqdc"), a("./lib/projections/vandg"), a("./lib/projections/aeqd")];
                b.exports = function(proj4) {
                    c.forEach(function(a) {
                        proj4.Proj.projections.add(a)
                    })
                }
            }, {
                "./lib/projections/aea": 39,
                "./lib/projections/aeqd": 40,
                "./lib/projections/cass": 41,
                "./lib/projections/cea": 42,
                "./lib/projections/eqc": 43,
                "./lib/projections/eqdc": 44,
                "./lib/projections/gnom": 46,
                "./lib/projections/krovak": 47,
                "./lib/projections/laea": 48,
                "./lib/projections/lcc": 49,
                "./lib/projections/mill": 52,
                "./lib/projections/moll": 53,
                "./lib/projections/nzmg": 54,
                "./lib/projections/omerc": 55,
                "./lib/projections/poly": 56,
                "./lib/projections/sinu": 57,
                "./lib/projections/somerc": 58,
                "./lib/projections/stere": 59,
                "./lib/projections/sterea": 60,
                "./lib/projections/tmerc": 61,
                "./lib/projections/utm": 62,
                "./lib/projections/vandg": 63
            }]
        }, {}, [35])(35)
    }), define("app/controller/app_download", [], function() {
        return function(global_config) {
            window.location.href = global_config.api_server + "/media/static/app-download.html"
        }
    }), define("app/controller/home", [], function() {
        return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, $sessionStorage, YogiyoDistricts, global_config, FacebookPixel) {
            FacebookPixel.track()
        }
    });
var SMILEPAY_USER_CANCEL_MESSAGE = "결제를 취소하셨습니다. 주문 내용 확인 후 다시 결제해주세요.",
    SMILEPAY_FAIL_MESSAGE = "결제가 실패하였습니다. 다른 결제수단을 이용해 주세요.";
define("app/helper", ["sha1"], function(sha1) {
    return {
        log_silent: function(type) {
            return function($delegate) {
                return $delegate[type] = angular.noop, $delegate
            }
        },
        decodeHttpParams: function(url) {
            for (var pair, pairs = (url || location.search).slice(1).split("&"), result = {}, i = 0; i < pairs.length; i++) result[(pair = pairs[i].split("="))[0]] = decodeURIComponent(pair[1] || "");
            return JSON.parse(JSON.stringify(result))
        },
        encodeHttpParams: function(obj) {
            var name, value, subName, subValue, innerObj, i, query = "";
            for (name in obj)
                if ((value = obj[name]) instanceof Array)
                    for (i = 0; i < value.length; ++i) subValue = value[i], (innerObj = {})[name + "[" + i + "]"] = subValue, query += this.encodeHttpParams(innerObj) + "&";
                else if (value instanceof Object)
                for (subName in value) subValue = value[subName], (innerObj = {})[name + "[" + subName + "]"] = subValue, query += this.encodeHttpParams(innerObj) + "&";
            else null != value && (query += encodeURIComponent(name) + "=" + encodeURIComponent(value) + "&");
            return query.length ? query.substr(0, query.length - 1) : query
        },
        defer: function($q, result, is_error) {
            var deferred = $q.defer();
            return is_error ? deferred.reject(result) : deferred.resolve(result), deferred.promise
        },
        extend: function() {
            for (var o = {}, i = 0; i < arguments.length; i++) angular.extend(o, arguments[i]);
            return o
        },
        geo_pr_3857: function() {
            return new Tmap.Projection("EPSG:3857")
        },
        geo_pr_4326: function() {
            return new Tmap.Projection("EPSG:4326")
        },
        geo_make_point: function(lon, lat) {
            return new Tmap.Geometry.Point(lon, lat)
        },
        geo_make_lonlat: function(lon, lat, from_4326) {
            var new_point = (from_4326 ? this.geo_convert_4326_to_3857 : this.geo_convert_3857_to_4326).bind(this)(this.geo_make_point(lon, lat));
            return new Tmap.LonLat(new_point.x, new_point.y)
        },
        geo_convert_4326_to_3857: function(point) {
            return Tmap.Projection.transform(point, this.geo_pr_4326(), this.geo_pr_3857())
        },
        geo_convert_3857_to_4326: function(point) {
            return Tmap.Projection.transform(point, this.geo_pr_3857(), this.geo_pr_4326())
        },
        trim: function(v) {
            return v.replace(/^[\s]*/g, "").replace(/[\s]*$/g, "")
        },
        is_empty: function(o) {
            return "string" == typeof o ? this.trim(o).length < 1 : $.isArray(o) ? o.length < 1 : "object" == typeof o ? Object.keys(o).length < 1 : Boolean(o)
        },
        get_now_string: function() {
            return (new Date).toISOString().split("T")[0].replace(/-/g, "")
        },
        sha1_hex: function(s) {
            return new sha1(s, "TEXT").getHash("SHA-1", "HEX")
        },
        get_district_url: function(loc, category) {
            if (!loc.district && !loc.address) throw "invalid input." + loc;
            if (!loc.zipcode) throw "invalid input." + loc;
            return "/" + (loc.district ? loc.district : loc.address.split(/[\s][\s]*/))[0] + "/" + loc.zipcode + "/" + (category ? category + "/" : "")
        },
        is_ie: function(uas) {
            var ua = uas || window.navigator.userAgent,
                msie = ua.indexOf("MSIE ");
            if (0 < msie) return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)), 10);
            if (0 < ua.indexOf("Trident/")) {
                var rv = ua.indexOf("rv:");
                return parseInt(ua.substring(rv + 3, ua.indexOf(".", rv)), 10)
            }
            var edge = ua.indexOf("Edge/");
            return 0 < edge && parseInt(ua.substring(edge + 5, ua.indexOf(".", edge)), 10)
        },
        is_android_device: function(uas) {
            return !!/android/gi.test(uas)
        },
        is_ios_device: function(uas) {
            return !!/iphone/gi.test(uas) || !!/ipad/gi.test(uas)
        },
        is_mobile_device: function(uas) {
            return !!/android/gi.test(uas) || (!!/iphone/gi.test(uas) || !!/ipad/gi.test(uas))
        },
        is_history_api: !(!window.history || !window.history.pushState),
        get_app_download_link: function(config, uas) {
            var k;
            return /android/gi.test(uas) && (k = "android"), /iphone/gi.test(uas) && (k = "ios"), /ipad/gi.test(uas) && (k = "ios"), config.app_download_links[k] + window.location.search.replace("?", "&")
        },
        get_object_hash: function(obj, skip_key) {
            var n = this.extend(obj);
            for (var i in n) {
                var found = !1;
                /^__/.test(i) && (found = !0), !found && /^\$/.test(i) && (found = !0), !found && skip_key && 0 <= skip_key.indexOf(i) && (found = !0), found && delete n[i]
            }
            return this.sha1_hex(JSON.stringify(n))
        },
        is_online_payment: function(restaurant) {
            return !!(restaurant && 0 < restaurant.payment_methods.length && 0 <= restaurant.payment_methods.indexOf("online"))
        },
        get_location_dong: function(address) {
            var addr, dong = "";
            return address && (0 < address.indexOf("(") && (address = address.substring(0, address.indexOf("(")).trim()), dong = 0 < (addr = address.split(" ")).length ? addr[addr.length - 1] : ""), dong
        },
        getValue: function(obj, val) {
            try {
                for (var arr = val.split("."), i = 0; i < arr.length; i++) {
                    if (!obj[arr[i]]) return "";
                    obj = obj[arr[i]]
                }
                return obj
            } catch (err) {
                return $log.error(err), ""
            }
        },
        emailPattern: function() {
            var regexp = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return {
                test: function(value) {
                    return regexp.test(value)
                }
            }
        },
        passwordPattern: function(scope) {
            return {
                test: function(value) {
                    var is_valid = !1;
                    return value.length < 8 ? scope.error_pwd_msg = "비밀번호는 8자 이상입니다." : /(.)\1{3,}/.test(value) ? scope.error_pwd_msg = "4자리 이상 반복되는 숫자, 문자는 사용하실 수 없습니다." : /\d/.test(value) && /[a-z]/i.test(value) && /[-~`.,!@#$%^&*()/?'"|[\]{}=]/.test(value) ? is_valid = !(scope.error_pwd_msg = "") : scope.error_pwd_msg = "비밀번호는 숫자,영문,특수문자를 포함하여야 합니다.", is_valid
                }
            }
        },
        zeroPad: function(d) {
            var s = d.toString();
            return s.length < 2 ? "0" + s.toString() : s.toString()
        },
        callWebviewScheme: function(url) {
            var iframe = document.createElement("iframe");
            iframe.setAttribute("src", url), document.documentElement.appendChild(iframe), iframe.parentNode.removeChild(iframe)
        },
        setIframe: function(id, strHtml) {
            var iframe = document.getElementById(id);
            (iframe = iframe.contentWindow ? iframe.contentWindow : iframe.contentDocument.document ? iframe.contentDocument.document : iframe.contentDocument).document.open(), iframe.document.write(strHtml), iframe.document.write("<script>window.onload=function(){"), iframe.document.write('parent.document.getElementById("' + id + '").height = document.body.scrollHeight;'), iframe.document.write("}"), iframe.document.write("<\/script>"), iframe.document.close()
        },
        get_krw: function(price) {
            return price.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,") + "원"
        },
        toDataUrl: function(src, callback, outputFormat) {
            var img = new Image;
            img.crossOrigin = "Anonymous", img.onload = function() {
                var dataURL, canvas = document.createElement("CANVAS"),
                    ctx = canvas.getContext("2d");
                canvas.height = this.naturalHeight, canvas.width = this.naturalWidth, ctx.drawImage(this, 0, 0), dataURL = canvas.toDataURL(outputFormat || "image/png"), callback(dataURL), img = canvas = null
            }, img.onerror = function() {
                img = null, callback("error")
            }, img.src = src, !img.complete && void 0 !== img.complete || (img.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==", img.src = src)
        },
        getPaymentName: function(type) {
            return global_config.payments[type] || global_config.payments.cash
        },
        naverpay_init: function(data) {
            Naver.Pay.create({
                mode: data.mode,
                clientId: data.clientId,
                chainId: data.chainId,
                openType: "page"
            }).open({
                merchantUserKey: data.merchantUserKey,
                merchantPayKey: data.merchantPayKey,
                productName: data.productName,
                productCount: data.productCount,
                productItems: data.productItems,
                totalPayAmount: data.totalPayAmount,
                taxScopeAmount: data.taxScopeAmount,
                taxExScopeAmount: data.taxExScopeAmoun,
                returnUrl: data.returnUrl
            })
        },
        smilepay_callback: function(message, $scope) {
            window.is_smilepay_processing = !1, $scope.$emit("loading", !1);
            try {
                var obj;
                if (smilepay_L.destroy(), null == message || "null" === message) return void alert(SMILEPAY_USER_CANCEL_MESSAGE);
                if (null != message.data && "null" !== message.data) obj = JSON.parse(message.data);
                else {
                    if ("string" != typeof message) return void alert(SMILEPAY_USER_CANCEL_MESSAGE);
                    obj = JSON.parse(message)
                }
                document.payform.Spu.value = obj.Spu, document.payform.SpuSignToken.value = obj.SpuSignToken, document.payform.Tid.value = obj.Tid, document.payform.AuthToken.value = obj.AuthToken, document.payform.ResultCode.value = obj.ResultCode, document.payform.Version.value = obj.Version, 0 < obj.Spu.length && 0 < obj.SpuSignToken.length ? (document.payform.target = "", document.payform.action = "/smilepay/next/" + document.payform.OrderId.value + "/", document.payform.acceptCharset = "utf-8", document.payform.canHaveHTML && (document.charset = document.payform.acceptCharset), document.payform.submit()) : alert(SMILEPAY_FAIL_MESSAGE)
            } catch (error) {
                alert(SMILEPAY_FAIL_MESSAGE)
            }
        },
        smilepay_init: function(data, $scope) {
            window.is_smilepay_processing = !0, $scope.$emit("loading", !0);
            var self = this;
            "0000" === data.ResultCode || "535" === data.ResultCode ? (document.payform.OrderId.value = data.OrderId, document.payform.Moid.value = data.Moid, document.payform.ResultCode.value = data.ResultCode, document.payform.ResultMsg.value = data.ResultMsg, document.payform.TxnId.value = data.TxnId, smilepay_L.callPopup(data.TxnId, function(message) {
                self.smilepay_callback(message, $scope)
            }, "v5.4")) : alert(SMILEPAY_FAIL_MESSAGE)
        },
        smilepay_close: function() {
            window.smilepay_L && smilepay_L.destroy()
        },
        getNewLineStr: function(txt) {
            return (txt || "").replace(/\n/g, "<br />")
        },
        get_location_address: function(obj, type) {
            var addr = obj[type || "law"];
            return addr ? addr.sido + " " + addr.sigugun + " " + addr.dongmyun + " " + (addr.ri ? addr.ri + " " : "") + addr.detail : ""
        },
        get_location_prop: function(obj, prop, type) {
            var addr = obj[type || "law"];
            return addr && addr[prop] ? addr[prop] : ""
        },
        replace_district_url: function(url, zipcode) {
            if (!url || url.indexOf("/") < 0 || !zipcode) return url;
            var district = url.replace(/(^\/|\/$)/g, "").split("/");
            return "/" + district[0] + "/" + zipcode + "/" + (district[2] && "" != district[2] ? district[2] + "/" : "")
        },
        getErrorMessage: function(arr, k) {
            for (var i = 0; i < arr.length; i++) {
                var index = arr[i].indexOf(k);
                if (-1 < index) return arr[i][index + 1]
            }
            return null
        },
        getCartSubmitResult: function(data, header) {
            var jsonData, retData = JSON.parse(data);
            if (angular.isArray(retData)) {
                for (var errorMsg, errorType, errorTypes = ["nothing", "zip_code", "phone_invalid", "discount", "additional_discount", "additional_discount_per_menu", "disable_safen_number", "items", "street_number", "payment", "coupon", "pre_order", "pickup", "yotimedeal", "phone", "error", "delivery_fee", "error_stock", "loyalty_points", "gift_validation", "subscription"], i = 0; i < errorTypes.length && (errorType = errorTypes[i], !(errorMsg = this.getErrorMessage(retData, errorType))); i++);
                jsonData = {
                    error: !0,
                    type: errorType,
                    error_message: 1 < retData[0].length && errorMsg ? errorMsg : "주문을 처리하지 못했습니다. 다시 시도해주세요."
                }, "error_stock" == errorType && 2 < retData[0].length && (jsonData.stock_info = retData[0][2])
            } else angular.isObject(retData) && (jsonData = retData);
            return jsonData
        },
        getLogoUrl: function(logo_url) {
            return logo_url ? (0 <= logo_url.indexOf("/media//media/") && (logo_url = logo_url.replace("/media//media/", "/media/")), logo_url) : "image/default_restaurant_logo.png"
        },
        getErrorStatusMessageForOrder: function(error) {
            var message;
            return angular.isArray(error.data) && 1 < error.data[0].length ? message = error.data[0][1] : angular.isObject(error.data) && (message = error.data.error_message), message || (message = "주문을 처리하지 못했습니다. 다시 시도해주세요.", (500 <= error.status || 0 == error.status) && (message = "서비스에 문제가 발생했습니다. 잠시뒤 다시 시도해주세요.")), message
        },
        utmUrl2Parameter: function(url) {
            for (var parameter = {}, parameterArray = url.slice(url.indexOf("?") + 1).split("&"), i = 0; i < parameterArray.length; i++) {
                var splitedParameter = parameterArray[i].split("=");
                1 < splitedParameter.length && (parameter[splitedParameter[0]] = splitedParameter[1])
            }
            return parameter
        },
        getAppsFlyLink: function(url) {
            var parameter = this.utmUrl2Parameter(url);
            return " https://yogiyo.onelink.me/BlI7?pid=moweb&af_web_dp=https://www.yogiyo.co.kr/&af_click_lookback=7d&c=" + (parameter.utm_campaign || "") + "&af_adset=" + (parameter.utm_source || "") + "&af_keywords=" + (parameter.utm_term || "") + "&af_dp=yogiyoinapp://inapp?act=sign_in&rt=0"
        },
        getEventBannerResult: function(result) {
            if (angular.isArray(result)) {
                for (var track_code, arr, i = 0; i < result.length; i++) {
                    try {
                        track_code = JSON.parse(result[i].tracking_url)
                    } catch (err) {
                        track_code = {
                            tracking_ga: ""
                        }, $log.error("marketing banner ga parse error")
                    }
                    result[i].tracking_code = track_code, /_\d+/.test(result[i].event_name) ? (arr = result[i].event_name.split("_"), result[i].index = arr[arr.length - 1]) : result[i].index = 0
                }
                return result.sort(function(a, b) {
                    return a.index - b.index
                }), result
            }
        }
    }
}), define("app/controller/base", ["app/helper", "md5"], function(helper, md5) {
    return function($scope, $rootScope, $log, $location, $routeParams, $localStorage, $sessionStorage, $timeout, global_config, YogiyoModal, YogiyoAccount, GA, GTM) {
        $rootScope.check_login = function() {
            return YogiyoAccount.check()
        }, $rootScope.select_home_category = function(category, city, zipcode) {
            if ("string" == typeof category) {
                var category_found;
                $sessionStorage.categories[category] && $log.debug($sessionStorage.categories[category]);
                for (var i = 0; i < $sessionStorage.categories.length; i++)
                    if ($sessionStorage.categories[i].slug == category) {
                        category_found = $sessionStorage.categories[i];
                        break
                    } category = category_found
            }
            if (!$sessionStorage.location || !$sessionStorage.location.district || $sessionStorage.location.district.length < 1) {
                if ($scope.$emit("location-not-detect-hide"), $rootScope.is_mobile_device) {
                    var pos = $("#header").height() - 117;
                    $(document.body).scrollTop(pos)
                }
                $scope.$emit("location-not-detect")
            } else {
                city || (city = $sessionStorage.location.district[0]), zipcode || (zipcode = $sessionStorage.location.zipcode);
                var url = "/" + city + "/" + zipcode + "/";
                category && "all" != category.slug && (url += category.slug + "/");
                var info = GA.get_tracker_info($location.path(), $routeParams),
                    label = "Change_Category";
                "/" == $location.path() && (label = "SelectCategory"), $rootScope.selected_category = "all" == category.slug ? category.title.replace("음식점 ", "") : category.title, $rootScope.selected_category_slug = "all" == category.slug ? "전체" : category.slug, ga("send", "event", "Navigation", label, category.title, {
                    title: info.title,
                    page: info.page
                }), $location.url(url), dataLayer.push({
                    event: GTM.EVENT.CATEGORY_SELECTED,
                    shopCategorySelected: $rootScope.selected_category_slug,
                    locationArea: zipcode
                })
            }
        }, $rootScope.setEvent = function(id, banner_info) {
            var info = GA.get_tracker_info($location.path(), $routeParams);
            ga("send", "event", "Navigation", "EventBanner", helper.getValue(banner_info, "tracking_code.tracking_ga"), {
                title: info.title,
                page: info.page
            }), $location.url("/event/" + id + "/")
        }
    }
}), define("app/controller/cart", ["app/helper"], function(helper) {
    return function($scope, $rootScope, $routeParams, $log, $location, $modal, $localStorage, $sessionStorage, YogiyoCart, YogiyoModal, YogiyoRestaurant, GTM, GA) {
        $scope.$emit("page-title-changed", {
            title: "주문하신 내역이에요.",
            name: "장바구니"
        }), $scope.cart = YogiyoCart, $scope.restaurant = $scope.cart.get().restaurant;
        var info = GA.get_tracker_info($location.path(), $routeParams),
            restaurant_id = $scope.cart.get_restaurant_id();
        if ($scope.cart.is_empty() || !restaurant_id || $rootScope.is_mobile_width) {
            $scope.add_cart = function() {
                ga("send", "event", "Ordering", "Cart_Click", "메뉴추가", {
                    title: info.title,
                    page: info.page
                }), !$scope.cart.is_empty() && $scope.cart.get().restaurant_id ? $location.url("/" + $scope.cart.get().restaurant_id + "/") : $location.url("/")
            }, $scope.checkout = function() {
                $scope.cart.check_login_for_discount() ? YogiyoModal.base_confirm({
                    title: "요기요배달",
                    message: "로그인하신 경우에만 할인되는 레스토랑입니다. 지금 로그인하시고 할인 받으시겠어요?",
                    callbacks: {
                        confirm: function() {
                            $location.url("/login/")
                        },
                        close: function() {
                            $scope.cart.checkout()
                        }
                    }
                }) : (ga("send", "event", "Ordering", "Cart_Click", "주문하기", {
                    title: info.title,
                    page: info.page
                }), $scope.cart.checkout())
            };
            var _lat, _lng;
            $scope.$emit("loading", !0), $sessionStorage.location && $sessionStorage.location.point && (_lat = $sessionStorage.location.point.lat, _lng = $sessionStorage.location.point.lng), YogiyoRestaurant.get({
                lat: _lat,
                lng: _lng,
                restaurant_id: restaurant_id,
                zip_code: $sessionStorage.location ? $sessionStorage.location.zipcode : null
            }).$promise.then(function(result) {
                $scope.restaurant = result
            }, function(result) {
                $scope.$emit("network-error", {
                    title: "레스토랑 정보를 가져오지 못했습니다.",
                    content: "잠시 뒤 다시 시도해주세요."
                })
            }).finally(function(result) {
                $scope.$emit("loading", !1)
            }), $scope.delivery_discount_value = function() {
                return $scope.restaurant.discounts && $scope.restaurant.discounts.additional ? $scope.restaurant.discounts.additional.delivery.amount : 0
            }, $scope.additional_discount_value = function() {
                var restaurant = $scope.restaurant;
                return restaurant ? restaurant.discount_percent : 0
            };

            function getTime(dStr) {
                try {
                    var d = dStr.split("T")[1].split(":");
                    return helper.zeroPad(d[0]) + ":" + helper.zeroPad(d[1])
                } catch (err) {
                    return null
                }
            }
            $scope.discount_from_time = function() {
                var restaurant = $scope.restaurant;
                if (restaurant && restaurant.discount_from) return getTime(restaurant.discount_from)
            }, $scope.discount_to_time = function() {
                var restaurant = $scope.restaurant;
                if (restaurant && restaurant.discount_until) return getTime(restaurant.discount_until)
            }
        } else $location.url("/" + restaurant_id + "/")
    }
}), define("app/controller/checkout", ["angular", "app/helper", "md5"], function(angular, helper, md5) {
    return function($scope, $rootScope, $routeParams, $q, $timeout, $log, $location, $window, $localStorage, $modal, $sessionStorage, $sce, global_config, YogiyoAccount, YogiyoCart, YogiyoCheckout, YogiyoCheckoutForIE, YogiyoSMS, YogiyoLocation, YogiyoModal, GTM, GA, FacebookPixel) {
        if (!YogiyoLocation.is_set_geolocation()) return $window.alert("현재 설정된 배달 주소가 정확하지 않습니다.\n배달 주소를 다시 설정해주세요."), void $location.url("/location");
        if ($scope.cart = YogiyoCart, $scope.cart.is_empty()) $location.url("/");
        else {
            $scope.restaurant = $scope.cart.get().restaurant;
            var isLogin = YogiyoAccount.check();
            $scope.$emit("page-title-changed", {
                title: "요기요 결제하기: " + $scope.cart.get().restaurant_name,
                name: "결제하기"
            }), $scope.$watch("delivery_collapse", function(newValue, oldValue) {
                if (void 0 === newValue) return $scope.delivery_icon_down_up = "icon-arr-up", void($scope.delivery_collapse = !0);
                $scope.delivery_icon_down_up = newValue ? "icon-arr-up" : "icon-arr-down"
            }), $scope.$watch("request_collapse", function(newValue, oldValue) {
                $scope.request_icon_down_up = newValue ? "icon-arr-down" : "icon-arr-up"
            }), $scope.$watch("agree_collapse", function(newValue, oldValue) {
                $scope.agree_icon_down_up = newValue ? "icon-arr-down" : "icon-arr-up"
            });
            var info = GA.get_tracker_info($location.path(), $routeParams),
                disuse_coupon = function() {
                    var deferred = $q.defer();
                    return YogiyoCart.disuse_coupon({
                        restaurant_id: $scope.cart.get_restaurant_id(),
                        coupon_code: $scope.input_coupon_code,
                        phone: $sessionStorage.checkout_input.phone,
                        payment: $sessionStorage.checkout_input.payment
                    }).$promise.then(function(result, a, b, c) {
                        return deferred.resolve(result)
                    }, function(error) {
                        return deferred.reject(error)
                    }), deferred.promise
                },
                check_coupon = function() {
                    YogiyoCart.check_coupon({
                        restaurant_id: $scope.cart.get_restaurant_id(),
                        coupon_code: $scope.input_coupon_code,
                        phone: $sessionStorage.checkout_input.phone,
                        payment: $sessionStorage.checkout_input.payment
                    }).$promise.then(function(result, a, b, c) {
                        if ("OK" == result.status_code) {
                            var display_coupon_value = result.coupon_discount.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
                            $scope.coupon_verified = !0;
                            var apply_coupon_total = $scope.total_price + result.coupon_discount;
                            apply_coupon_total < 0 && (display_coupon_value = -$scope.total_price), $scope.total_price = apply_coupon_total < 0 ? 0 : apply_coupon_total, $scope.coupon_discount_price = result.coupon_discount, $scope.coupon_discount = display_coupon_value + "원", $scope.coupon_code = $scope.input_coupon_code, $scope.input_coupon_code = display_coupon_value + "원", $scope.btn_coupon = "취소", ga("send", "event", "Ordering", "Coupon", $scope.coupon_code, {
                                title: info.title,
                                page: info.page
                            }), dataLayer.push({
                                event: GTM.EVENT.ORDER_COUPON_SUBMITTED,
                                locationAddress: $sessionStorage.location.address,
                                locationLat: $sessionStorage.location && $sessionStorage.location.point && $sessionStorage.location.point.lat ? $sessionStorage.location.point.lat : "",
                                locationLon: $sessionStorage.location && $sessionStorage.location.point && $sessionStorage.location.point.lng ? $sessionStorage.location.point.lng : "",
                                locationCity: $sessionStorage.location.address ? $sessionStorage.location.address.split(" ")[0] : "",
                                locationArea: $sessionStorage.location.zipcode || "",
                                locationCountry: "South Korea",
                                shopId: $scope.cart.get_restaurant_id(),
                                currencyCode: "KRW",
                                cartValue: $scope.original_total_price,
                                coupon: $scope.coupon_code,
                                couponValue: result.coupon_discount
                            })
                        } else $scope.coupon_verified = !1, $scope.invalid_coupon_message = result.error_msg, YogiyoModal.base_popup({
                            title: "요기요배달",
                            content: result.error_msg,
                            callbacks: {
                                close: function() {
                                    $("input[name=coupon]").focus()
                                }
                            }
                        }), dataLayer.push({
                            event: GTM.EVENT.ORDER_COUPON_FAILED,
                            couponRejected: $scope.input_coupon_code,
                            couponRejectMessage: result.error_msg
                        })
                    }, function(error) {
                        $log.error(error);
                        var message = "쿠폰 적용 문제가 발생 했습니다. 다시 시도해주세요.";
                        YogiyoModal.base_popup({
                            title: "요기요배달",
                            content: message
                        }), dataLayer.push({
                            event: GTM.EVENT.ORDER_COUPON_FAILED,
                            couponRejected: $scope.input_coupon_code,
                            couponRejectMessage: message
                        })
                    })
                },
                prev_payment_elem, is_online_payment = function(t) {
                    return ["creditcard", "cash"].indexOf(t) < 0
                };
            $scope.select_payment = function(evt) {
                var payment_elem = evt.target,
                    payment_type = evt.target.value,
                    ga_label = helper.getPaymentName(payment_type);
                $rootScope.is_11st && $scope.check_enable_online_payment() && ("cash" == payment_type || "creditcard" == payment_type) && window.alert("현장 " + ga_label.replace("결제", " 결제") + " 선택시 보유하신 할인혜택이 적용 불가능합니다");
                var modal_option = {
                    title: "요기요배달",
                    message: "요기서결제를 현장결제(배달원에게 직접 결제)로 변경시 적용하신 할인 혜택을 받을 수 없습니다.그래도 변경하시겠어요?",
                    callbacks: {
                        confirm: function() {
                            $scope.clear_coupon(), $scope.total_price = $scope.original_total_price, $scope.select_payment_type(is_online_payment(payment_type), ga_label), prev_payment_elem = payment_elem
                        },
                        close: function() {
                            $sessionStorage.checkout_input.payment = prev_payment_elem.value
                        }
                    }
                };
                $rootScope.is_yogiyo && (($scope.is_discount() || $scope.coupon_verified) && !is_online_payment(payment_type) && is_online_payment(prev_payment_elem.value) ? YogiyoModal.base_confirm(modal_option) : ($scope.coupon_verified || is_online_payment(payment_type) || !is_online_payment(prev_payment_elem.value) || $scope.clear_coupon(), is_online_payment(payment_type) && !is_online_payment(prev_payment_elem.value) && ($scope.total_price = $scope.original_total_price + $scope.additional_discount + $scope.additional_discount_per_menu + $scope.discount_value), $scope.select_payment_type(is_online_payment(payment_type), ga_label), prev_payment_elem = payment_elem))
            }, $scope.is_online_payment = function() {
                return is_online_payment($sessionStorage.checkout_input.payment)
            }, $scope.check_enable_online_payment = function() {
                return helper.is_online_payment($scope.restaurant)
            }, $scope.apply_coupon = function(event) {
                if (!event || 13 == event.which)
                    if (event && 13 == event.which && event.preventDefault(), $scope.coupon_verified) YogiyoModal.base_confirm({
                        title: "요기요배달",
                        message: "쿠폰을 취소하고 다시 입력할까요?",
                        callbacks: {
                            confirm: function() {
                                $scope.clear_coupon(), $("input[name=coupon]").focus()
                            }
                        }
                    });
                    else {
                        if (!$scope.input_coupon_code) return void YogiyoModal.base_popup({
                            title: "요기요배달",
                            content: "쿠폰코드를 입력해주세요.",
                            callbacks: {
                                close: function() {
                                    $("input[name=coupon]").focus()
                                }
                            }
                        });
                        if (!$scope.sms_verified) return void($sessionStorage.checkout_input.phone ? check_phone_verified($scope.apply_coupon) : YogiyoModal.base_popup({
                            title: "요기요배달",
                            content: "휴대전화를 입력해주세요.",
                            callbacks: {
                                close: function() {
                                    $("input[name=phone]").focus()
                                }
                            }
                        }));
                        $scope.$emit("loading", !0), disuse_coupon().then(function(result) {
                            $log.debug("verify coupon: %s", result.status_code)
                        }, function(error) {
                            $log.debug("verify coupon: error")
                        }).finally(function() {
                            $scope.$emit("loading", !1), check_coupon()
                        })
                    }
            }, $scope.clear_coupon = function() {
                $scope.coupon_code = "", $scope.input_coupon_code = "", $rootScope.is_yogiyo && $scope.check_enable_online_payment() && $scope.is_discount() && ($rootScope.is_mobile_device || $rootScope.is_ie) ? $scope.total_price = $scope.original_total_price + $scope.additional_discount + $scope.additional_discount_per_menu + $scope.discount_value : $scope.total_price = $scope.original_total_price, $scope.coupon_verified = void 0, $scope.btn_coupon = "적용"
            }, $scope.check_invalid_coupon = function() {
                return "creditcard" != $sessionStorage.checkout_input.payment && "cash" != $sessionStorage.checkout_input.payment && 0 == $scope.coupon_verified
            }, $scope.select_payment_type = function(isOnline, type) {
                var pay_type_label = "Payment_Offline";
                isOnline && (pay_type_label = "Payment_Online"), ga("send", "event", "Ordering", pay_type_label, type, {
                    title: info.title,
                    page: info.page
                })
            }, $scope.select_order_request = function() {
                $scope.request_collapse = !$scope.request_collapse, ga("send", "event", "Ordering", "Checkout_Request", "Click", {
                    title: info.title,
                    page: info.page
                })
            }, $scope.check_address_detail = function(evt) {
                $sessionStorage.checkout_input.address_detail = evt.currentTarget.value
            }, $scope.check_order_request = function(evt) {
                $sessionStorage.checkout_input.comment = evt.currentTarget.value, "" != $sessionStorage.checkout_input.comment && ga("send", "event", "Ordering", "Checkout_Request", "Text", {
                    title: info.title,
                    page: info.page
                })
            };
            var checkout_for_mobile = function() {
                    var checkout_data = {
                        restaurant_id: $scope.cart.get_restaurant_id(),
                        description: helper.trim($sessionStorage.checkout_input.address),
                        comment: helper.trim($sessionStorage.checkout_input.comment),
                        name: "mobile.web" + ($rootScope.is_11st ? "-st11" : ""),
                        payment: $sessionStorage.checkout_input.payment,
                        phone: helper.trim($sessionStorage.checkout_input.phone),
                        preorder: "no",
                        sms_verify: null,
                        street_number: helper.trim($sessionStorage.checkout_input.address_detail),
                        tos: !0,
                        zip_code: $sessionStorage.checkout_input.zipcode,
                        safen_number_checked: $scope.safen_number_checked,
                        sido: helper.getValue($sessionStorage, "location.adiyo.law.sido"),
                        gugun: helper.getValue($sessionStorage, "location.adiyo.law.sigugun"),
                        dong: helper.getValue($sessionStorage, "location.adiyo.law.dongmyun"),
                        admin_dong: helper.getValue($sessionStorage, "location.adiyo.admin.dongmyun"),
                        ri: helper.getValue($sessionStorage, "location.adiyo.law.ri"),
                        bunji: helper.getValue($sessionStorage, "location.adiyo.law.detail"),
                        road: helper.getValue($sessionStorage, "location.adiyo.road.dongmyun"),
                        building: helper.getValue($sessionStorage, "location.adiyo.road.detail"),
                        skip_duplicate: !0
                    };
                    if (!YogiyoLocation.is_set_geolocation()) return $scope.$emit("loading", !1), $window.alert("현재 설정된 배달 주소가 정확하지 않습니다.\n배달 주소를 다시 설정해주세요."), void $location.url("/location");
                    $sessionStorage.location && $sessionStorage.location.point && (checkout_data.lat = $sessionStorage.location.point.lat, checkout_data.lng = $sessionStorage.location.point.lng);
                    var userEmail = YogiyoAccount.get_user_email();
                    userEmail && (checkout_data.email = userEmail), $scope.coupon_verified && $scope.coupon_code && (checkout_data.coupon_code = $scope.coupon_code), $rootScope.is_yogiyo && $scope.is_online_payment() && $scope.is_discount() && (checkout_data.order_serving_type = "delivery", checkout_data.discount_percent = $scope.restaurant.discount_percent, checkout_data.additional_discount = $scope.additional_discount, checkout_data.additional_discount_per_menu = $scope.additional_discount_per_menu), "11st" == $rootScope.origin_seller ? checkout_data.origin = $rootScope.origin_seller : "add2paper" == $rootScope.origin_seller ? (checkout_data.a2p_profile_id = $rootScope.queryParams.profile_id, checkout_data.a2p_phone_number = $rootScope.queryParams.phone, checkout_data.origin = $rootScope.origin_seller) : "yanolja" == $rootScope.origin_seller && "pass" == $sessionStorage.yanolja_checkout_onetime && (checkout_data.origin = $rootScope.origin_seller), helper.getValue($sessionStorage, "naverplace_extrainfo.restaurant_id") == checkout_data.restaurant_id && (checkout_data.clid = "nplace");
                    var last_checkout = {},
                        last_checkout_cart = YogiyoCart.get();
                    last_checkout.order = angular.copy(checkout_data), last_checkout.restaurant_id = $scope.cart.get_restaurant_id(), last_checkout.category = $rootScope.selected_category, last_checkout.location = $sessionStorage.location, last_checkout.cart = {}, last_checkout.cart.default_price = last_checkout_cart.default_price, $rootScope.is_yogiyo && $scope.is_online_payment() && $scope.is_discount() && (last_checkout.cart.get_per_menu_count = $scope.get_per_menu_count(), last_checkout.cart.get_delivery_discount_total_krw = $scope.get_delivery_discount_total_krw(), last_checkout.cart.get_additional_discount_total_krw = $scope.get_additional_discount_total_krw()), last_checkout.cart.restaurant = {
                        min_order_amount: $scope.min_order_amount,
                        delivery_fee: $scope.delivery_fee,
                        categories: $scope.restaurant.categories,
                        rating: $scope.restaurant.rating
                    }, last_checkout.cart.items = [];
                    for (var i = 0, len = last_checkout_cart.items.length; i < len; i++) {
                        var item = {};
                        item.price = last_checkout_cart.items[i].price, item.base_price = last_checkout_cart.items[i].base_price, item.default_price = last_checkout_cart.items[i].default_price, item.name = last_checkout_cart.items[i].name, item.slug = last_checkout_cart.items[i].slug, item.amount = last_checkout_cart.items[i].amount, item.subchoices = angular.copy(last_checkout_cart.items[i].subchoices), last_checkout.cart.items.push(item)
                    }
                    "onlycard" == $sessionStorage.checkout_input.payment && (checkout_data.last_checkout = JSON.stringify(last_checkout)), YogiyoCheckout.submit(checkout_data).$promise.then(function(result) {
                        if (!result.success && "naverpay" != $sessionStorage.checkout_input.payment && "smilepay" != $sessionStorage.checkout_input.payment && "chaipay" != $sessionStorage.checkout_input.payment) {
                            var title = "",
                                message = "주문을 처리하지 못했습니다. 다시 시도해주세요.";
                            return result.pending && (title = result.pending.title, message = result.pending.message), result.error && (message = result.error_message), void YogiyoModal.base_popup({
                                title: "서비스 안내",
                                content: message
                            })
                        }
                        if ($localStorage.last_checkout = {
                                order: checkout_data,
                                restaurant_id: $scope.cart.get_restaurant_id(),
                                category: $rootScope.selected_category,
                                cart: angular.copy(last_checkout.cart)
                            }, $localStorage.last_checkout.location = $sessionStorage.location, $localStorage.last_checkout.cart.restaurant.min_order_amount = $scope.min_order_amount, $localStorage.last_checkout.cart.restaurant.delivery_fee = $scope.delivery_fee, window.localStorage.setItem("ngStorage-last_checkout", JSON.stringify($localStorage.last_checkout)), "html" in result) {
                            var html = result.html.replace("<form", '<form accept-charset="euc-kr"  style="display:none"'),
                                form_string = html.match(/<form[^>]*>([\s\S]*?)<\/form>/gim),
                                script_string = /<script\b[^>]*>([\s\S]*?)<\/script>/gim.exec(html),
                                action_string = /onload="(.+?)"/gim.exec(html);
                            if (form_string && script_string && action_string)
                                if (0 < $("#inicis_pay").length) document.body.removeChild(document.getElementById("btpg_form")), document.body.insertAdjacentHTML("beforeend", form_string[0].replace("<form", '<form id="btpg_form"')), eval(action_string[1]);
                                else {
                                    document.body.insertAdjacentHTML("beforeend", form_string[0].replace("<form", '<form id="btpg_form"'));
                                    var g = document.createElement("script");
                                    g.id = "inicis_pay", g.text = script_string[1] + action_string[1], document.body.appendChild(g)
                                }
                            else document.open(), document.write(html), document.close()
                        } else if ("naverpay" == $sessionStorage.checkout_input.payment && result.clientId) helper.naverpay_init(result);
                        else {
                            if ("smilepay" != $sessionStorage.checkout_input.payment || !result.OrderId) return $localStorage.last_checkout.result = result, window.localStorage.setItem("ngStorage-last_checkout", JSON.stringify($localStorage.last_checkout)), void $location.url("/checkout/thankyou!!/");
                            helper.smilepay_init(result, $scope)
                        }
                    }, function(error) {
                        $log.error(error);
                        var message = helper.getErrorStatusMessageForOrder(error);
                        angular.isObject(error.data) && "error_stock" == error.data.type && error.data.stock_info ? YogiyoCart.stock_error_popup(error.data.stock_info, "checkout_call") : (message = message.replace("휴대폰 결제 또는 계좌 이체를", "휴대폰 결제를"), YogiyoModal.base_popup({
                            title: "서비스 안내",
                            content: message
                        })), trackingCheckoutFailedForGTM(message)
                    }).finally(function() {
                        $scope.$emit("loading", !1)
                    })
                },
                checkout_for_ie = function() {
                    var checkout_data = {
                        address_dict: {
                            name: "mobile.web",
                            address_name: "mobile.web",
                            order_id: "",
                            zip_code: $sessionStorage.checkout_input.zipcode,
                            city: "요기요",
                            description: helper.trim($sessionStorage.checkout_input.address),
                            street_number: helper.trim($sessionStorage.checkout_input.address_detail),
                            address_id: "",
                            phone_1: helper.trim($sessionStorage.checkout_input.phone).substr(0, 3),
                            phone_2: helper.trim($sessionStorage.checkout_input.phone).substr(3, $sessionStorage.checkout_input.phone.length <= 10 ? 3 : 4),
                            phone_3: helper.trim($sessionStorage.checkout_input.phone).substr(-4, 4),
                            phone: helper.trim($sessionStorage.checkout_input.phone),
                            sms_accept: $sessionStorage.checkout_input.sms_agree,
                            email_accept: "true",
                            logged_in: "true",
                            email: YogiyoAccount.get_user_email() || "None",
                            comment: helper.trim($sessionStorage.checkout_input.comment),
                            payment: "cash" == $sessionStorage.checkout_input.payment ? null : $sessionStorage.checkout_input.payment,
                            centralpayment: "cash" == $sessionStorage.checkout_input.payment ? null : $sessionStorage.checkout_input.payment,
                            is_terminal: "false",
                            tos: "true",
                            safen_number_checked: $scope.safen_number_checked,
                            sido: helper.getValue($sessionStorage, "location.adiyo.law.sido"),
                            gugun: helper.getValue($sessionStorage, "location.adiyo.law.sigugun"),
                            dong: helper.getValue($sessionStorage, "location.adiyo.law.dongmyun"),
                            admin_dong: helper.getValue($sessionStorage, "location.adiyo.admin.dongmyun"),
                            ri: helper.getValue($sessionStorage, "location.adiyo.law.ri"),
                            bunji: helper.getValue($sessionStorage, "location.adiyo.law.detail"),
                            road: helper.getValue($sessionStorage, "location.adiyo.road.dongmyun"),
                            building: helper.getValue($sessionStorage, "location.adiyo.road.detail")
                        },
                        item_comment_dict: "{}",
                        order_id: "",
                        name: "mobile.web"
                    };
                    if (checkout_data.address_dict.skip_duplicate = !0, !YogiyoLocation.is_set_geolocation()) return $scope.$emit("loading", !1), $window.alert("현재 설정된 배달 주소가 정확하지 않습니다.\n배달 주소를 다시 설정해주세요."), void $location.url("/location");
                    $sessionStorage.location && $sessionStorage.location.point && (checkout_data.address_dict.lat = $sessionStorage.location.point.lat, checkout_data.address_dict.lng = $sessionStorage.location.point.lng, checkout_data.lat = $sessionStorage.location.point.lat, checkout_data.lng = $sessionStorage.location.point.lng), $scope.coupon_verified && $scope.coupon_code && (checkout_data.address_dict.coupon_code = $scope.coupon_code), $rootScope.is_yogiyo && $scope.is_online_payment() && $scope.is_discount() && (checkout_data.order_serving_type = "delivery", checkout_data.discount_percent = $scope.restaurant.discount_percent, checkout_data.additional_discount = $scope.additional_discount, checkout_data.additional_discount_per_menu = $scope.additional_discount_per_menu), checkout_data.slug = $scope.restaurant.slug, checkout_data.city = $scope.restaurant.city, checkout_data.address_dict = JSON.stringify(checkout_data.address_dict), YogiyoCheckoutForIE.submit(checkout_data).$promise.then(function(result) {
                        if (!result.success) {
                            var message = "주문을 처리하지 못했습니다. 다시 시도해주세요.";
                            return result.error && (message = result.error_message), void YogiyoModal.base_popup({
                                title: "서비스 안내",
                                content: message
                            })
                        }
                        var last_checkout = {},
                            last_checkout_cart = YogiyoCart.get();
                        last_checkout.order = JSON.parse(checkout_data.address_dict), last_checkout.restaurant_id = $scope.cart.get_restaurant_id(), last_checkout.category = $rootScope.selected_category, last_checkout.location = $sessionStorage.location, last_checkout.cart = {}, last_checkout.cart.default_price = last_checkout_cart.default_price, $rootScope.is_yogiyo && $scope.is_online_payment() && $scope.is_discount() && (last_checkout.cart.get_per_menu_count = $scope.get_per_menu_count(), last_checkout.cart.get_delivery_discount_total_krw = $scope.get_delivery_discount_total_krw(), last_checkout.cart.get_additional_discount_total_krw = $scope.get_additional_discount_total_krw()), last_checkout.cart.restaurant = {
                            min_order_amount: $scope.min_order_amount,
                            delivery_fee: $scope.delivery_fee,
                            categories: $scope.restaurant.categories,
                            rating: $scope.restaurant.rating
                        }, last_checkout.cart.items = [];
                        for (var i = 0, len = last_checkout_cart.items.length; i < len; i++) {
                            var item = {};
                            item.price = last_checkout_cart.items[i].price, item.base_price = last_checkout_cart.items[i].base_price, item.default_price = last_checkout_cart.items[i].default_price, item.name = last_checkout_cart.items[i].name, item.slug = last_checkout_cart.items[i].slug, item.amount = last_checkout_cart.items[i].amount, item.subchoices = angular.copy(last_checkout_cart.items[i].subchoices), last_checkout.cart.items.push(item)
                        }
                        if (last_checkout.result = {
                                restaurant_name: $scope.cart.get().restaurant_name,
                                order_number: result.order_number,
                                amount: $scope.total_price,
                                order: {
                                    coupon_value: $scope.coupon_verified && $scope.coupon_discount_price ? $scope.coupon_discount_price : 0
                                }
                            }, $rootScope.last_checkout_ie = last_checkout, "payment_formdata" in result && "payment_formaction" in result) {
                            window.open("about:blank", "inicis_frame", "width=900, height=700");
                            var payment_form = $("#payment_form");
                            payment_form.html(result.payment_formdata), payment_form.attr("action", result.payment_formaction), payment_form.submit()
                        } else if ("order_number" in result) return void $location.url("/checkout/thankyou!!/")
                    }, function(error) {
                        $log.error(error);
                        var message = helper.getErrorStatusMessageForOrder(error);
                        angular.isObject(error.data) && "error_stock" == error.data.type && error.data.stock_info ? YogiyoCart.stock_error_popup(error.data.stock_info, "checkout_call") : (message = message.replace("휴대폰 결제 또는 계좌 이체를", "휴대폰 결제를"), YogiyoModal.base_popup({
                            title: "서비스 안내",
                            content: message
                        })), trackingCheckoutFailedForGTM(message)
                    }).finally(function() {
                        $scope.$emit("loading", !1)
                    })
                },
                trackingCheckoutFailedForGTM = function(error_message) {
                    dataLayer.push({
                        event: GTM.EVENT.TRANSACTION_FAILED,
                        locationAddress: helper.getValue($sessionStorage, "location.address"),
                        locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                        locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                        locationCity: $sessionStorage.location.address ? $sessionStorage.location.address.split(" ")[0] : "",
                        locationArea: helper.getValue($sessionStorage, "location.zipcode"),
                        locationCountry: "South Korea",
                        shopId: $scope.cart.get_restaurant_id(),
                        orderPaymentMethod: $sessionStorage.checkout_input.payment,
                        orderPickup: "False",
                        orderPreoder: "False",
                        coupon: $scope.coupon_code || "",
                        couponValue: $scope.coupon_discount_price || "",
                        cartValue: $scope.original_total_price,
                        transactionFailure: error_message
                    })
                },
                close_payment_popups = function() {
                    helper.smilepay_close()
                },
                checkout = function() {
                    $rootScope.is_mobile_device && ($scope.install = function() {
                        var url = window.location.protocol + global_config.tune_url.install + "&user_id=" + md5($sessionStorage.checkout_input.phone);
                        return $sce.trustAsResourceUrl(url)
                    }), ga("send", "event", "Ordering", "Submit", "Thankyou", {
                        title: info.title,
                        page: info.page
                    }), dataLayer.push({
                        event: GTM.EVENT.TRANSACTION_CLICKED,
                        locationAddress: helper.getValue($sessionStorage, "location.address"),
                        locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                        locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                        locationCity: $sessionStorage.location.address ? $sessionStorage.location.address.split(" ")[0] : "",
                        locationArea: helper.getValue($sessionStorage, "location.zipcode"),
                        locationCountry: "South Korea",
                        shopId: $scope.cart.get_restaurant_id(),
                        orderPaymentMethod: $sessionStorage.checkout_input.payment,
                        orderPickup: "False",
                        orderPreoder: "False",
                        coupon: $scope.coupon_code || "",
                        couponValue: $scope.coupon_discount_price || "",
                        cartValue: $scope.original_total_price
                    }), FacebookPixel.track({
                        content_type: "product",
                        content_ids: $scope.cart.get_restaurant_id(),
                        CuisineMain: 0 < $scope.restaurant.categories.length ? $scope.restaurant.categories[0] : "",
                        CuisineOther: 1 < $scope.restaurant.categories.length ? $scope.restaurant.categories[1] : "",
                        Zip: helper.getValue($sessionStorage, "location.zipcode"),
                        Area: helper.getValue($sessionStorage, "location.zipcode"),
                        City: $scope.restaurant.address ? $scope.restaurant.address.split(" ")[0] : "",
                        Country: "South Korea",
                        RestaurantName: $scope.restaurant.name,
                        RestaurantID: $scope.cart.get_restaurant_id(),
                        RestaurantRating: $scope.restaurant.rating,
                        Value: $scope.original_total_price,
                        Currency: "KRW",
                        PaymentMethod: $sessionStorage.checkout_input.payment,
                        VoucherUsed: !!$scope.coupon_code,
                        Voucher: $scope.coupon_code,
                        VoucherValue: $scope.coupon_discount_price || ""
                    }), checkout_for_mobile()
                };
            $scope.checkout = function() {
                if (!YogiyoLocation.is_set_geolocation()) return $window.alert("현재 설정된 배달 주소가 정확하지 않습니다.\n배달 주소를 다시 설정해주세요."), void $location.url("/location");
                $scope.check_enable_checkout() && ($scope.check_enable_online_payment() && "cash" != $sessionStorage.checkout_input.payment && "creditcard" != $sessionStorage.checkout_input.payment && "" != $scope.input_coupon_code && !$scope.coupon_verified ? YogiyoModal.base_confirm({
                    title: "요기요배달",
                    message: "쿠폰이 적용되지 않았습니다. 쿠폰을 적용하지 않고 결제할까요?",
                    callbacks: {
                        confirm: function() {
                            checkout()
                        },
                        close: function() {
                            $("input[name=coupon]").focus()
                        }
                    }
                }) : ($scope.$emit("loading", !0), checkout()))
            }, $scope.passed_insert_cart = !1, $scope.check_enable_checkout = function() {
                var is_top_scroll = !0,
                    isFormValidate = !0,
                    retMessage = "";
                return $scope.passed_insert_cart ? $sessionStorage.checkout_input.address_detail ? $scope.sms_verified || (isFormValidate = !1, retMessage = "휴대 전화 번호를 인증해 주세요.") : (isFormValidate = !1, retMessage = "상세 주소를 입력해 주세요") : (isFormValidate = is_top_scroll = !1, retMessage = "지금은 배달 가능한 시간이 아니거나, 현재 위치에는 배달하지 않습니다. 확인 후 다시 주문해주세요."), is_top_scroll && !isFormValidate && $(window).scrollTop(0), isFormValidate || "" == retMessage ? null == $sessionStorage.checkout_input.payment && (window.alert("결제수단을 선택해주세요."), isFormValidate = !1) : $scope.$emit("alert", {
                    content: retMessage,
                    duration: 3,
                    type: "error",
                    dismissable: !1
                }), isFormValidate
            };
            var verify_phone_success_callback = null,
                check_phone_verified = function(callback) {
                    verify_phone_success_callback = null, $scope.$emit("loading", !0), YogiyoSMS.check_phone_verified({
                        phone: helper.trim($sessionStorage.checkout_input.phone)
                    }).then(function(result) {
                        1 == result ? ($scope.sms_verified = !0, isLogin && ($localStorage.last_login.phone = $sessionStorage.checkout_input.phone), callback()) : (verify_phone_success_callback = callback, verify_modal_close = YogiyoModal.verify_phone($scope))
                    }, function(error) {
                        var help_text;
                        help_text = "ban" == error ? "휴대 전화 인증 요청 회수를 초과했습니다.<br>잠시 기다렸다 다시 요청해주세요." : "잠시 기다렸다 다시 재요청해주세요.", $scope.$emit("alert", {
                            content: help_text,
                            duration: 3,
                            type: "error",
                            dismissable: !1
                        })
                    }).finally(function() {
                        $scope.$emit("loading", !1)
                    })
                },
                verify_modal_close;
            $scope.prepare_checkout = function() {
                if (close_payment_popups(), !$sessionStorage.checkout_input.phone) return $(window).scrollTop(0), void $scope.$emit("alert", {
                    content: "휴대 전화 번호를 입력해 주세요",
                    duration: 3,
                    type: "error",
                    dismissable: !1
                });
                $scope.passed_insert_cart && check_phone_verified($scope.checkout)
            };
            var sms_verification_available_result = ["dup_veri_trial", "banned_number", "invalid_number", "sms_error"];
            $scope.sms_verify_is_requested = !1, $scope.sms_verified = !1, $scope.request_sms_verify = function(event) {
                event && 13 != event.which || (event && 13 == event.which && event.preventDefault(), $scope.sms_verify_try_last_phone = $sessionStorage.checkout_input.phone, $scope.$emit("loading", !0), YogiyoSMS.request_sms_verify({
                    phone: helper.trim($sessionStorage.checkout_input.phone)
                }).then(function(result) {
                    var help_text, has_error = !0;
                    0 <= sms_verification_available_result.indexOf(result.result) ? (help_text = result.message, "dup_veri_trial" == result.result && ($scope.sms_verified = !0)) : (has_error = !1, help_text = result.message + " (남은 인증횟수 " + (global_config.max_sms_verification_time - result.result) + "회)"), help_text && $("#sms-verification")[has_error ? "addClass" : "removeClass"]("warning").text(help_text), $scope.sms_verify_is_requested = !has_error
                }, function(error) {
                    $log.error(error)
                }).finally(function() {
                    $scope.$emit("loading", !1)
                }))
            }, $scope.verify_sms_verify = function(event) {
                if (!event || 13 == event.which) {
                    if (event && 13 == event.which && event.preventDefault(), $("#sms-verification").addClass("warning"), $scope.sms_verified) return $("#sms-verification").text("인증된 전화번호 입니다."), void $timeout(verify_modal_close, 1e3);
                    if (!$scope.sms_verify_is_requested) {
                        var content;
                        return content = $scope.sms_verify_try_last_phone ? "인증번호 입력 시간이 초과되었습니다.인증번호를 다시 요청해주세요." : "먼저 인증번호를 요청해주세요.", void $("#sms-verification").text(content)
                    }
                    helper.trim($sessionStorage.checkout_input.sms_verify_code) ? ($scope.$emit("loading", !0), YogiyoSMS.check_sms_verify({
                        phone: helper.trim($sessionStorage.checkout_input.phone),
                        code: $sessionStorage.checkout_input.sms_verify_code
                    }).then(function(result) {
                        -1 < [!1, "false", "too_many_trials", "expire"].indexOf(result.result) ? $("#sms-verification").text(result.message) : ($scope.sms_verified = !0, isLogin && ($localStorage.last_login.phone = $sessionStorage.checkout_input.phone), $("#sms-verification").removeClass("warning").text("이 전화번호를 인증했습니다. 이제 주문할 수 있습니다."), $scope.clear_sms_verify_code_input(), "function" == typeof verify_phone_success_callback && verify_phone_success_callback(), $timeout(verify_modal_close, 1e3))
                    }, function(error) {
                        $log.error(error)
                    }).finally(function() {
                        $scope.$emit("loading", !1)
                    })) : $("#sms-verification").text("인증번호를 입력해주세요.")
                }
            }, $scope.update_phone_number = function() {
                $scope.sms_verify_is_requested = !1, isLogin && ($localStorage.last_login.phone = $sessionStorage.checkout_input.phone)
            }, $scope.clear_sms_verify_code_input = function() {
                $sessionStorage.checkout_input.sms_verify_code = ""
            }, $sessionStorage.checkout_input || ($sessionStorage.checkout_input = {}), $sessionStorage.checkout_input = $sessionStorage.checkout_input ? $sessionStorage.checkout_input : {
                phone: ""
            }, $sessionStorage.checkout_input.address = $scope.cart.get().checkout_address.address, $sessionStorage.checkout_input.zipcode = $scope.cart.get().checkout_address.zipcode, $sessionStorage.checkout_input.sms_verify_code = "", $sessionStorage.checkout_input.comment = "", $sessionStorage.checkout_input.sms_agree = !1, isLogin && ($localStorage.last_login.phone ? $sessionStorage.checkout_input.phone = $localStorage.last_login.phone : $sessionStorage.user_info && $sessionStorage.user_info.phone ? $sessionStorage.checkout_input.phone = $sessionStorage.user_info.phone : $sessionStorage.login_info && $sessionStorage.login_info.phone && ($sessionStorage.checkout_input.phone = $sessionStorage.login_info.phone)), $sessionStorage.naverplace_extrainfo && ($sessionStorage.checkout_input.phone = helper.getValue($sessionStorage, "naverplace_extrainfo.naver.phone_number"), $sessionStorage.checkout_input.address_detail = helper.getValue($sessionStorage, "naverplace_extrainfo.adiyo.law.detail") + " " + helper.getValue($sessionStorage, "naverplace_extrainfo.detail_address"));
            var item_total_price = $scope.cart.get_total();
            $scope.btn_coupon = "적용", $scope.coupon_verified = void 0, $scope.coupon_code = "", $scope.input_coupon_code = "", $scope.sms_verify_try_last_phone = null, $scope.delivery_fee = $scope.restaurant.delivery_fee, $scope.min_order_amount = $scope.restaurant.min_order_amount, $scope.additional_price = $scope.min_order_amount - item_total_price, $scope.total_price = (0 < $scope.additional_price ? $scope.additional_price : 0) + item_total_price, 0 < $scope.restaurant.delivery_fee && 0 < $scope.restaurant.free_delivery_threshold && $scope.total_price >= $scope.restaurant.free_delivery_threshold && ($scope.delivery_fee = 0), $scope.total_price = (0 < $scope.additional_price ? $scope.additional_price : 0) + (0 < $scope.delivery_fee ? $scope.delivery_fee : 0) + item_total_price, $scope.original_total_price = $scope.total_price, $scope.sms_verified = !1, $scope.is_show_creditcard = !1, $scope.is_show_cash = !$scope.restaurant.except_cash, 0 <= $scope.restaurant.payment_methods.indexOf("creditcard") ? ($sessionStorage.checkout_input.payment = "creditcard", $scope.is_show_creditcard = !0) : $scope.restaurant.except_cash ? $sessionStorage.checkout_input.payment = null : $sessionStorage.checkout_input.payment = "cash", $scope.payment_button_text = "결제하기", $scope.check_enable_online_payment() && $rootScope.is_11st && ($sessionStorage.checkout_input.payment = null), isLogin || ($sessionStorage.checkout_input.payment = null), prev_payment_elem = $("input[value=" + $sessionStorage.checkout_input.payment + "]")[0], $scope.delivery_discount_value = function() {
                var restaurant = $scope.restaurant;
                return restaurant ? restaurant.additional_discount || restaurant.additional_discount_per_menu : 0
            }, $scope.additional_discount_value = function() {
                var restaurant = $scope.restaurant;
                return restaurant ? restaurant.discount_percent : 0
            }, $scope.get_delivery_discount_total = function() {
                return $scope.additional_discount < 0 ? $scope.additional_discount : $scope.additional_discount_per_menu < 0 ? $scope.additional_discount_per_menu : 0
            }, $scope.get_delivery_discount_total_krw = function() {
                return helper.get_krw($scope.get_delivery_discount_total())
            }, $scope.get_additional_discount_total = function() {
                return Math.min($scope.discount_value, 0)
            }, $scope.get_additional_discount_total_krw = function() {
                return helper.get_krw($scope.get_additional_discount_total())
            }, $scope.get_per_menu_count = function() {
                return 0 < $scope.additional_discount_per_menu_count ? " 메뉴 X " + $scope.additional_discount_per_menu_count : ""
            }, $scope.is_discount = function() {
                return $scope.get_delivery_discount_total() < 0 || $scope.get_additional_discount_total() < 0
            };
            var handleTooltip = function(evt) {
                $(".btn-tooltip").trigger("click")
            };
            $(".btn-tooltip").click(function(evt) {
                return $(".btn-tooltip").hasClass("on") ? ($(".up-arrow").css("display", "none"), $(document).off("click touchstart", handleTooltip), $(window).off("resize", handleTooltip)) : ($(".up-arrow").css("display", "inline-block"), $(document).on("click touchstart", handleTooltip), $(window).on("resize", handleTooltip)), $(".btn-tooltip").toggleClass("on"), !1
            }), $scope.safen_number_checked = !!$sessionStorage.service_info.safen_number_use_checked, $scope.enabled_npay = function() {
                return 0 <= $sessionStorage.service_info.enabled_features.indexOf("naverpay")
            }, $scope.enabled_smilepay = function() {
                return 0 <= $sessionStorage.service_info.enabled_features.indexOf("smilepay")
            }, $scope.enabled_chaipay = function() {
                return 0 <= $sessionStorage.service_info.enabled_features.indexOf("chaipay")
            };
            var success_insert_cart_callback = function(result) {
                    var checkAdditional = result.discounts && result.discounts.additional;
                    $scope.additional_discount = checkAdditional && !result.discounts.additional.is_per_menu ? -1 * result.discounts.additional.amount : 0, $scope.additional_discount_can_use_coupon = !!checkAdditional && result.discounts.additional.can_use_coupon, $scope.additional_discount_per_menu = checkAdditional && result.discounts.additional.is_per_menu ? result.discounts.additional.amount * result.discounts.additional.per_menu_count * -1 : 0, $scope.additional_discount_per_menu_count = checkAdditional && result.discounts.additional.per_menu_count || 0, $scope.discount_value = result.discount_value, $scope.safen_number_checked = !result.disable_safen_number, $scope.disable_safen_number = !!result.disable_safen_number, $scope.passed_insert_cart = !0, $scope.delivery_fee = result.meta.delivery_info.fixed_fee, $scope.min_order_amount = result.meta.delivery_info.min_order, $scope.additional_price = result.meta.delivery_info.min_order - item_total_price, $scope.total_price = (0 < $scope.additional_price ? $scope.additional_price : 0) + item_total_price, 0 < result.meta.delivery_info.fixed_fee && 0 < result.meta.delivery_info.fee_threshold && $scope.total_price >= result.meta.delivery_info.fee_threshold && ($scope.delivery_fee = 0), $scope.total_price = (0 < $scope.additional_price ? $scope.additional_price : 0) + $scope.delivery_fee + item_total_price, $scope.original_total_price = $scope.total_price, $rootScope.is_yogiyo && $scope.check_enable_online_payment() && ($rootScope.is_mobile_device || $rootScope.is_ie) && ($scope.is_discount() && ($scope.total_price = $scope.original_total_price + $scope.additional_discount + $scope.additional_discount_per_menu + $scope.discount_value), $sessionStorage.checkout_input.payment = "onlycard", prev_payment_elem = $("input[value=" + $sessionStorage.checkout_input.payment + "]")[0]), dataLayer.push({
                        event: GTM.EVENT.CHECKOUT_LOADED,
                        locationAddress: helper.getValue($sessionStorage, "location.address"),
                        locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                        locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                        locationCity: $sessionStorage.location.address ? $sessionStorage.location.address.split(" ")[0] : "",
                        locationArea: helper.getValue($sessionStorage, "location.zipcode"),
                        locationCountry: "South Korea",
                        shopId: $scope.cart.get_restaurant_id(),
                        currencyCode: "KRW",
                        cartValue: $scope.original_total_price
                    })
                },
                is_request_cart_api = !1,
                insert_cart = function(query_param) {
                    if (!is_request_cart_api) {
                        if (!YogiyoLocation.is_set_geolocation()) return $window.alert("현재 설정된 배달 주소가 정확하지 않습니다.\n배달 주소를 다시 설정해주세요."), void $location.url("/location");
                        is_request_cart_api = !0, $scope.$emit("loading", !0), YogiyoCart.submit(query_param).$promise.then(function(result) {
                            var error_title;
                            if (result.meta ? result.meta.online ? result.meta.reachable || (error_title = "현재 위치에는 배달하지 않습니다.") : error_title = "지금은 배달 가능한 시간이 아닙니다. 나중에 다시 주문해주세요." : result.error && (error_title = result.error_message), !error_title) return success_insert_cart_callback(result);
                            YogiyoModal.base_popup({
                                title: "알림",
                                content: error_title
                            })
                        }, function(error) {
                            var message = helper.getErrorStatusMessageForOrder(error);
                            YogiyoModal.base_popup({
                                title: "알림",
                                content: message
                            })
                        }).finally(function() {
                            $scope.$emit("loading", !1)
                        })
                    }
                },
                cart_data = YogiyoCart.get_cart_data();
            if (insert_cart(cart_data), $scope.restaurant.has_disposable_menu) {
                for (var disposable_menu_name, _cart = YogiyoCart.get(), i = _cart.items.length - 1; 0 <= i; i--)
                    if ("disposable" == _cart.items[i].ms_type) {
                        disposable_menu_name = _cart.items[i].name;
                        break
                    } disposable_menu_name && $rootScope.alert_bottom("자동 선택된 " + disposable_menu_name + " 메뉴가 함께 주문됩니다.")
            }
        }
    }
}), define("app/controller/checkout_success", ["angular", "app/helper", "md5"], function(angular, helper, md5) {
    return function($scope, $rootScope, $routeParams, $window, $location, $timeout, $log, $sessionStorage, $localStorage, $sce, global_config, YogiyoCart, YogiyoSMS, YogiyoModal, YogiyoExitPoll, YogiyoAccount, GTM, GA, FacebookPixel) {
        $scope.$emit("page-title-changed", {
            title: "주문해주셔서 감사합니다.",
            name: "주문 완료"
        });
        try {
            if ($scope.cart = YogiyoCart, $scope.checkout = $localStorage.last_checkout, $localStorage.online_payment_result && $localStorage.online_payment_result.last_checkout && ($scope.checkout = $localStorage.online_payment_result.last_checkout), $scope.checkout && !$scope.checkout.result && $localStorage.online_payment_result && ($scope.checkout.result = $localStorage.online_payment_result), $rootScope.last_checkout_ie && ($scope.checkout = $rootScope.last_checkout_ie), !($scope.checkout && $scope.checkout.result && $scope.checkout.cart && $scope.checkout.order)) {
                if (!$rootScope.is_mobile_device && $sessionStorage.location && $sessionStorage.location.address) {
                    var redirect_to = helper.get_district_url($sessionStorage.location);
                    $location.url(redirect_to)
                } else $location.url("/");
                return
            }
            var amount = $scope.checkout.cart.default_price;
            $scope.checkout.cart.items.forEach(function(i) {
                amount += i.price * i.amount
            }), $scope.additional_price = ($scope.checkout.cart.restaurant.min_order_amount || 0) - amount, $scope.additional_price < 0 && ($scope.additional_price = 0), $scope.phone_app_download_link = $scope.checkout.order.phone;
            var info = GA.get_tracker_info($location.path(), $routeParams),
                display_coupon_value = $scope.checkout.result.order.coupon_value.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
            $scope.coupon_discount = display_coupon_value + "원", $scope.total_payment_price = function() {
                return $rootScope.is_11st ? $scope.checkout.result.amount - ($scope.checkout.result.discountAmount || 0) : $scope.checkout.result.amount
            }, $scope.pay_type = function() {
                return 0 <= [null, "creditcard"].indexOf($scope.checkout.order.payment) ? "현장결제" : "요기서결제"
            }, $scope.payment_type = function() {
                return helper.getPaymentName($scope.checkout.order.payment)
            }, $scope.download_app = function() {
                ga("send", "event", "AppDownload", "Banner_Click", "ThankyouPage", {
                    title: info.title,
                    page: info.page
                }), dataLayer.push({
                    event: GTM.EVENT.DOWNLOAD_APP,
                    appdownload: "thankyou"
                }), smartbanner_click()
            }, $scope.request_app_download_link = function() {
                YogiyoSMS.request_app_download_link({
                    phone: $scope.phone_app_download_link
                }).then(function(result) {}, function(error) {}), YogiyoModal.base_popup({
                    title: "링크를 문자로 보냈습니다.",
                    content: "요기요 앱을 설치해보세요.",
                    close_label: "닫기"
                })
            };

            function reset_scroll_app_download_block(resize) {
                if (!($(".app-download-scroll").length < 1))
                    if ($rootScope.is_mobile_width) $(".app-download-scroll").css({
                        position: "static",
                        width: "auto",
                        height: "auto",
                        left: "auto"
                    });
                    else if ($(document.body).scrollTop() < $(".checkout-wrap").offset().top) {
                    if ("static" == $(".app-download-scroll").css("position")) return;
                    $(".app-download-scroll").css({
                        position: "static"
                    })
                } else if (resize || "fixed" != $(".app-download-scroll").css("position")) {
                    var prev = $(".app-download-scroll").prev();
                    $(".app-download-scroll").css({
                        position: "fixed",
                        left: prev.outerWidth() + prev.offset().left,
                        width: "33%",
                        top: "60px"
                    })
                }
            }
            angular.element($window).bind("scroll", function(event) {
                reset_scroll_app_download_block()
            }), angular.element($window).bind("resize", function() {
                reset_scroll_app_download_block("resize")
            }), window._nasa = {}, window._nasa.cnv = window.wcs.cnv("1", amount), window.wcs.inflow(), window.wcs_do(window._nasa), $scope.checkout.cart.items.forEach(function(i) {
                ga("ec:addProduct", {
                    id: i.slug,
                    name: i.name,
                    category: $scope.checkout.category,
                    brand: $scope.checkout.result.restaurant_name,
                    price: i.price,
                    quantity: i.amount
                })
            }), ga("ec:setAction", "purchase", {
                id: $scope.checkout.result.order_number,
                affiliation: $scope.checkout.result.restaurant_name,
                revenue: $scope.checkout.result.amount,
                tax: 0,
                shipping: 0
            }), ga("send", "event", "Ordering", (t = $scope.checkout.order.payment) && "creditcard" != t && "cash" != t ? "Payment_Online_Success" : "Payment_Offline_Success", $scope.payment_type(), {
                title: info.title,
                page: info.page
            });
            var gtm_data = {
                event: GTM.EVENT.TRANSACTION,
                locationAddress: helper.getValue($scope, "checkout.location.address"),
                locationLat: helper.getValue($scope, "location.point.lat"),
                locationLon: helper.getValue($scope, "location.point.lng"),
                locationCity: $scope.checkout.location.address ? $scope.checkout.location.address.split(" ")[0] : "",
                locationArea: helper.getValue($scope, "checkout.location.zipcode"),
                locationCountry: "Korea",
                shopId: $scope.cart.get_restaurant_id(),
                orderPaymentMethod: helper.getValue($scope, "checkout.order.payment"),
                orderPickup: "false",
                orderPreorder: "false",
                coupon: helper.getValue($scope, "checkout.order.coupon_code"),
                couponValue: helper.getValue($scope, "checkout.result.order.coupon_value"),
                transactionType: YogiyoAccount.check_returning() ? "reorder" : "acquisition",
                ecommerce: {
                    purchase: {
                        actionField: {
                            id: helper.getValue($scope, "checkout.result.order_number"),
                            revenue: helper.getValue($scope, "checkout.result.amount"),
                            tax: "0",
                            shipping: helper.getValue($scope, "checkout.result.order.delivery_fee"),
                            coupon: helper.getValue($scope, "checkout.order.coupon_code")
                        },
                        products: []
                    }
                }
            };
            $scope.checkout.cart.items.forEach(function(item) {
                var product = {
                    name: item.name,
                    id: item.slug,
                    price: item.price * item.amount,
                    brand: helper.getValue($scope, "checkout.result.restaurant_name"),
                    category: helper.getValue($scope, "checkout.category"),
                    variant: "",
                    quantity: item.amount
                };
                gtm_data.ecommerce.purchase.products.push(product)
            }), dataLayer.push(gtm_data), YogiyoAccount.check_returning() || dataLayer.push({
                event: GTM.EVENT.TRANSACTION_ACQUISITION
            }), FacebookPixel.track({
                content_type: "product",
                content_ids: $scope.cart.get_restaurant_id(),
                CuisineMain: 0 < $scope.checkout.cart.restaurant.categories.length ? $scope.checkout.cart.restaurant.categories[0] : "",
                CuisineOther: 1 < $scope.checkout.cart.restaurant.categories.length ? $scope.checkout.cart.restaurant.categories[1] : "",
                Zip: helper.getValue($scope, "checkout.location.zipcode"),
                Area: helper.getValue($scope, "checkout.location.zipcode"),
                City: $scope.checkout.location.address ? $scope.checkout.location.address.split(" ")[0] : "",
                Country: "South Korea",
                RestaurantName: $scope.checkout.result.restaurant_name,
                RestaurantID: $scope.cart.get_restaurant_id(),
                RestaurantRating: $scope.checkout.cart.restaurant.rating,
                Value: $scope.checkout.result.amount,
                value: $scope.checkout.result.amount,
                Currency: "KRW",
                currency: "KRW",
                PaymentMethod: helper.getValue($scope, "checkout.order.payment"),
                VoucherUsed: !!$scope.checkout.order.coupon_code,
                Voucher: helper.getValue($scope, "checkout.order.coupon_code"),
                VoucherValue: helper.getValue($scope, "checkout.result.order.coupon_value")
            }), $rootScope.is_mobile_device && ($scope.conversion = function() {
                var url = window.location.protocol + global_config.tune_url.conversion + "&user_id=" + md5($scope.checkout.order.phone) + "&revenue=" + amount + "&currency_code=KRW&attribute_sub1=" + $scope.checkout.result.order_number + "&attribute_sub2=" + amount;
                return $sce.trustAsResourceUrl(url)
            }), window.DaumConversionDctSv = "type=P,orderID=" + $scope.checkout.result.order_number + ",amount=" + amount, window.DaumConversionAccountID = "kWDnyvlxuPSNck6G2zAR1A00", void 0 === window.DaumConversionScriptLoaded && "file:" != location.protocol && function() {
                var d = document.createElement("script");
                d.type = "text/javascript", d.src = ("https:" == location.protocol ? "https" : "http") + "://s1.daumcdn.net/svc/original/U03/commonjs/cts/vr200/dcts.js";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(d, s)
            }(), "yanolja" == $rootScope.origin_seller && "pass" == $sessionStorage.yanolja_checkout_onetime && ($sessionStorage.yanolja_checkout_onetime = "used"), YogiyoExitPoll.check($scope.checkout.result.order_number), YogiyoCart.clear(), $localStorage.online_payment_result = null, $localStorage.last_checkout = null, $rootScope.last_checkout_ie = null
        } catch (err) {
            $(".order-complete-msg .msg-body").hide(), $(".order-complete-msg .msg-warning").show()
        }
        var t
    }
}), define("app/controller/location_google", ["app/helper"], function(helper) {
    return function($scope, $location, $rootScope, $routeParams, $q, $log, $timeout, $localStorage, $sessionStorage, global_config, YogiyoLocation, History, YogiyoModal) {
        $scope.$emit("page-title-changed", {
            title: "현재 위치를 알려주세요.",
            name: "현재 위치 지정"
        });

        function failed_to_set_address(result) {
            $log.error("failed to get the address of this point."), $scope.$emit("alert", {
                title: "주소를 가져오지 못했습니다.",
                content: "다시 시도해주세요.",
                type: "error"
            }), $scope.current_address.address = "", $scope.current_address.address_input = "", $scope.current_address.point = null
        }

        function on_lonlat_to_address() {
            $scope.$$destroyed || (timer && clearTimeout(timer), timer = setTimeout(function() {
                ! function(lonlat) {
                    YogiyoLocation.get_address_from_point({
                        lat: lonlat.lat(),
                        lng: lonlat.lng()
                    }).then(function(result) {
                        set_address(result)
                    }, function() {
                        failed_to_set_address()
                    })
                }(map.getCenter())
            }, 500))
        }
        var timer, geocoder, map, set_address = function(result) {
            $sessionStorage.location || ($sessionStorage.location = {}), $sessionStorage.location.address_input = result.address, $scope.current_address = helper.extend(result), $scope.current_address.address_input = $scope.current_address.address
        };
        $rootScope.search_address_in_map = function() {
            var address = $sessionStorage.location.address_input.replace(/^[\s]*/, "").replace(/[\s]*$/, "");
            if (address) return function(address) {
                var deferred = $q.defer();
                return geocoder.geocode({
                    address: address
                }, function(result, status) {
                    status == google.maps.GeocoderStatus.OK ? (map.setCenter(result[0].geometry.location), $scope.$evalAsync(function() {
                        deferred.resolve({
                            status: status,
                            result: result
                        })
                    })) : $scope.$evalAsync(function() {
                        deferred.reject({
                            status: status,
                            result: result
                        })
                    })
                }), deferred.promise
            }(address).then(function(result) {
                result.result.length
            }, function(result) {
                failed_to_set_address()
            })
        }, $scope.set_location = function() {
            $scope.current_address.redirect_to = helper.get_district_url($scope.current_address, $rootScope.category), $scope.$emit("location-changed", $scope.current_address)
        };

        function draw_map(lat, lng) {
            lat && lng || (lat = global_config.default_location[0], lng = global_config.default_location[1]), geocoder = new google.maps.Geocoder;
            var mapOptions = {
                zoom: 15,
                center: new google.maps.LatLng(lat, lng),
                panControl: !1,
                streetViewControl: !1,
                mapTypeControl: !1,
                zoomControl: !0,
                zoomControlOptions: {
                    style: google.maps.ZoomControlStyle.DEFAULT,
                    position: google.maps.ControlPosition.LEFT_TOP
                }
            };
            map = new google.maps.Map(document.getElementById("location_map"), mapOptions), google.maps.event.addListener(map, "center_changed", on_lonlat_to_address), $scope.current_address = {
                address: "",
                point: null,
                zipcode: null,
                category_tabs: null
            }, YogiyoLocation.is_set() && $sessionStorage.location.address_input && !$sessionStorage.location.point ? $timeout($rootScope.search_address_in_map, 100) : $timeout(on_lonlat_to_address, 100)
        }
        $timeout(function() {
            var map_height, lat, lng;
            ($("html").addClass("in_map"), $rootScope.is_mobile_width ? (map_height = window.innerHeight - $("#header").height() - (0 < $(".newSb").length ? $(".newSb").prop("clientHeight") : 0) - ($rootScope.is_11st ? $("header>div").height() : 0), $("#location").css("height", map_height)) : map_height = $("#location").height(), $("#location_map").css("height", map_height), $sessionStorage.location.address_input || $sessionStorage.location.point) ? ("object" == typeof $sessionStorage.location.point && (lat = $sessionStorage.location.point.lat, lng = $sessionStorage.location.point.lng), draw_map(lat, lng)) : YogiyoLocation.get($scope).then(function(position) {
                draw_map(position.coords.lat, position.coords.lng)
            }, function(error) {
                draw_map()
            })
        }, 200)
    }
}), define("app/controller/location_terms", ["app/helper"], function(helper) {
    return function($scope, $location, $localStorage, $timeout, YogiyoLocation) {
        $scope.$emit("page-title-changed", {
            title: "위치정보이용 및 수집동의"
        }), $scope.agree_location_check = !1, $scope.agree_location_allow = function() {
            $scope.agree_location_check ? ($localStorage.location_terms_for_11st = !0, YogiyoLocation.get_set_current_location($scope, !0).then(function(result) {
                var loc = helper.extend(result);
                loc.redirect_to = helper.get_district_url(loc), $scope.$emit("location-changed", loc)
            }, function(error) {
                $location.url("/location/")
            }).finally(function(result) {
                $scope.$emit("loading", !1)
            })) : window.alert("위치정보 수집,활용,이용약관에 동의해 주세요.")
        }, $scope.onloadIframe = function() {
            $timeout(function() {
                $(window).scrollTop(0)
            }, 500)
        }, $timeout(function() {
            $("#content").addClass("terms-11st")
        }, 100)
    }
}), define("app/controller/restaurant", ["app/helper"], function(helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $window, $location, $modal, $alert, $localStorage, $sessionStorage, $cookies, YogiyoRestaurant, YogiyoRestaurantMenu, YogiyoRestaurantReview, YogiyoCart, YogiyoModal, YogiyoLocation, GTM, GA, FacebookPixel) {
        var is_backend_view, url_param = $location.search();
        if ("lat" in url_param && "lng" in url_param && url_param.zipcode && url_param.address && $cookies.get("session_update")) {
            function failed_to_set_address() {
                $log.error("failed to get the address of this point."), YogiyoModal.base_popup({
                    title: "알림",
                    content: "주소를 가져오지 못했습니다."
                })
            }
            if (url_param.lat && url_param.lng) {
                is_backend_view = !0;
                var point = {
                    lat: url_param.lat,
                    lng: url_param.lng
                };
                YogiyoLocation.get_address_from_point(point).then(function(result) {
                    var loc = result;
                    loc.callback = function() {
                        $timeout(function() {
                            $scope.dropdown_searh_address.$scope.$hide(), $rootScope.show_location_button = {
                                v: !1
                            }, $('#search input[name="address_input"]').blur()
                        }, 1e3)
                    }, $scope.$emit("location-changed", loc), $window.ab_test_show_all_menu = !0
                }, failed_to_set_address)
            } else failed_to_set_address()
        }
        var info = GA.get_tracker_info($location.path(), $routeParams);
        $scope.$emit("page-title-changed", null), $scope.cart = YogiyoCart, $scope.toggle_tab = function(tab, is_owner_alarm) {
            var ga_category, ga_action;
            tab != $scope.active_tab && ("info" != tab && "review" != tab || render_image(tab));
            var label = "menu" == ($scope.active_tab = tab) ? "메뉴" : "리뷰",
                title = "menu" == tab ? "레스토랑 메뉴" : "레스토랑 리뷰 보기",
                page = "menu" == tab ? "/MobileWeb/RestaurantMenu/Menu/" + $routeParams.restaurant_id : "/MobileWeb/RestaurantMenu/Review/" + $routeParams.restaurant_id;
            "info" == tab && is_owner_alarm ? (ga_category = "Owner’s introductionEvent", ga_action = "Information page", label = $routeParams.restaurant_id) : (ga_category = "Navigation", ga_action = "RestaurantMenu"), ga("send", "event", ga_category, ga_action, label, {
                title: title,
                page: page
            }), ga("send", "pageview", {
                title: title,
                page: page
            });
            var eventName = GTM.EVENT.TAB_MENU_CLICKED;
            "review" == tab ? eventName = GTM.EVENT.TAB_REVIEWS_CLICKED : "info" == tab && (eventName = GTM.EVENT.TAB_INFO_CLICKED), dataLayer.push({
                event: eventName,
                shopId: $scope.restaurant.id,
                shopName: $scope.restaurant.name,
                shopRatingQuality: $scope.restaurant.review_avg,
                shopType: "normal",
                shopRatingQuantity: $scope.restaurant.review_count,
                shopMinimumOrderValue: $scope.restaurant.min_order_amount
            }), window._nasa = {}, window.wcs.inflow(), window.wcs_do(window._nasa)
        };
        var photo_menu_width = 0,
            additional_discount = {
                only_for_member: !1,
                is_per_menu: !1,
                amount: 0,
                discount_mov: 0
            },
            open_category = "";
        $scope.toggle_category = function(category) {
            if ("photo_menu_items" == category.slug) {
                var photo_items = $(".photo-menu-container .photo-slide > div"),
                    slide_width = 0;
                return photo_items.each(function() {
                    photo_menu_width = parseInt($(this).css("width")) + parseInt($(this).css("margin-right")), slide_width += photo_menu_width
                }), $(".photo-slide").width(slide_width), !0
            }
            if (null == category._toggle)
                if ($scope.menu_count_allow_duplicate <= 10) category._toggle = !0;
                else {
                    if ("additional_discount_items" == category.slug || $window.ab_test_show_all_menu ? category._toggle = !0 : "top_items" == category.slug && (additional_discount.is_per_menu ? category._toggle = !1 : category._toggle = !0), open_category || category._toggle || (category._toggle = !0), category._toggle) {
                        for (var all_items_soldout = !0, i = 0; i < category.items.length; i++)
                            if (!category.items[i].soldout) {
                                all_items_soldout = !1;
                                break
                            } all_items_soldout && (category._toggle = !1)
                    }
                    category._toggle && (open_category = category.name)
                } return category.icon_down_up = category._toggle ? "icon-arr-up" : "icon-arr-down", category._toggle
        }, $scope.select_menu_category = function(category) {
            category._toggle = !category._toggle, ga("send", "event", "Ordering", "ExpandMenu", "", {
                title: info.title,
                page: info.page
            }), $timeout($rootScope.scrollCartArea, 10)
        }, $scope.show_menu_category = function(slug) {
            return "photo_menu_items" != slug
        }, $scope.get_menu_count = function() {
            return $scope.restaurant && $scope.restaurant.menu ? $scope.menu_in_search ? $scope.menu_search_result.length : $scope.menu_count : 0
        }, $scope.get_menu_name = function(category) {
            return "top_items" == category.slug ? "인기메뉴" : category.name
        }, $scope.get_menu_class = function(slug) {
            return "top_items" == slug ? "pop-menu" : ""
        }, $scope.check_count = function(slug, index) {
            return !("top_items" == slug && 5 <= index)
        }, $scope.is_stock_menu = function(amount) {
            return "number" == typeof amount && amount < 9999
        }, $scope.get_stock_class = function(soldout) {
            return soldout ? "out-of-stock" : ""
        }, $scope.get_stock_amount_lable = function(amount) {
            return 99 < amount && amount < 9999 ? "" : "(" + amount + "개 남음)"
        };

        function callback(result) {
            $scope.restaurant.menu = result, open_category = "";
            var menu_count = YogiyoRestaurant.get_menu_count($scope.restaurant.menu);
            if ($scope.menu_count = menu_count.count, $scope.menu_count_allow_duplicate = menu_count.duplicate, show_menu_detail(), $scope.restaurant.id == YogiyoCart.get_restaurant_id() && $scope.restaurant.stock_management && !YogiyoCart.is_empty() && YogiyoCart.update_stock_amount(result), $scope.restaurant.has_disposable_menu) {
                for (var i = result.length - 1; 0 <= i; i--)
                    if ("disposable" == result[i].ms_type) {
                        $scope.restaurant.disposable_menu = result[i].items[0], $scope.restaurant.disposable_menu.ms_type = result[i].ms_type;
                        break
                    } $scope.restaurant.disposable_menu && (!$scope.restaurant.stock_management || !$scope.restaurant.disposable_menu.soldout && 0 != $scope.restaurant.disposable_menu.stock_amount) || YogiyoModal.base_confirm({
                    title: "일회용품 부족 안내",
                    message: "필수 구매해야 하는 일회용품(비닐봉투 등)이 부족하여 지금은 주문할 수 없습니다. 다른 음식점에서 주문해주세요.",
                    close_label: "취소",
                    confirm_label: "확인",
                    callbacks: {
                        confirm: function() {
                            $rootScope.select_home_category("all")
                        }
                    }
                })
            }
        }

        function errback(result) {
            $scope.$emit("network-error", {
                title: "레스토랑 정보를 가져오지 못했습니다.",
                content: "잠시 뒤 다시 시도해주세요."
            })
        }

        function callback_final(result) {
            $timeout(function() {
                $scope.$emit("loading", !1)
            }, 1e3)
        }

        function scrollTop(top) {
            var offset = "number" == typeof top ? top : $(".restaurant-tab").offset().top - $(".navigation").offset().top - $(".restaurant-tab").css("margin-top").replace("px", "");
            $(document.body).scrollTop(offset)
        }
        $scope.show_slide_button = function() {
            var container = $(".photo-menu-container");
            return container.css("width") < container.find(".photo-slide").css("width")
        }, $scope.scroll_slide = function(dir) {
            if (!isNaN(photo_menu_width)) {
                var point = $(".photo-menu-container")[0].scrollLeft;
                point += photo_menu_width * ("left" == dir ? -1 : 1), $(".photo-menu-container").animate({
                    scrollLeft: point
                })
            }
        }, $scope.check_another_restaurant = function() {
            return !$scope.cart.is_same_restaurant($routeParams.restaurant_id)
        }, $scope.select_menuitem = function(menu) {
            if (window.navigator.cookieEnabled)
                if ($scope.restaurant.open || is_backend_view)
                    if (YogiyoLocation.is_set()) {
                        if ($scope.restaurant.reachable || is_backend_view) return $scope._select_menuitem(menu);
                        YogiyoModal.base_popup({
                            title: "알림",
                            content: $rootScope.current_location + "은 " + $scope.restaurant.name + "의 배달 지역이 아닙니다. 주소를 수정해 주세요.",
                            callbacks: {
                                close: function() {
                                    $rootScope.show_location_button.v = !0, $rootScope.is_mobile_device && $rootScope.show_location_button.v && "/" != $location.path() && $(document.body).scrollTop(0), $timeout(function() {
                                        $("input[name=address_input]").focus()
                                    }, 100)
                                }
                            }
                        })
                    } else YogiyoModal.base_popup({
                        title: "알림",
                        content: "위치를 알 수 없습니다. 주소를 입력하면 배달 가능한 식당 목록으로 이동할 수 있습니다.",
                        callbacks: {
                            close: function() {
                                $rootScope.show_location_button.v = !0, $rootScope.is_mobile_device && $rootScope.show_location_button.v && "/" != $location.path() && $(document.body).scrollTop(0), $timeout(function() {
                                    $("input[name=address_input]").focus()
                                }, 100)
                            }
                        }
                    });
            else YogiyoModal.base_popup({
                title: "알림",
                content: "현재 요기요 서비스가 제공되지 않습니다."
            });
            else YogiyoModal.base_popup({
                title: "알림",
                content: "쿠키가 차단되어 있어 정보를 확인할 수 없습니다. 해당 브라우저의 설정을 통해 쿠키 사용을 허용으로 변경하신 후 새로고침 해주세요."
            })
        }, $scope._select_menuitem = function(menu) {
            var disposable_menu = null,
                base_selected = {
                    restaurant_id: $scope.restaurant.id,
                    restaurant: $scope.restaurant,
                    restaurant_name: $scope.restaurant.name,
                    price: parseInt(menu.price),
                    base_price: parseInt(menu.price),
                    default_price: 0,
                    discounted_price: menu.discounted_price,
                    name: menu.name,
                    slug: menu.slug,
                    id: menu.id,
                    amount: 1,
                    stock_amount: menu.stock_amount,
                    subchoices: {},
                    checkout_address: {
                        address: $sessionStorage.location.address,
                        zipcode: $sessionStorage.location.zipcode
                    }
                };
            $scope.restaurant.has_disposable_menu && $scope.restaurant.disposable_menu && (disposable_menu = {
                restaurant_id: $scope.restaurant.id,
                restaurant: $scope.restaurant,
                restaurant_name: $scope.restaurant.name,
                price: parseInt($scope.restaurant.disposable_menu.price),
                base_price: parseInt($scope.restaurant.disposable_menu.price),
                default_price: 0,
                discounted_price: $scope.restaurant.disposable_menu.discounted_price,
                name: $scope.restaurant.disposable_menu.name,
                slug: $scope.restaurant.disposable_menu.slug,
                id: $scope.restaurant.disposable_menu.id,
                ms_type: $scope.restaurant.disposable_menu.ms_type,
                amount: 1,
                soldout: $scope.restaurant.disposable_menu.soldout,
                stock_amount: $scope.restaurant.disposable_menu.stock_amount,
                subchoices: {},
                checkout_address: {
                    address: $sessionStorage.location.address,
                    zipcode: $sessionStorage.location.zipcode
                }
            }), YogiyoModal.show_menu_detail($scope, menu, base_selected, disposable_menu)
        }, $scope.only_photo_review = !1, $scope.reviews_page = 0, $scope.is_more_review = !0, $scope.get_next_reviews = function() {
            $scope.restaurant && ($scope.reviews_page += 1, 1 != $scope.reviews_page && $scope.$emit("loading", "리뷰를 읽어오고 있습니다."), YogiyoRestaurantReview.list({
                restaurant_id: $routeParams.restaurant_id,
                sort: "time",
                count: 10,
                page: $scope.reviews_page,
                only_photo_review: $scope.only_photo_review
            }).$promise.then(function(result) {
                $scope.restaurant.reviews || ($scope.restaurant.reviews = new Array), result.length < 10 && ($scope.is_more_review = !1), $scope.restaurant.reviews.push.apply($scope.restaurant.reviews, result)
            }, function(error) {
                1 == $scope.reviews_page && ($scope.restaurant.review_count = 0)
            }).finally(function() {
                $scope.$emit("loading", !1)
            }))
        }, $scope.menu_in_search = !1, $scope.search_menu_keyword = "", $scope.menu_search_result = new Array;

        function search_back_restaurant_menu(evt) {
            $window.onpopstate = null, history_count == $window.history.length && ($scope.menu_in_search = !1, $scope.category_keyword = {
                v: ""
            }, $scope.$apply())
        }
        var history_count = 0;
        $scope.update_list_by_keyword = function(keyword) {
            var search_keyword = keyword || $scope.category_keyword.v;
            if ($scope.menu_in_search = !1, !(search_keyword.length < 2)) {
                $scope.menu_search_result = new Array;
                var found_items = new Array,
                    re = new RegExp(search_keyword, "gi");
                $scope.restaurant.menu.forEach(function(category) {
                    "disposable" != category.ms_type && (re.test(category.name) ? category.items.forEach(function(item) {
                        0 <= found_items.indexOf(item.slug) || (found_items.push(item.slug), $scope.menu_search_result.push(item))
                    }) : category.items.forEach(function(item) {
                        re.test(item.name) && (0 <= found_items.indexOf(item.slug) || (found_items.push(item.slug), $scope.menu_search_result.push(item)))
                    }))
                }), 0 < $scope.menu_search_result.length ? ($scope.menu_in_search = !0, $scope.search_menu_keyword = search_keyword, helper.is_history_api && ($window.history[$window.history.state ? "replaceState" : "pushState"](null, "search"), $window.onpopstate = search_back_restaurant_menu, history_count = $window.history.length), $rootScope.is_mobile_device && scrollTop(), dataLayer.push({
                    event: GTM.EVENT.RESTAURANT_SEARCH_RESULTED,
                    restaurantSearchType: "Menu",
                    restaurantSearchkeyword: search_keyword
                })) : dataLayer.push({
                    event: GTM.EVENT.RESTAURANT_SEARCH_NOT_FOUND,
                    restaurantSearchType: "Menu",
                    restaurantSearchkeyword: search_keyword
                })
            }
        }, $scope.restaurant = null, $scope.$emit("loading", !0);

        function goto_restaurant_list() {
            var url = "/" + $sessionStorage.location.district[0] + "/" + $sessionStorage.location.zipcode + "/";
            $timeout(function() {
                $location.url(url)
            }, 100)
        }
        var _lat, _lng;
        $sessionStorage.location && $sessionStorage.location.point && (_lat = $sessionStorage.location.point.lat, _lng = $sessionStorage.location.point.lng), YogiyoRestaurant.get({
            lat: _lat,
            lng: _lng,
            restaurant_id: $routeParams.restaurant_id
        }).$promise.then(function(result) {
            $scope.restaurant = result, $scope.restaurant.discounts && $scope.restaurant.discounts.additional && (additional_discount = $scope.restaurant.discounts.additional.delivery), $scope.$emit("page-title-changed", $scope.restaurant.name), $scope.restaurant.reviews || $scope.get_next_reviews(), $scope.restaurant.menu || YogiyoRestaurantMenu.get(helper.extend({
                restaurant_id: $routeParams.restaurant_id
            }, {
                order_serving_type: "delivery"
            }, is_backend_view ? {
                force: !0
            } : {}, additional_discount.is_per_menu ? {
                additional_discount_per_menu: !0
            } : {})).$promise.then(callback, errback), dataLayer.push({
                event: GTM.EVENT.SHOP_DETAILS_LOADED,
                locationAddress: helper.getValue($sessionStorage, "location.address"),
                locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                locationCity: $scope.restaurant.address ? $scope.restaurant.address.split(" ")[0] : "",
                locationArea: helper.getValue($sessionStorage, "location.zipcode"),
                locationCountry: "South Korea",
                shopId: $routeParams.restaurant_id,
                currencyCode: "KRW",
                shopName: $scope.restaurant.name,
                shopCategoryQuantity: $scope.restaurant.categories.length,
                shopRatingQuality: $scope.restaurant.review_avg,
                shopRatingQuantity: $scope.restaurant.review_count,
                shopOpen: $scope.restaurant.open,
                shopMinimumOrderValue: $scope.restaurant.min_order_amount,
                shopDeliveryFee: $scope.restaurant.delivery_fee,
                shopSponsoring: 0 <= $scope.restaurant.categories.indexOf("프랜차이즈")
            });
            var custom_dimension = "Default";
            return 0 < additional_discount.amount && 0 < $scope.restaurant.discount_percent ? custom_dimension = "AddDiscount" : 0 < additional_discount.amount ? custom_dimension = "Discount" : 0 < $scope.restaurant.discount_percent && (custom_dimension = "Add"), ga("set", GA.CUSTOM_DIMENSION.DISCOUNT_SESSION, custom_dimension), ga("set", GA.CUSTOM_DIMENSION.DISCOUNT_SCREENVIEW, custom_dimension), FacebookPixel.track({
                content_type: "product",
                content_ids: $routeParams.restaurant_id,
                CuisineMain: 0 < $scope.restaurant.categories.length ? $scope.restaurant.categories[0] : "",
                CuisineOther: 1 < $scope.restaurant.categories.length ? $scope.restaurant.categories[1] : "",
                Zip: helper.getValue($sessionStorage, "location.zipcode"),
                Area: helper.getValue($sessionStorage, "location.zipcode"),
                City: $scope.restaurant.address ? $scope.restaurant.address.split(" ")[0] : "",
                Country: "South Korea",
                RestaurantName: $scope.restaurant.name,
                RestaurantID: $routeParams.restaurant_id,
                RestaurantRating: $scope.restaurant.rating
            }), $sessionStorage.naverplace_extrainfo && !YogiyoRestaurant.is_open($scope.restaurant) ? (is_show_menu_detail = !1, YogiyoModal.base_confirm({
                title: "요기요배달",
                message: "현재 요기요 서비스가 제공 되지않는 음식점입니다. <br />다른 음식점에서 주문해주세요",
                close_label: "닫기",
                confirm_label: "확인",
                callbacks: {
                    confirm: goto_restaurant_list
                }
            }), void dataLayer.push({
                event: GTM.EVENT.NAVERPLACE_VALIDATION_FAILED,
                naverplace_FailureCase: "restaurant_offline"
            })) : $sessionStorage.naverplace_extrainfo && !YogiyoRestaurant.is_reachable($scope.restaurant) ? (is_show_menu_detail = !1, YogiyoModal.base_confirm({
                title: "알림",
                message: "현재 위치에서 주문 가능한 음식점이 아닙니다. <br />주문 가능한 레스토랑을 확인해 주세요!",
                close_label: "닫기",
                confirm_label: "확인",
                callbacks: {
                    confirm: goto_restaurant_list
                }
            }), void dataLayer.push({
                event: GTM.EVENT.NAVERPLACE_VALIDATION_FAILED,
                naverplace_FailureCase: "geo_not_reachable"
            })) : void 0
        }, errback).finally(callback_final), $(".restaurant-tab li a").on("click", scrollTop);

        function checkCart() {
            return 0 != $scope.cart.get_amount() || (YogiyoModal.base_popup({
                title: "알림",
                content: "메뉴를 선택해 주세요."
            }), !1)
        }
        var _preview_image_elem;

        function nextImage(dirc) {
            var imgs = $(_preview_image_elem).parents(".info-images").find("img"),
                len = imgs.length,
                index = parseInt($(_preview_image_elem).data("index")) + dirc;
            len <= index ? index = 0 : index < 0 && (index = len - 1), _preview_image_elem = imgs[index];
            var preview_image_elem = $(_preview_image_elem),
                imgUrl = preview_image_elem.data("url");
            renderImageCount(preview_image_elem), showImage(imgUrl)
        }

        function renderImageCount(elem) {
            var prevBtn = $("div.restaurant-image .prev-image").hide(),
                nextBtn = $("div.restaurant-image .next-image").hide(),
                preview_image_elem = $(elem),
                len = preview_image_elem.parents(".info-images").find("img").length,
                index = parseInt(preview_image_elem.data("index"));
            $(".preview-image-count").text(index + 1 + " / " + len), 1 < len && (prevBtn.show(), nextBtn.show())
        }

        function showImage(url) {
            $(".preview-image").css({
                visibility: "hidden",
                top: 0,
                width: "auto",
                height: "auto"
            }).attr("src", url)
        }

        function preventDefault(evt) {
            evt.preventDefault()
        }
        $scope.checkout = function() {
            checkCart() && ($scope.cart.check_login_for_discount() ? YogiyoModal.base_confirm({
                title: "요기요배달",
                message: "로그인하신 경우에만 할인되는 레스토랑입니다. 지금 로그인하시고 할인 받으시겠어요?",
                callbacks: {
                    confirm: function() {
                        $location.url("/login/")
                    },
                    close: function() {
                        $scope.cart.checkout()
                    }
                }
            }) : (ga("send", "event", "Ordering", "RestaurantMenu_Click", "Submit", {
                title: info.title,
                page: info.page
            }), $scope.cart.checkout()))
        }, $scope.goto_cart = function() {
            checkCart() && (ga("send", "event", "Ordering", "RestaurantMenu_Click", "Cart", {
                title: info.title,
                page: info.page
            }), $location.url("/cart/"))
        }, $scope.display_cart = function() {
            var txt = "주문표";
            return 0 < $scope.cart.get_amount() && (txt += "(" + $scope.cart.get_amount() + ")"), txt
        }, $scope.check_enable_online_payment = function() {
            return helper.is_online_payment($scope.restaurant)
        }, $scope.payment_display = function() {
            return $rootScope.is_11st ? "SKpay 결제" : "요기서결제"
        }, $scope.show_country_info = function() {
            return !(!$scope.restaurant_info || !$scope.restaurant_info.country_origin || "" == $scope.restaurant_info.country_origin)
        }, $scope.encode_review_comment = function(comment) {
            return $("<div></div>").text(comment).html().replace(/\n/gm, "<br />")
        }, $scope.show_modal_country_info = function() {
            $scope.toggle_tab("info"), $timeout(function() {
                scrollTop($(".info-item-title.info-icon4")[0].offsetTop)
            }, 100)
        }, YogiyoRestaurant.info({
            restaurant_id: $routeParams.restaurant_id
        }).$promise.then(function(result) {
            $scope.restaurant_info = result
        }).finally(callback_final), $scope.show_review_menu = function(evt) {
            $(evt.target).toggleClass("default")
        }, $scope.restaurant_image_view = function(evt) {
            var imgUrl;
            if ("IMG" == evt.target.nodeName || "A" == evt.target.nodeName) {
                document.addEventListener("touchmove", preventDefault, {
                    passive: !1
                }), document.addEventListener("mousewheel", preventDefault, {
                    passive: !1
                }), $(".restaurant-image").show(), $(".preview-container").show(), _preview_image_elem = evt.target;
                var preview_image_elem = $(_preview_image_elem);
                imgUrl = preview_image_elem.data("url"), renderImageCount(preview_image_elem), showImage(imgUrl)
            }
        }, $scope.error_load_image = function(evt) {
            var $elem = $(evt.target),
                img_url = $elem.data("url");
            "error" == evt.type && $elem.attr("src") != img_url ? $elem.attr("src", img_url) : "load" == evt.type && reposition_image($elem.parent("div")[0])
        };

        function closeImageViewDelegate(evt) {
            var elem = $(evt.target);
            elem.hasClass("next-image") || elem.hasClass("prev-image") || elem.hasClass("preview-image") || elem.hasClass("preview-close") || $(".preview-close").trigger("click")
        }
        $(".preview-close").on("click", function() {
            $(".restaurant-image").hide(), $(".preview-image").attr("src", ""), document.removeEventListener("touchmove", preventDefault, {
                passive: !1
            }), document.removeEventListener("mousewheel", preventDefault, {
                passive: !1
            }), $(document.body).off("click", closeImageViewDelegate)
        }), $(".prev-image").on("click", function() {
            nextImage(-1)
        }), $(".next-image").on("click", function() {
            nextImage(1)
        }), $(".preview-image").on("load", function() {
            $(".restaurant-image").height(window.innerHeight);
            var img_top, $image_target = $(this),
                max_width = $(".preview-image-wapper").width(),
                max_height = $(".preview-image-wapper").height(),
                img_ratio = 1,
                img_width = $image_target[0].naturalWidth,
                img_height = $image_target[0].naturalHeight;
            $image_target.width(img_width).height(img_height), (max_width < img_width || max_height < img_height) && (max_width < img_width && (img_ratio = max_width / img_width, $image_target.width(max_width).height(img_ratio * img_height)), max_height < img_ratio * img_height && (img_ratio = max_height / img_height, $image_target.height(max_height).width(img_ratio * img_width))), img_width = $image_target.width(), 0 < (img_top = (max_height - (img_height = $image_target.height())) / 2) && $image_target.css("top", img_top), $image_target.css("visibility", "visible"), $(document.body).on("click", closeImageViewDelegate)
        });
        var image_area_width = 0,
            retry_count = 0,
            reposition_image = function(elem) {
                if (!(image_area_width <= 0)) {
                    var count = $(elem).parents("table.info-images").width(image_area_width).find("div").length,
                        index = $(elem).find("img").data("index"),
                        is_square = 2 == count || 3 == count && 0 == index,
                        $img = $(elem).children("img"),
                        wapper_width = 1 == count ? image_area_width : Math.floor(image_area_width / 2) - 1,
                        wapper_height = is_square ? wapper_width : Math.floor(wapper_width / 2) - (3 == count && 1 < index ? 1 : 0),
                        img_width = $img[0].naturalWidth,
                        img_height = $img[0].naturalHeight,
                        cssStyle = {
                            width: wapper_width,
                            height: wapper_height
                        };
                    2 == count ? 0 == index ? cssStyle.marginRight = "1px" : cssStyle.marginLeft = "1px" : 3 == count ? 0 == index ? cssStyle.marginRight = "1px" : 1 == index ? (cssStyle.marginLeft = "1px", cssStyle.marginBottom = "1px") : (cssStyle.marginLeft = "1px", cssStyle.marginTop = "1px") : 4 == count && (0 == index ? (cssStyle.marginRight = "1px", cssStyle.marginBottom = "1px") : 1 == index ? (cssStyle.marginLeft = "1px", cssStyle.marginBottom = "1px") : (2 == index ? cssStyle.marginRight = "1px" : cssStyle.marginLeft = "1px", cssStyle.marginTop = "1px")), $(elem).css(cssStyle), resize_image($img, wapper_width, wapper_height, img_width, img_height), img_width = $img.width(), img_height = $img.height(), wapper_width <= img_width && $img.css("left", -(img_width - wapper_width) / 2), wapper_height <= img_height && $img.css("top", -(img_height - wapper_height) / 2), $img.css("visibility", "visible")
                }
            },
            resize_image = function($img, wapper_w, wapper_h, img_w, img_h) {
                var w = wapper_w,
                    scale = wapper_w / img_w,
                    h = scale * img_h;
                h < wapper_h && (w = (scale = (h = wapper_h) / img_h) * img_w), $img.width(w), $img.height(h)
            },
            render_image = function(type) {
                var $div = $("#" + type + " .info-images div");
                if (0 != $div.length && 0 < $div.length)
                    if (0 == $div[0].clientWidth && 0 == retry_count) retry_count++, $timeout(function() {
                        render_image(type)
                    }, 100);
                    else {
                        retry_count = 0, image_area_width = "info" == type ? $("#info").width() : $("div.star-point-wrap").width();
                        for (var i = 0; i < $div.length; i++) reposition_image($div[i])
                    }
            };
        $window.resize_image = function() {
            0 != $(".info-images img").length && ($(".info-images img").css({
                width: "",
                height: "",
                left: "",
                top: ""
            }), render_image($scope.active_tab))
        }, $scope.introduction_text = function() {
            return $scope.restaurant_info && $scope.restaurant_info.introduction_by_owner && $scope.restaurant_info.introduction_by_owner.introduction_text ? $("<div></div>").text($scope.restaurant_info.introduction_by_owner.introduction_text).html().replace(/\n/gm, "<br />") : ""
        }, YogiyoRestaurant.review_info({
            restaurant_id: $routeParams.restaurant_id
        }).$promise.then(function(result) {
            $scope.review_info = result
        }).finally(callback_final);

        function handleReviewTooltip(evt) {
            $("#review-tooltip").trigger("click")
        }

        function handleDisposableMenuTooltip(evt) {
            $("#disposable-menu-tooltip").trigger("click")
        }
        var handleDeliveryTooltip = function() {
            $("#delivery-time-tooltip").tooltip("hide"), $("#delivery-time-tooltip").removeClass("on"), $(document.body).off("click", handleDeliveryTooltip)
        };
        $("#review-tooltip").click(function(evt) {
            var rect = this.getBoundingClientRect();
            return $("#delivery-time-tooltip").hasClass("on") && ($("#delivery-time-tooltip").tooltip("hide"), $("#delivery-time-tooltip").removeClass("on"), $(document.body).off("click", handleDeliveryTooltip)), $("#review-tooltip").hasClass("on") ? ($(".up-arrow").css("display", "none"), $(document).off("click touchstart", handleReviewTooltip), $(window).off("resize", handleReviewTooltip)) : ($(".up-arrow").css({
                display: "inline-block",
                top: +(window.scrollY + rect.top + 22),
                left: +(rect.right - 160)
            }), $(document).on("click touchstart", handleReviewTooltip), $(window).on("resize", handleReviewTooltip)), $("#review-tooltip").toggleClass("on"), !1
        }), $("#delivery-time-tooltip").tooltip({
            trigger: "click"
        }), $("#delivery-time-tooltip").click(function(evt) {
            $("#review-tooltip").hasClass("on") && ($(".up-arrow").css("display", "none"), $(document).off("click touchstart", handleReviewTooltip), $(window).off("resize", handleReviewTooltip), $("#review-tooltip").toggleClass("on")), $(this).toggleClass("on"), $(this).hasClass("on") ? $(document.body).on("click", handleDeliveryTooltip) : $(document.body).off("click", handleDeliveryTooltip), evt.stopPropagation()
        }), $("#disposable-menu-tooltip").tooltip({
            trigger: "click"
        }), $("#disposable-menu-tooltip").click(function(evt) {
            $(this).toggleClass("on"), $(this).hasClass("on") ? $(document.body).on("click", handleDisposableMenuTooltip) : $(document.body).off("click", handleDisposableMenuTooltip), evt.stopPropagation()
        }), $scope.toggleReviewType = function() {
            $scope.reviews_page = 0, $scope.restaurant.reviews = [], $scope.is_more_review = !0, $scope.get_next_reviews(), dataLayer.push({
                event: GTM.EVENT.PHOTO_REVIEW_SORTED,
                shopId: $scope.restaurant.id
            })
        }, $scope.report_reply = function(id, isOwner, review) {
            YogiyoRestaurantReview["owner" == isOwner ? "report_owner" : "report"]({
                reply_id: id
            }).$promise.then(function(result) {
                var isLogin = !0;
                result.message && (401 == result.error_code ? (isLogin = !1, YogiyoModal.base_confirm({
                    title: "요기요배달",
                    message: "로그인이 필요합니다. 로그인 화면으로 이동할까요?",
                    callbacks: {
                        confirm: function() {
                            $rootScope.prev_login_url = $location.path(), $location.url("/login/")
                        }
                    }
                })) : alert(result.message)), dataLayer.push({
                    event: GTM.EVENT.REVIEW_REPORT_CLICKED,
                    shopName: $scope.restaurant.name,
                    shopRatingQuality: $scope.restaurant.review_avg,
                    shopRatingQuantity: $scope.restaurant.review_count,
                    shopSponsoring: 0 <= $scope.restaurant.categories.indexOf("프랜차이즈"),
                    shopId: $scope.restaurant.id,
                    shopCategorySelected: $rootScope.selected_category_slug,
                    reviewType: "owner" == isOwner ? "owner" : 0 < review.review_images.length ? "photo" : "text",
                    userLoggedIn: isLogin
                })
            }).finally(callback_final)
        }, $scope.replaceImage = function(evt) {
            var origin_url = $(evt.target).data("full");
            $(evt.target).attr("src", origin_url)
        }, $scope.check_more_review = function() {
            return !(!$scope.restaurant || !$scope.restaurant.reviews) && $scope.is_more_review
        }, $scope.get_empty_text = function() {
            return $scope.only_photo_review ? "사진 리뷰가 없습니다." : "주문후 첫번째 리뷰를 남겨보세요."
        }, $scope.get_violation_date = function(d) {
            try {
                return d.substr(0, 4) + "년 " + parseInt(d.substr(4, 2)) + "월 " + parseInt(d.substr(6, 2)) + "일"
            } catch (err) {
                return ""
            }
        }, $scope.delivery_discount_value = function() {
            return additional_discount.amount
        }, $scope.additional_discount_value = function() {
            var restaurant = $scope.restaurant;
            return restaurant ? restaurant.discount_percent : 0
        }, $scope.get_menu_item_class = function(item) {
            var cls = "photo-menu ";
            return $rootScope.is_11st || "additional_discount_items" != item.section && !item.discounts || (cls += "promotion "), cls += $scope.get_stock_class(item.soldout)
        }, $scope.check_show_discount_menu = function(slug) {
            return !$rootScope.is_11st || "additional_discount_items" != slug
        }, $scope.show_discount_description = function() {
            var amount = additional_discount.amount,
                discount_mov = additional_discount.discount_mov,
                mov = $scope.restaurant ? $scope.restaurant.min_order_amount : 0,
                is_per_menu = additional_discount.is_per_menu;
            return mov < discount_mov ? is_per_menu ? helper.get_krw(discount_mov) + " 이상 주문 시 할인" : helper.get_krw(discount_mov) + " 이상 주문 시 " + helper.get_krw(amount) + " 할인" : 0 < amount && !is_per_menu && 0 < discount_mov ? helper.get_krw(amount) + " 할인" : void 0
        }, $scope.is_discount = function(item) {
            return !(!item.discounts || 0 < additional_discount.discount_mov)
        }, $scope.get_discounted_price = function(item) {
            var discounts_amount = item.discounts && item.discounts.additional ? item.discounts.additional.amount : 0;
            return Number(item.price) - discounts_amount
        }, $scope.show_menu_discount = function(item) {
            if (!item || item.discounts) return additional_discount.is_per_menu && 0 < additional_discount.discount_mov
        };
        var is_show_menu_detail = !0,
            show_menu_detail = function() {
                if ($routeParams.menu_id && is_show_menu_detail) {
                    for (var i = 0; i < $scope.restaurant.menu.length; i++)
                        for (var items = $scope.restaurant.menu[i].items, j = 0; j < items.length; j++)
                            if (items[j].id == $routeParams.menu_id) return void $scope._select_menuitem(items[j]);
                    $sessionStorage.naverplace_extrainfo && dataLayer.push({
                        event: GTM.EVENT.NAVERPLACE_VALIDATION_FAILED,
                        naverplace_FailureCase: "menu_offline"
                    }), YogiyoModal.base_popup({
                        title: "알림",
                        content: "현재 서비스되지 않는 메뉴입니다. <br />주문하실 메뉴를 다시 확인해주세요."
                    })
                }
            };
        $scope.get_logo_url = function(logo_url) {
            return helper.getLogoUrl(logo_url)
        }, $scope.is_show_menu = function(category) {
            return !$scope.menu_in_search && $scope.check_show_discount_menu(category.slug) && "disposable" != category.ms_type
        }, $(".btn-tooltip").click(function(evt) {
            var clickElem = this;
            $(this).hasClass("on") && $(".btn-tooltip.on").each(function(index, elem) {
                clickElem != elem && $(elem).trigger("click")
            })
        })
    }
}), define("app/controller/restaurant_menu", ["app/helper"], function(helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $modal, $alert, $sessionStorage, YogiyoCart, YogiyoModal, GA, GTM) {
        $scope.check_multiple_over_choice = function(subchoice, subslug, sub_stock_amount) {
            var item_count = 0;
            for (var sub_slug in $scope.selected_checkbox[subchoice.slug]) 1 == $scope.selected_checkbox[subchoice.slug][sub_slug] && item_count++;
            if (subchoice.multiple) {
                if (0 < subchoice.multiple_count && item_count > subchoice.multiple_count) return $rootScope.alert_bottom("최대 " + subchoice.multiple_count + "개 까지 선택 가능합니다."), void($scope.selected_checkbox[subchoice.slug][subslug] = 0);
                $rootScope.is_mobile_width && $scope.$emit("alert.hide")
            }
        };

        function correctly_selected(subchoice) {
            if (!subchoice.mandatory) return !0;
            if (subchoice.multiple) {
                var correct = 0;
                for (var slug in $scope.selected_checkbox[subchoice.slug]) 1 == $scope.selected_checkbox[subchoice.slug][slug] && (correct += 1);
                return subchoice.multiple_count == correct
            }
            return Boolean($scope.selected_radio[subchoice.slug])
        }
        $scope.is_enable_status_order = function() {
            for (var status = !0, i = 0; i < $scope.menu.subchoices.length; i++) status = status && correctly_selected($scope.menu.subchoices[i]);
            return status
        }, $scope.multiple_condition = function(subchoice) {
            return subchoice.multiple && 0 < subchoice.multiple_count ? subchoice.mandatory ? "(필수 " + subchoice.multiple_count + "개 선택)" : "(최대 " + subchoice.multiple_count + "개 선택 가능)" : subchoice.mandatory ? "(필수 선택)" : "(추가선택 가능)"
        }, $scope.set_default_checked = function(subchoice) {
            var count = 0;
            subchoice.mandatory && (count = subchoice.multiple && 0 < subchoice.multiple_count ? subchoice.multiple_count : 1);
            for (var i = 0; 0 < count && i < subchoice.subchoices.length; i++) 0 == $("#sm_" + subchoice.subchoices[i].slug).prop("disabled") && ($("#sm_" + subchoice.subchoices[i].slug).trigger("click"), subchoice.multiple || ($scope.selected_radio[subchoice.slug] = subchoice.subchoices[i].slug), count--)
        };

        function get_item_by_slug(slug) {
            var obj;
            try {
                for (var i = 0; i < $scope.menu.subchoices.length; i++) $scope.menu.subchoices[i].subchoices.forEach(function(item) {
                    if (item.slug == slug) throw obj = item, ""
                })
            } catch (e) {}
            var item = helper.extend(obj);
            return item.price = parseInt(item.price), item
        }

        function add_selected(slug, items) {
            var subchoice = function(slug) {
                var obj;
                try {
                    for (var i = 0; i < $scope.menu.subchoices.length; i++)
                        if ($scope.menu.subchoices[i].slug == slug) throw obj = $scope.menu.subchoices[i], ""
                } catch (e) {}
                return helper.extend(obj)
            }(slug);
            $scope.selected.subchoices[slug] = {
                slug: subchoice.slug,
                name: subchoice.name,
                multiple: subchoice.multiple,
                items: items
            }
        }

        function enable_stock_with_cart(order_count) {
            return !(is_stock_menu($scope.menu.stock_amount) && (order_count + YogiyoCart.get_item_amount_from_slug($scope.menu.slug) > $scope.menu.stock_amount || ! function(order_count) {
                var flavor, cart_amount;
                for (var slug_radio in $scope.selected_radio)
                    if (flavor = get_item_by_slug($scope.selected_radio[slug_radio]), cart_amount = YogiyoCart.get_item_amount_from_slug($scope.selected_radio[slug_radio]), is_stock_menu(flavor.stock_amount) && order_count + cart_amount > flavor.stock_amount) return !1;
                for (var slug_checkbox in $scope.selected_checkbox)
                    for (var sub_slug in $scope.selected_checkbox[slug_checkbox])
                        if (1 == $scope.selected_checkbox[slug_checkbox][sub_slug] && (flavor = get_item_by_slug(sub_slug), cart_amount = YogiyoCart.get_item_amount_from_slug(sub_slug), is_stock_menu(flavor.stock_amount) && order_count + cart_amount > flavor.stock_amount)) return !1;
                return !0
            }(order_count))) || ($rootScope.alert_bottom("주문표에 담긴 메뉴포함, 남은 수량을 초과할 수 없습니다."), !1)
        }
        $scope.calculate_sum = function() {
            var p = $scope.selected.base_price;
            for (var slug_radio in $scope.selected_radio) p += parseInt(get_item_by_slug($scope.selected_radio[slug_radio]).price);
            for (var slug_checkbox in $scope.selected_checkbox)
                for (var sub_slug in $scope.selected_checkbox[slug_checkbox]) 1 == $scope.selected_checkbox[slug_checkbox][sub_slug] && (p += parseInt(get_item_by_slug(sub_slug).price));
            return p
        }, $scope.display_price = function() {
            return $scope.quantity * $scope.calculate_sum()
        }, $scope.set_quantity = function(cnt) {
            var order_count = $scope.quantity + cnt;
            $scope.is_enable_status_order() && (0 < cnt && !enable_stock_with_cart(order_count) || 0 < $scope.quantity + cnt && ($scope.quantity += cnt, YogiyoCart.add_item_amount($scope.selected, cnt)))
        }, $scope.get_price = function(price) {
            return "0" != price ? "+" + helper.get_krw(price) : "추가비용없음"
        };

        function checkout() {
            YogiyoCart.check_login_for_discount() ? YogiyoModal.base_confirm({
                title: "요기요배달",
                message: "로그인하신 경우에만 할인되는 레스토랑입니다. 지금 로그인하시고 할인 받으시겠어요?",
                callbacks: {
                    confirm: function() {
                        $location.url("/login/")
                    },
                    close: function() {
                        $scope.cart.checkout()
                    }
                }
            }) : (ga("send", "event", "Ordering", "RestaurantMenu_Click", "Submit", {
                title: info.title,
                page: info.page
            }), $timeout(function() {
                $scope.cart.checkout()
            }, 300))
        }
        $scope.checkout = function() {
            $scope.add_to_cart(!0)
        };

        function add_to_cart(is_checkout) {
            $parent_scope.close(),
                function() {
                    var items = [];
                    for (var slug_radio in $scope.selected_radio) add_selected(slug_radio, [get_item_by_slug($scope.selected_radio[slug_radio])]);
                    for (var slug_checkbox in $scope.selected_checkbox) {
                        for (var sub_slug in items = [], $scope.selected_checkbox[slug_checkbox]) 1 == $scope.selected_checkbox[slug_checkbox][sub_slug] && items.push(get_item_by_slug(sub_slug));
                        add_selected(slug_checkbox, items)
                    }
                }(), $scope.selected.price = $scope.calculate_sum(), $scope.selected.discounts = $scope.menu.discounts, YogiyoCart.add($scope.selected);
            var info = GA.get_tracker_info($location.url(), $routeParams);
            ga("send", "event", "Ordering", "AddItem", "WithVariation", {
                title: info.title,
                page: info.page
            }), is_checkout && checkout()
        }

        function check_and_add(is_checkout) {
            enable_stock_with_cart($scope.quantity) && (! function() {
                if ($scope.selected.restaurant.has_disposable_menu) return !(!($scope.disposable_menu && 0 < YogiyoCart.get_item_amount_from_slug($scope.disposable_menu.slug)) || $scope.selected.restaurant.stock_management && (!$scope.selected.restaurant.stock_management || $scope.disposable_menu.soldout)) || (!$scope.disposable_menu || $scope.selected.restaurant.stock_management && (!$scope.selected.restaurant.stock_management || $scope.disposable_menu.soldout) ? (YogiyoModal.base_popup({
                    title: "일회용품 부족 안내",
                    content: "일회용품(비닐봉투 등)을 함께 주문해야 하는 매장입니다.현재 구매할 수 있는 일회용품이 부족하여 주문을 계속할 수 없습니다."
                }), !1) : (YogiyoCart.add($scope.disposable_menu, !0), !0));
                return !0
            }() || add_to_cart(is_checkout))
        }
        $scope.add_to_cart = function(is_checkout) {
            !$scope.cart.is_same_restaurant($scope.restaurant.id) && 0 < $scope.cart.get_amount() ? YogiyoModal.clear_cart_in_another($scope, function() {
                $scope.cart.clear(), check_and_add(is_checkout)
            }) : check_and_add(is_checkout)
        }, $scope.closeMenu = function() {
            setGTM("close"), $scope.close()
        }, $scope.error_load_image = function(evt) {
            var $elem = $(evt.target).hide();
            "load" == evt.type && $elem.parent().show()
        };
        var $parent_scope = $scope.$parent.$parent.$parent;
        $scope.menu = $parent_scope.menu, $scope.disposable_menu = $parent_scope.disposable_menu, $scope.selected_radio = {}, $scope.selected_checkbox = {}, $scope.selected = helper.extend($parent_scope.base_selected), $scope.quantity = 1;
        var obj, mandatory_choice_quantity_for_gtm = 0,
            mandatory_choice_preselected_for_gtm = !1,
            optional_choice_quantity_for_gtm = 0,
            setGTM = function(open) {
                dataLayer.push({
                    event: "open" == open ? GTM.EVENT.PRODUCT_CHOICE_OPENED : GTM.EVENT.PRODUCT_CHOICE_CLOSED,
                    locationAddress: helper.getValue($scope.selected, "checkout_address.address"),
                    locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                    locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                    locationCity: $scope.selected.checkout_address.address ? $scope.selected.checkout_address.address.split(" ")[0] : "",
                    locationArea: helper.getValue($scope.selected, "checkout_address.zipcode"),
                    locationCountry: "South Korea",
                    shopId: $scope.selected.restaurant_id,
                    shopName: $scope.selected.restaurant_name,
                    productSku: $scope.selected.slug,
                    productQuantity: $scope.selected.amount,
                    productName: $scope.selected.name,
                    productCategory: $scope.selected.restaurant.categories.toString(),
                    productVariant: "",
                    currencyCode: "KRW",
                    productUnitPrice: $scope.selected.price,
                    productMandatoryChoiceQuantity: mandatory_choice_quantity_for_gtm,
                    productMandatoryChoicePreselected: mandatory_choice_preselected_for_gtm,
                    productOptionalChoiceQuantity: optional_choice_quantity_for_gtm
                })
            };
        if ($scope.menu.subchoices)
            for (var i = 0; i < $scope.menu.subchoices.length; i++) $scope.menu.subchoices[i] = ((obj = $scope.menu.subchoices[i]).mandatory ? (mandatory_choice_quantity_for_gtm += obj.subchoices.length, mandatory_choice_preselected_for_gtm = !0) : optional_choice_quantity_for_gtm += obj.subchoices.length, obj.multiple && obj.mandatory && 0 == obj.multiple_count ? obj.multiple = !1 : obj.multiple || obj.mandatory || 0 != obj.multiple_count || (obj.multiple = !0), obj);
        setGTM("open");
        var is_mandatory_subchoice_empty, is_stock_menu = $scope.is_stock_menu = function(amount) {
            return "number" == typeof amount && amount < 9999
        };
        $scope.get_stock_class = function(soldout) {
            return soldout ? "out-of-stock" : ""
        }, $scope.get_stock_amount_lable = function(amount) {
            return 99 < amount && amount < 9999 ? "" : "(" + amount + "개 남음)"
        };

        function is_unable_order_because_mandatory_subchoice_empty() {
            if ("boolean" == typeof is_mandatory_subchoice_empty) return is_mandatory_subchoice_empty;
            for (var i = 0; i < $scope.menu.subchoices.length; i++) {
                var subchoice = $scope.menu.subchoices[i];
                if (subchoice.mandatory && 0 == subchoice.subchoices.length) return is_mandatory_subchoice_empty = !0
            }
            return is_mandatory_subchoice_empty = !1
        }
        $scope.get_order_btn_class = function() {
            var cls = $scope.is_enable_status_order() ? "" : "inactive";
            return $scope.menu.soldout || is_unable_order_because_mandatory_subchoice_empty() ? cls += " out-of-stock" : cls
        }, $scope.get_unable_order_btn_name = function() {
            return $scope.menu.soldout ? "메뉴가 품절이에요" : is_unable_order_because_mandatory_subchoice_empty() ? "필수 항목을 선택할 수 없어요" : ""
        }, $scope.is_hide_flavor_name = function(subchoice) {
            return !subchoice.mandatory && 0 == subchoice.subchoices.length
        }, $scope.show_industrial_info = function() {
            YogiyoModal.show_industrial_info($scope, $scope.menu.industrial_info)
        }, $scope.show_policy_info = function() {
            YogiyoModal.show_policy_info($scope, $scope.menu.industrial_info)
        }, $scope.is_discounted_menu = function() {
            var discounts = $scope.restaurant.discounts && $scope.restaurant.discounts.additional && $scope.restaurant.discounts.additional.delivery,
                mov = $scope.restaurant.min_order_amount || 0;
            return !(!discounts || discounts.is_per_menu && !$scope.menu.discounts) && discounts.discount_mov > mov
        }, $scope.is_industrial_info = function() {
            var industrial_info = $scope.menu.industrial_info;
            if (!industrial_info) return !1;
            var images = industrial_info.images;
            return images && 0 < images.length || !!industrial_info.description
        }, $scope.is_policy_info = function() {
            return $scope.menu.industrial_info && !!$scope.menu.industrial_info.item_policy_info
        }
    }
}), define("app/controller/restaurant_list", ["app/helper"], function(helper) {
    return function($scope, $rootScope, $q, $routeParams, $interval, $log, $timeout, $window, $location, $modal, $alert, $sessionStorage, YogiyoRestaurant, YogiyoRestaurantMenu, YogiyoDistricts, YogiyoLocation, YogiyoModal, global_config, $localStorage, GTM, GA, FacebookPixel) {
        if (!$routeParams.city && $sessionStorage.location && $sessionStorage.location.district && 0 < $sessionStorage.location.district.length && ($routeParams.city = $sessionStorage.location.district[0]), !$routeParams.zipcode && $sessionStorage.location && $sessionStorage.location.zipcode && ($routeParams.zipcode = $sessionStorage.location.zipcode), $routeParams.category && "전체" == $routeParams.category && ($routeParams.category = void 0), !$rootScope.is_11st || !$rootScope.is_search_location_for_11st) {
            var pagination;
            $scope.city = $routeParams.city, $scope.zipcode = $routeParams.zipcode, $rootScope.category = $routeParams.category, $scope.address = $sessionStorage.location.address, $sessionStorage.restaurant_list_sort_order || ($sessionStorage.restaurant_list_sort_order = "rank");
            var page_index = 0,
                info = GA.get_tracker_info($location.path(), $routeParams);
            $scope.search_keyword = "", $scope.restaurant_list = new Array, $scope.section_list = {
                superlist: [],
                hotdeal: [],
                contract: [],
                default: []
            }, $scope.get_category_name = function() {
                return "" != $scope.search_keyword ? $scope.search_keyword : $rootScope.category ? global_config.categories[$rootScope.category] ? global_config.categories[$rootScope.category].title : "전체" : global_config.categories.all.title
            }, $scope.update_order = function() {
                get_list();
                var label = "기본정렬";
                "review_avg" == $sessionStorage.restaurant_list_sort_order ? label = "별점순" : "review_count" == $sessionStorage.restaurant_list_sort_order ? label = "리뷰 많은순" : "min_order_value" == $sessionStorage.restaurant_list_sort_order ? label = "최소 주문 금액순" : "distance" == $sessionStorage.restaurant_list_sort_order ? label = "거리순" : "estimated_delivery_time" == $sessionStorage.restaurant_list_sort_order && (label = "배달 시간순"), ga("send", "event", "Navigation", "Restaurantlist_Sort", label, {
                    title: info.title,
                    page: info.page
                })
            }, $scope.select_order_for_ga = function() {
                ga("send", "event", "Navigation", "Select_Restaurantlist", "Sort", {
                    title: info.title,
                    page: info.page
                })
            }, $scope.select_restaurant = function(restaurant, index) {
                YogiyoLocation.is_set() ? ("number" == typeof index && (ga("set", GA.CUSTOM_DIMENSION.RANKING_SESSION, (index + 1).toString()), ga("set", GA.CUSTOM_DIMENSION.RANKING_SCREENVIEW, (index + 1).toString())), ga("send", "event", "Navigation", "SelectRestaurant", restaurant.id, {
                    title: info.title,
                    page: info.page
                }), dataLayer.push({
                    event: GTM.EVENT.SHOP_CLICKED,
                    locationAddress: helper.getValue($scope, "address"),
                    locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                    locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                    locationCity: $scope.address ? $scope.address.split(" ")[0] : "",
                    locationArea: $scope.zipcode || "",
                    locationCountry: "South Korea",
                    shopId: restaurant.id,
                    shopSponsoring: 0 <= restaurant.categories.indexOf("프랜차이즈"),
                    showLinkType: "search_result"
                }), $location.url("/" + restaurant.id + "/")) : YogiyoModal.base_popup({
                    title: "알림",
                    content: "위치를 알 수 없습니다. 주소를 입력하면 배달 가능한 식당 목록으로 이동할 수 있습니다.",
                    callbacks: {
                        close: function() {
                            $rootScope.show_location_button.v = !0, $rootScope.is_mobile_device && $rootScope.show_location_button.v && "/" != $location.path() && $(document.body).scrollTop(0), $timeout(function() {
                                $("input[name=address_input]").focus()
                            }, 100)
                        }
                    }
                })
            }, $scope.payment_display = function(restaurant) {
                return helper.is_online_payment(restaurant) ? $rootScope.is_11st ? "모바일 결제 가능" : "요기서결제" : $rootScope.is_11st ? "모바일 결제 불가" : "요기서결제 불가"
            }, $scope.is_online_payment = function(restaurant) {
                return helper.is_online_payment(restaurant)
            };
            var history_count = 0;
            $scope.search_back_restaurant = function(evt) {
                $scope.search_keyword = "", $scope.category_keyword.v = "", $window.onpopstate = null, history_count == $window.history.length && get_list()
            }, $scope.update_list_by_keyword = function(keyword) {
                $scope.search_keyword = keyword || $scope.category_keyword.v, $scope.search_keyword.length < 2 || (get_list(), $rootScope.is_mobile_width && ($scope.category_keyword.v = "", $(document.body).scrollTop(0)), helper.is_history_api && ($window.history[$window.history.state ? "replaceState" : "pushState"](null, "search"), $window.onpopstate = $scope.search_back_restaurant, history_count = $window.history.length))
            }, $scope.isFirstQuery = !0;
            var get_list = function() {
                    init_list(), read_more()
                },
                isQuery = !1,
                init_list = function() {
                    pagination = "undefined", page_index = 0, $scope.restaurant_list = [], $scope.section_list = {
                        superlist: [],
                        hotdeal: [],
                        contract: [],
                        default: []
                    }
                },
                toggleAdTooltip = function() {
                    $("#adtooltip").tooltip("hide"), $("#adtooltip").removeClass("on"), $(document.body).off("click", toggleAdTooltip)
                },
                toggleRankTooltip = function() {
                    $("#ranktooltip").tooltip("hide"), $("#ranktooltip").removeClass("on"), $(document.body).off("click", toggleRankTooltip)
                },
                read_more = function() {
                    var _lat, _lng, isError;
                    isQuery || pagination && page_index >= pagination.total_pages || (isQuery = !0, $scope.$emit("loading", !1), $scope.$emit("loading", !0), $sessionStorage.location && $sessionStorage.location.point && (_lat = $sessionStorage.location.point.lat, _lng = $sessionStorage.location.point.lng), YogiyoRestaurant.get_list({
                        lat: _lat,
                        lng: _lng,
                        category: $routeParams.category,
                        order: $sessionStorage.restaurant_list_sort_order,
                        page: page_index,
                        search: $scope.search_keyword,
                        items: 60
                    }).then(function(result) {
                        if (page_index += 1, pagination = result.pagination, $scope.restaurant_list = $scope.restaurant_list.concat(result.restaurants), result.restaurants.forEach(function(item) {
                                var key = item.section in $scope.section_list ? item.section : "default";
                                $scope.section_list[key].push(item)
                            }), 0 === $scope.restaurant_list.length || "rank" !== $sessionStorage.restaurant_list_sort_order ? $(".restaurant-list-info").addClass("no-section") : $(".restaurant-list-info").removeClass("no-section"), 0 == pagination.current_page) {
                            dataLayer.push({
                                event: GTM.EVENT.SHOP_LIST_LOAD,
                                locationAddress: $scope.address,
                                locationLat: _lat || "",
                                locationLon: _lng || "",
                                locationCity: $scope.address ? $scope.address.split(" ")[0] : "",
                                locationArea: $scope.zipcode || "",
                                locationCountry: "South Korea",
                                shopCategorySelectedQuantity: $routeParams.category ? "1" : "all",
                                shopFilteringSelected: "false",
                                shopSortingSelected: "rank" == $sessionStorage.restaurant_list_sort_order ? "false" : "true",
                                shopQuantityShown: $scope.restaurant_list.length
                            }), $scope.search_keyword && dataLayer.push({
                                event: 0 < result.restaurants.length ? GTM.EVENT.RESTAURANT_SEARCH_RESULTED : GTM.EVENT.RESTAURANT_SEARCH_NOT_FOUND,
                                restaurantSearchType: "List",
                                restaurantSearchkeyword: $scope.search_keyword
                            });
                            for (var fListItem = [], fLength = 3 <= $scope.restaurant_list.length ? 3 : $scope.restaurant_list.length, i = 0; i < fLength; i++) fListItem.push($scope.restaurant_list[i].id);
                            FacebookPixel.track({
                                content_type: "product",
                                content_ids: fListItem,
                                CuisineCategory: $scope.get_category_name($rootScope.category),
                                RestaurantFilter: "false",
                                RestaurantSorting: "rank" == $sessionStorage.restaurant_list_sort_order ? "false" : "true",
                                Zip: $scope.zipcode || "",
                                Area: $scope.zipcode || "",
                                City: $scope.address ? $scope.address.split(" ")[0] : "",
                                Country: "South Korea"
                            }), $("#ranktooltip").click(function(evt) {
                                $(this).toggleClass("on"), $(this).hasClass("on") ? ($("#adtooltip").hasClass("on") && toggleAdTooltip(), $(document.body).on("click", toggleRankTooltip)) : $(document.body).off("click", toggleRankTooltip), evt.stopPropagation()
                            }), $("#adtooltip").click(function(evt) {
                                $(this).toggleClass("on"), $(this).hasClass("on") ? ($("#ranktooltip").hasClass("on") && toggleRankTooltip(), $(document.body).on("click", toggleAdTooltip)) : $(document.body).off("click", toggleAdTooltip), evt.stopPropagation()
                            }), $("#ranktooltip, #adtooltip").tooltip({
                                trigger: "click"
                            })
                        }
                        ga("set", GA.CUSTOM_DIMENSION.NUMBER_OF_RESTAURANTS_SCREENVIEW, $scope.restaurant_list.length.toString())
                    }, function(error) {
                        isError = error, $log.error(error)
                    }).finally(function() {
                        isQuery = !1, $scope.isFirstQuery = !1, $scope.$emit("loading", !1);
                        isError || $timeout(function() {
                            $(document.body).height() > $window.innerHeight + 50 || read_more()
                        }, 100)
                    }))
                };
            $rootScope.restaurant_list_read_more = read_more, $timeout(get_list, 0), $scope.delivery_discount_value = function(restaurant) {
                return restaurant.discounts && restaurant.discounts.additional && restaurant.discounts.additional.delivery && restaurant.discounts.additional.delivery.amount
            }, $scope.additional_discount_value = function(restaurant) {
                return restaurant.discount_percent
            }, $scope.get_logo_url = function(logo_url) {
                return helper.getLogoUrl(logo_url)
            }
        }
    }
}), define("app/controller/dev", [], function() {
    return function($scope, $log) {
        $scope.$emit("page-title-changed", {
            title: "개발페이지입니다.",
            name: "개발"
        }), $scope.show_alert = function(type) {
            $scope.$emit("alert", {
                title: "주문을 처리하지 못했습니다. 다시 시도해주세요.",
                message: "서비스에 문제가 발생했습니다. 잠시뒤 다시 시도해주세요. 서비스에 문제가 발생했습니다. 잠시뒤 다시 시도해주세요. 서비스에 문제가 발생했습니다. 잠시뒤 다시 시도해주세요. 서비스에 문제가 발생했습니다. 잠시뒤 다시 시도해주세요. ",
                type: type
            })
        }
    }
}), define("app/controller/event", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, global_config, YogiyoProxy, YogiyoEvent) {
        ! function getEventURL() {
            var event_url = $rootScope.eventUrl || $("#slash_banner_link").attr("href");
            "main" != $routeParams.event_id && $rootScope.banner_list && 0 < $rootScope.banner_list.length && $rootScope.banner_list[$routeParams.event_id] && (event_url = $rootScope.banner_list[$routeParams.event_id].event_detailed_link), event_url ? function(event_url) {
                YogiyoProxy.get({
                    url: event_url
                }).then(function(result) {
                    "html" in result ? helper.setIframe("event_html", result.html) : ($log.error("empty event page"), window.alert("페이지를 불러 오는 도중에 문제가 발생했습니다. 잠시 후에 시도해 주세요"), $location.url("/"))
                }, function(error) {
                    $log.error(error), window.alert("페이지를 불러 오는 도중에 문제가 발생했습니다. 잠시 후에 시도해 주세요"), $location.url("/")
                })
            }(event_url) : function(callback) {
                YogiyoEvent.query().$promise.then(function(result) {
                    var banner_list = helper.getEventBannerResult(result);
                    $rootScope.banner_list = banner_list, callback()
                }, function(error) {
                    $log.error(error)
                })
            }(getEventURL)
        }()
    }
}), define("app/controller/point_policy", [], function() {
    return function($scope) {
        $scope.$emit("page-title-changed", {
            title: "이용약관"
        })
    }
}), define("app/controller/terms", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $window, $location, $alert, global_config, YogiyoEvent) {
        var title, url = $window.location.protocol + "//" + $window.location.hostname,
            path = $location.path(); - 1 < path.indexOf("/privacy/") ? (title = "개인정보처리방침", url += "/terms/#tab-2") : -1 < path.indexOf("/partner/") ? (title = "개인정보 제3자 제공동의", url += "/terms/?restaurant_id=" + $routeParams.restaurant_id + "#tab-3") : -1 < path.indexOf("/efinance_agreement/") ? (title = "전자금융거래 이용약관", url += "/terms/#tab-7") : -1 < path.indexOf("/collect_join/") ? (title = "개인정보 수집 및 이용 동의", url += "/media/static/terms/privacyagree_join.html") : -1 < path.indexOf("/collect_member/") ? (title = "개인정보 수집 및 이용 동의", url += "/media/static/terms/privacyagree_member.html") : -1 < path.indexOf("/collect_default/") ? (title = "개인정보 수집 및 이용 동의", url += "/media/static/terms/privacyagree_default.html") : (title = "이용약관", url += "/terms/#tab-1"), $scope.$emit("page-title-changed", {
            title: title
        });
        var iframe = document.getElementById("event_html");
        iframe.height = $window.innerHeight - 183, iframe.src = url, $timeout(function() {
            $(window).scrollTop(0)
        }, 500)
    }
}), define("app/controller/exit_poll", ["app/helper", "md5"], function(helper, md5) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $modal, $alert, $window, $sessionStorage, YogiyoExitPoll) {
        $scope.poll = {
            item: null
        }, $scope.etc = {
            title: null,
            show: !1
        }, $scope.back = function() {
            $scope.etc.show = !1
        }, $scope.etc_input = function(item) {
            item.has_text && ($scope.etc.show = !0)
        }, $scope.submit_poll = function() {
            var poll_value;
            $scope.poll.item && ($scope.poll.item.has_text && !$scope.etc.show ? ($scope.etc.title = $scope.poll.item.text, $scope.etc.show = !0, $timeout(function() {
                $("#exit_poll_etc_input").focus()
            }, 20)) : (poll_value = $scope.poll.item.text, $scope.poll.item.has_text && (poll_value = $scope.poll.user_input), md5("36783663"), YogiyoExitPoll.submit({
                number: $scope.poll.item.number,
                text: poll_value,
                uniq_key: (new Date).getTime()
            }), $scope.close()))
        }, angular.element($window).bind("resize", function() {
            "/checkout/thankyou!!/" == $location.path() && $("#poll_select_item_area").height(.48 * window.innerHeight)
        })
    }
}), define("app/controller/contact", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, global_config) {}
}), define("app/controller/bpg", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, global_config) {}
}), define("app/controller/trust", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, global_config) {}
}), define("app/controller/cleanreview", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, global_config) {}
}), define("app/controller/seller_info", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, global_config) {}
}), define("app/controller/login", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, $localStorage, $modal, $sessionStorage, YogiyoAccount, YogiyoModal, global_config, GTM, GA) {
        $scope.account = {
            useremail: "",
            password: "",
            captcha: "",
            is_maintain_login: !0
        }, $scope.captcha = {
            url: "",
            show: !1,
            loggedIn: !1
        }, $rootScope.captcha_view = "", $scope.user_email = function() {
            return YogiyoAccount.get_user_email()
        }, $scope.check_maintain_login = function() {
            $localStorage.maintain_login = $scope.account.is_maintain_login
        }, $scope.login_logout = function(event) {
            var info = GA.get_tracker_info($location.path(), $routeParams, $rootScope.check_login());
            $rootScope.check_login() ? (ga("send", "event", "Navigation", "Account", "Logout", {
                title: info.title,
                page: info.page
            }), event.preventDefault(), logout()) : (ga("send", "event", "Navigation", "Account", "Login", {
                title: info.title,
                page: info.page
            }), login())
        }, $rootScope.check_login() || ($localStorage.maintain_login = $scope.account.is_maintain_login), $scope.emailPattern = helper.emailPattern();
        var logout = function() {
                YogiyoAccount.logout().then(function() {
                    $rootScope.prev_login_url ? $location.url($rootScope.prev_login_url) : $location.url("/")
                }, function(error) {
                    YogiyoModal.base_popup({
                        title: "요기요배달",
                        content: error.error
                    })
                })
            },
            login = function() {
                window.navigator.cookieEnabled ? $scope.account.useremail && $scope.account.password && ($scope.$emit("loading", !0), YogiyoAccount.login({
                    username: $scope.account.useremail,
                    password: $scope.account.password,
                    answer: $scope.account.captcha || null
                }).then(function(loginInfo) {
                    loginInfo.captcha ? $scope.captcha = {
                        url: loginInfo.url,
                        show: !0,
                        loggedIn: !0
                    } : ($rootScope.prev_login_url && "/login/" != $rootScope.prev_login_url ? $location.url($rootScope.prev_login_url) : $location.url("/"), loginInfo && !0 === loginInfo.change_old_password && ($rootScope.is_mobile_device ? YogiyoModal.password_change_notice_for_mobile() : YogiyoModal.password_change_notice_for_pc()))
                }, function(res) {
                    if (res && res.captcha) $scope.captcha = {
                        url: res.url,
                        show: !0,
                        loggedIn: $scope.captcha.loggedIn
                    };
                    else {
                        var message = res ? res.error : "정상적으로 처리되지 않았습니다. 다시 시도하여 주십시요.";
                        YogiyoModal.base_popup({
                            title: "요기요배달",
                            content: message
                        })
                    }
                }).finally(function() {
                    $scope.$emit("loading", !1)
                })) : YogiyoModal.base_popup({
                    title: "알림",
                    content: "쿠키가 차단되어 있어 정보를 확인할 수 없습니다. 해당 브라우저의 설정을 통해 쿠키 사용을 허용으로 변경하신 후 새로고침 해주세요."
                })
            };
        $scope.login_with_naver = function() {
            naver_login ? naver_login.authorize() : YogiyoModal.base_popup({
                title: "알림",
                content: "정상적으로 처리되지 않았습니다. 다시 시도하여 주십시요."
            })
        }, $scope.login_with_kakao = function() {
            YogiyoAccount.kakao_login().catch(function() {
                YogiyoModal.base_popup({
                    title: "알림",
                    content: "카카오 아이디로 로그인에 실패하였습니다. 다시 시도해주세요",
                    callbacks: {
                        close: function() {
                            $location.url("/login/")
                        }
                    }
                })
            })
        }, $scope.refresh_captcha = function() {
            YogiyoAccount.get_captcha_image().then(function(url) {
                $scope.captcha.url = url
            }).catch(function() {
                $scope.captcha.url = ""
            })
        }, $scope.disable_login_button = function() {
            var account = $scope.account;
            return !($rootScope.check_login() || account.useremail && account.password) || !(!$scope.captcha.show || account.useremail && account.password && account.captcha)
        }, $scope.click_signup_image = function() {
            dataLayer.push({
                event: GTM.EVENT.DOWNLOAD_APP,
                appdownload: "loginpage"
            });
            var link = helper.getAppsFlyLink(location.href);
            location.href = link
        }
    }
}), define("app/controller/join", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, $localStorage, $modal, $sessionStorage, YogiyoAccount, YogiyoSMS, YogiyoModal, global_config, GA) {
        $scope.join = {
            email: "",
            password: "",
            confirm_password: "",
            phone: "",
            nickname: "",
            sms_verify_code: "",
            agree_policy: !1,
            agree_collect: !1,
            agree_efinance: !1,
            agree_14_age: !1,
            agree_push: !1,
            agree_all: !1
        };
        var sms_verification_available_result = ["dup_veri_trial", "banned_number", "invalid_number", "sms_error"];
        $scope.emailPattern = helper.emailPattern(), $scope.passwordPattern = helper.passwordPattern($scope), $scope.smsVerifyCodePattern = {
            test: function(value) {
                return /^[0-9]{4}$/.test(value) ? !($scope.error_sms_verify_msg = "") : !($scope.error_sms_verify_msg = "인증번호는 4자리 숫자만 입력해주세요.")
            }
        }, $scope.update_password = function() {
            $scope.join.password && $scope.join.confirm_password && $scope.join.confirm_password != $scope.join.password && ($scope.error_pwd_msg = "비밀번호가 일치하지 않습니다.")
        }, $scope.sms_verified = !1, $scope.error_sms_verify_msg = "", $scope.sms_verify_try_last_phone = null, $scope.sms_verify_is_requested = !1, $scope.is_require_phone_input = !1, $scope.is_sns = $sessionStorage.sns_login_info, $scope.need_email = !!$sessionStorage.sns_login_info && $sessionStorage.sns_login_info.need_email_input, $scope.update_phone_number = function() {
            $scope.is_require_phone_input = !1
        }, $scope.login_with_naver = function() {
            naver_login ? naver_login.authorize() : YogiyoModal.base_popup({
                title: "알림",
                content: "정상적으로 처리되지 않았습니다. 다시 시도하여 주십시요."
            })
        }, $scope.login_with_kakao = function() {
            YogiyoAccount.kakao_login().catch(function() {
                YogiyoModal.base_popup({
                    title: "알림",
                    content: "카카오 아이디로 로그인에 실패하였습니다. 다시 시도해주세요",
                    callbacks: {
                        close: function() {
                            $location.url("/join/")
                        }
                    }
                })
            })
        };

        function alert_verify() {
            YogiyoModal.base_popup({
                title: "알림",
                content: "입력하신 번호는 이미 인증된 휴대 전화번호입니다. 회원 가입을 계속 진행해 주세요."
            })
        }
        $scope.request_sms_verify = function(event) {
            event && 13 != event.which || (event && 13 == event.which && event.preventDefault(), $scope.join.phone ? $scope.sms_verified ? alert_verify() : ($scope.sms_verify_try_last_phone = $scope.join.phone, $scope.$emit("loading", !0), YogiyoSMS.request_sms_verify({
                phone: helper.trim($scope.join.phone),
                context: "register"
            }).then(function(result) {
                var help_text, has_error = !0;
                0 <= sms_verification_available_result.indexOf(result.result) ? (help_text = result.message, "dup_veri_trial" == result.result && ($scope.sms_verified = !0)) : (has_error = !1, help_text = "3분 30초 안에 입력해 주세요. (남은 인증횟수 " + (global_config.max_sms_verification_time - result.result) + "회)", YogiyoModal.base_popup({
                    title: "인증번호 발송",
                    content: result.message
                })), help_text && ($scope.error_sms_verify_msg = help_text), $scope.sms_verify_is_requested = !has_error
            }, function(error) {
                var help_text;
                $log.error(error), help_text = "ban" == error ? "요청 회수를 초과했습니다. 잠시 기다렸다 다시 요청해주세요." : "잠시 기다렸다 다시 재요청해주세요.", $scope.error_sms_verify_msg = help_text
            }).finally(function() {
                $scope.$emit("loading", !1)
            })) : $scope.is_require_phone_input = !0)
        }, $scope.verify_sms_verify = function(event) {
            if (!event || 13 == event.which)
                if (event && 13 == event.which && event.preventDefault(), $scope.sms_verified) alert_verify();
                else {
                    if (!$scope.sms_verify_is_requested) {
                        var content;
                        return content = $scope.sms_verify_try_last_phone ? "인증번호 입력 시간이 초과되었습니다.인증번호를 다시 요청해주세요." : "먼저 인증번호를 요청해주세요.", void YogiyoModal.base_popup({
                            title: "알림",
                            content: content
                        })
                    }
                    helper.trim($scope.join.sms_verify_code) ? ($scope.$emit("loading", !0), YogiyoSMS.check_sms_verify({
                        phone: helper.trim($scope.join.phone),
                        code: $scope.join.sms_verify_code
                    }).then(function(result) {
                        -1 < [!1, "false", "too_many_trials", "expire"].indexOf(result.result) ? YogiyoModal.base_popup({
                            title: "알림",
                            content: result.message
                        }) : ($scope.sms_verified = !0, YogiyoModal.base_popup({
                            title: "알림",
                            content: "이 전화번호를 인증했습니다."
                        }))
                    }, function(error) {
                        $log.error(error)
                    }).finally(function() {
                        $scope.$emit("loading", !1)
                    })) : YogiyoModal.base_popup({
                        title: "알림",
                        content: "인증번호를 입력해주세요."
                    })
                }
        }, $scope.toggle_agree_all = function() {
            $scope.join.agree_policy = $scope.join.agree_collect = $scope.join.agree_efinance = $scope.join.agree_14_age = $scope.join.agree_push = $scope.join.agree_all
        }, $scope.uncheck_agree_all = function() {
            $scope.join.agree_all = !1
        }, $scope.request_join = function() {
            var jn = $scope.join,
                check_props = ["email", "password", "confirm_password", "phone", "agree_policy", "agree_collect", "agree_efinance", "agree_14_age"],
                query = {
                    tos: jn.agree_policy,
                    email: jn.email,
                    password: jn.password,
                    nickname: jn.nickname,
                    sms_accept: jn.agree_push,
                    email_accept: jn.agree_push,
                    push_accept: jn.agree_push,
                    phone: jn.phone,
                    efinance_agreement: jn.agree_efinance
                };
            $scope.is_sns && (check_props = check_props.slice(3), query = {
                platform: $sessionStorage.sns_login_info.platform,
                access_token: $sessionStorage.sns_login_info.access_token,
                phone: jn.phone,
                notification_agreement: jn.agree_push,
                efinance_agreement: jn.agree_efinance
            }, $scope.need_email && (check_props.unshift("email"), query.email = jn.email));
            for (var i = 0; i < check_props.length; i++) {
                var prop = check_props[i],
                    elem = $('form[name="form_join"] input[name="' + prop + '"]');
                if (!jn[prop] && 0 < elem.length) return void("checkbox" != (elem = elem[0]).type && elem.focus())
            }
            $scope.sms_verified ? $scope.error_pwd_msg ? YogiyoModal.base_popup({
                title: "알림",
                content: "비밀번호가 일치하지 않습니다."
            }) : ($scope.$emit("loading", !0), YogiyoAccount.join(query, $scope.is_sns).then(function(result) {
                $sessionStorage.oauth_next ? $rootScope.goto_oauth_next() : YogiyoModal.base_confirm({
                    title: "알림",
                    message: "요기요 회원가입이 완료되었습니다. 로그인 상태를 유지하여 사용하시겠습니까?",
                    callbacks: {
                        confirm: function() {
                            YogiyoAccount.user_info().finally(function() {
                                $location.url("/")
                            })
                        },
                        close: function() {
                            YogiyoAccount.logout().then(function() {
                                $location.url("/login/")
                            }, function(error) {
                                $location.url("/login/")
                            })
                        }
                    }
                })
            }, function(error) {
                YogiyoModal.base_popup({
                    title: "알림",
                    content: error.message || error.error_message || "SNS 가입에 실패하였습니다. 다시 시도해 주세요."
                })
            }).finally(function() {
                $scope.$emit("loading", !1)
            })) : YogiyoModal.base_popup({
                title: "알림",
                content: "전화번호를 인증해 주세요."
            })
        }
    }
}), define("app/controller/pwinquiry", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, $localStorage, $modal, $sessionStorage, YogiyoAccount, YogiyoModal, global_config, GA) {
        $scope.email = "", $scope.emailPattern = helper.emailPattern(), $scope.request_inquiry = function(event) {
            event && 13 != event.which || (event && 13 == event.which && event.preventDefault(), $scope.email && ($scope.$emit("loading", !0), YogiyoAccount.pwinquiry({
                email: $scope.email
            }).then(function(result) {
                YogiyoModal.base_popup({
                    title: "알림",
                    content: result.message,
                    callbacks: {
                        close: function() {
                            $sessionStorage.oauth_next ? $rootScope.goto_oauth_next() : $location.url("/login/")
                        }
                    }
                })
            }, function(error) {
                YogiyoModal.base_popup({
                    title: "알림",
                    content: error.message || "서비스에 문제가 발생했습니다. 잠시뒤 다시 시도해주세요."
                })
            }).finally(function() {
                $scope.$emit("loading", !1)
            })))
        }
    }
}), define("app/controller/idinquiry", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, $localStorage, $modal, $sessionStorage, YogiyoAccount, YogiyoSMS, YogiyoModal, global_config, GA) {
        $scope.inquiry = {
            phone: "",
            sms_verify_code: ""
        };
        var sms_verification_available_result = ["dup_veri_trial", "banned_number", "invalid_number", "sms_error"];
        $scope.smsVerifyCodePattern = {
            test: function(value) {
                return /^[0-9]{4}$/.test(value) ? !($scope.error_sms_verify_msg = "") : !($scope.error_sms_verify_msg = "인증번호는 4자리 숫자만 입력해주세요.")
            }
        }, $scope.sms_verified = !1, $scope.error_sms_verify_msg = "", $scope.sms_verify_try_last_phone = null, $scope.sms_verify_is_requested = !1, $scope.is_require_phone_input = !1, $scope.update_phone_number = function() {
            $scope.is_require_phone_input = !1
        }, $scope.request_sms_verify = function(event) {
            event && 13 != event.which || (event && 13 == event.which && event.preventDefault(), $scope.inquiry.phone ? ($scope.sms_verify_try_last_phone = $scope.inquiry.phone, $scope.$emit("loading", !0), YogiyoSMS.request_sms_verify({
                phone: helper.trim($scope.inquiry.phone),
                context: "find_email"
            }).then(function(result) {
                var help_text, has_error = !0;
                0 <= sms_verification_available_result.indexOf(result.result) ? help_text = result.message : (has_error = !1, help_text = "3분 30초 안에 입력해 주세요. (남은 인증횟수 " + (global_config.max_sms_verification_time - result.result) + "회)", YogiyoModal.base_popup({
                    title: "인증번호 발송",
                    content: result.message
                })), help_text && ($scope.error_sms_verify_msg = help_text), $scope.sms_verify_is_requested = !has_error
            }, function(error) {
                var help_text;
                $log.error(error), help_text = "ban" == error ? "요청 회수를 초과했습니다. 잠시 기다렸다 다시 요청해주세요." : "잠시 기다렸다 다시 재요청해주세요.", $scope.error_sms_verify_msg = help_text
            }).finally(function() {
                $scope.$emit("loading", !1)
            })) : $scope.is_require_phone_input = !0)
        }, $scope.idinquiry = function(event) {
            event && 13 != event.which || (event && 13 == event.which && event.preventDefault(), $scope.sms_verify_is_requested ? $scope.inquiry.sms_verify_code ? ($scope.$emit("loading", !0), YogiyoAccount.idinquiry({
                phone: helper.trim($scope.inquiry.phone),
                code: helper.trim($scope.inquiry.sms_verify_code)
            }).then(function(result) {
                -1 < [!1, "false", "too_many_trials", "expire"].indexOf(result.result) ? YogiyoModal.base_popup({
                    title: "알림",
                    content: result.message,
                    callbacks: {
                        close: function() {
                            $sessionStorage.oauth_next && $rootScope.goto_oauth_next()
                        }
                    }
                }) : ($scope.sms_verified = !0, $scope.inquiry.email = result.email)
            }, function(error) {
                $log.error(error)
            }).finally(function() {
                $scope.$emit("loading", !1)
            })) : YogiyoModal.base_popup({
                title: "알림",
                content: "인증번호를 입력해주세요."
            }) : YogiyoModal.base_popup({
                title: "알림",
                content: $scope.error_sms_verify_msg || "먼저 인증번호를 요청해주세요."
            }))
        }
    }
}), define("app/controller/notice", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $sessionStorage, $location) {
        $scope.notice_list = $sessionStorage.service_info.event_list.filter(function(obj) {
            return "DEFAULT" == obj.type
        }), $scope.read_notice = function(id) {
            $location.url("/notice/" + id + "/")
        }
    }
}), define("app/controller/notice_content", ["angular", "app/helper"], function(angular, helper) {
    return function($scope, $rootScope, $routeParams, $timeout, $log, $location, $alert, global_config, YogiyoProxy, $sessionStorage) {
        if ($sessionStorage.service_info && $sessionStorage.service_info.event_list && $routeParams.notice_id) {
            var notice = $sessionStorage.service_info.event_list.filter(function(obj) {
                return obj.id == $routeParams.notice_id
            });
            if (notice.length < 1) $location.url("/");
            else {
                $scope.notice = notice[0];
                var newArr = [];
                $sessionStorage.service_info.event_list.forEach(function(obj) {
                    obj.id == $routeParams.notice_id && (obj.is_read = !0), newArr.push(obj)
                }), $sessionStorage.service_info.event_list = newArr, YogiyoProxy.get({
                    url: $scope.notice.url
                }).then(function(result) {
                    "html" in result ? helper.setIframe("notice_html", result.html) : ($log.error("empty event page"), window.alert("페이지를 불러 오는 도중에 문제가 발생했습니다. 잠시 후에 시도해 주세요"), $location.url("/"))
                }, function(error) {
                    $log.error(error), window.alert("페이지를 불러 오는 도중에 문제가 발생했습니다. 잠시 후에 시도해 주세요"), $location.url("/")
                })
            }
        } else $location.url("/")
    }
}), define("app/controller/product_info", ["app/helper"], function(helper) {
    return function($scope, $rootScope, $timeout, $log, $alert, GA, GTM) {
        $scope.error_load_image = function(evt) {
            var $elem = $(evt.target),
                modalWidth = $(".product-content").width(),
                contentWidth = modalWidth - 32;
            if ("error" == evt.type) $elem.hide();
            else if ("load" == evt.type) {
                var w = $elem.width();
                if (contentWidth < w) $elem.width(contentWidth);
                else {
                    var margin = (modalWidth - w) / 2;
                    $elem.css({
                        marginLeft: margin,
                        marginRight: margin
                    })
                }
            }
        }
    }
}), define("app/filter", [], function() {
    return {
        register: function(app) {
            var skip = ["register"];
            for (var i in this) 0 <= skip.indexOf(i) || app.filter(i, this[i])
        },
        number_to_array: function($filter) {
            return function(num) {
                return void 0 === num && (num = 0), num < 0 ? new Array : new Array(parseInt(num))
            }
        },
        address: function($filter) {
            return function(input) {
                return input ? input.replace(/대한민국 /g, "").replace(/(특별시|광역시)/g, "") : ""
            }
        },
        krw: function($filter) {
            return function(input, v) {
                var price = parseInt(input);
                return price < 1 && void 0 !== v ? v : $filter("currency")(price, "", 0) + "원"
            }
        },
        trim_address: function($filter) {
            return function(input) {
                return input ? input.replace(/,[\s]*/g, "") : ""
            }
        },
        normalize_address: function($filter, $log) {
            return function(s) {
                if (!(null == s || s.length < 1))
                    for (var ss = s.split(" "), i = 3; i < ss.length; i++)
                        if (-1 < ss[i].search(/^[\d][\d]*/gi)) return ss.slice(0, i).join(" ")
            }
        },
        menu_name: function($filter) {
            return function(item) {
                var choices = new Array;
                return item.choices && item.choices.forEach(function(i) {
                    choices.push(i.name)
                }), item.menu.name + (0 < choices.length ? ": " + choices.join(", ") : "")
            }
        },
        since: function($filter) {
            return function(d) {
                var reviewTime;
                d.indexOf("-") < 0 && 8 == d.length && (d = d.substr(0, 4) + "-" + d.substr(4, 2) + "-" + d.substr(6, 2));
                var diffTime = parseInt(((new Date).getTime() - new Date(d.replace(/-/g, "/")).getTime()) / 1e3);
                if (diffTime <= 59) reviewTime = "지금 등록";
                else if (60 <= diffTime && diffTime <= 3599) reviewTime = Math.floor(diffTime / 60) + "분 전";
                else if (3600 <= diffTime && diffTime <= 86399) reviewTime = Math.floor(diffTime / 3600) + "시간 전";
                else if (86400 <= diffTime && diffTime <= 172799) reviewTime = "어제";
                else if (172800 <= diffTime && diffTime <= 604799) reviewTime = Math.floor(diffTime / 86400) + "일 전";
                else if (604800 <= diffTime && diffTime <= 691199) reviewTime = "일주일 전";
                else if (691200 <= diffTime) {
                    var rDate = new Date(d.replace(/-/g, "/"));
                    reviewTime = rDate.getFullYear().toString() + "년 " + (rDate.getMonth() + 1).toString() + "월 " + rDate.getDate().toString() + "일"
                }
                return reviewTime
            }
        },
        localDate: function($filter) {
            return function(d) {
                d.indexOf("/") < 0 && 8 == d.length && (d = d.substr(0, 4) + "/" + d.substr(4, 2) + "/" + d.substr(6, 2));
                var rDate = new Date(d);
                return rDate.getFullYear().toString() + "년 " + (rDate.getMonth() + 1).toString() + "월 " + rDate.getDate().toString() + "일"
            }
        },
        sanitize: function($filter, $sce) {
            return function(html) {
                return $sce.trustAsHtml(html)
            }
        },
        restaurant_logo: function($filter) {
            return function(logo_url) {
                return logo_url ? (0 <= logo_url.indexOf("/media//media/") && (logo_url = logo_url.replace("/media//media/", "/media/")), logo_url) : "image/default_restaurant_logo.png"
            }
        },
        restaurant_is_available: function($filter, YogiyoRestaurant) {
            return function(restaurant) {
                return YogiyoRestaurant.is_available(restaurant)
            }
        },
        restaurant_is_open: function($filter, YogiyoRestaurant) {
            return function(restaurant) {
                return YogiyoRestaurant.is_open(restaurant)
            }
        },
        restaurant_is_reachable: function($filter, YogiyoRestaurant) {
            return function(restaurant) {
                return YogiyoRestaurant.is_reachable(restaurant)
            }
        },
        strip_html: function() {
            return function(input) {
                return input ? input.replace(/<(?!br\s*\/?)[^>]+>/gim, "") : ""
            }
        },
        replace_newline_to_br: function() {
            return function(input) {
                return input ? input.replace(/\n/g, "<br>") : ""
            }
        }
    }
}), define("app/service/constant", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        var default_headers = {
                "X-ApiSecret": config.api_secret,
                "X-ApiKey": config.api_key,
                Accept: "application/json"
            },
            default_headers_post = helper.extend(default_headers, {
                "Content-Type": "application/x-www-form-urlencoded"
            }),
            global_config = helper.extend(config, {
                default_resource_actions: {
                    method: "POST",
                    headers: default_headers_post,
                    timeout: config.default_timeout_http,
                    cache: !0,
                    transformRequest: helper.encodeHttpParams.bind(helper),
                    transformResponse: function(result, headers) {
                        try {
                            return angular.fromJson(result)
                        } catch (err) {
                            return null
                        }
                    }
                },
                default_headers: default_headers,
                default_headers_post: default_headers_post
            });
        app.constant("global_config", global_config)
    }
}), define("app/resource/checkout", ["app/helper"], function(helper) {
    return function(app) {
        function transformRequest(obj) {
            var data = helper.extend(obj);
            return delete data.restaurant_id, is_result_json_html = 0 <= global_config.onlinePayments.indexOf(obj.payment) ? "html" : "json", helper.encodeHttpParams(data)
        }
        var is_result_json_html;
        app.factory("YogiyoCheckout", function($resource, $timeout, $log, global_config) {
            var resource_checkout = $resource("/api/v1/restaurants/:restaurant_id/cart/submit/", {
                restaurant_id: "@restaurant_id"
            }, {
                submit: {
                    method: "POST",
                    headers: global_config.default_headers_post,
                    cache: !0,
                    transformRequest: transformRequest,
                    withCredentials: !0,
                    transformResponse: function(data, header) {
                        try {
                            return helper.getCartSubmitResult(data, header)
                        } catch (err) {
                            if ("html" == is_result_json_html) return {
                                success: !0,
                                html: data
                            }
                        }
                    }
                }
            });
            return {
                submit: function(data) {
                    return resource_checkout.submit(data)
                }
            }
        })
    }
}), define("app/resource/checkout_ie", ["app/helper"], function(helper) {
    return function(app) {
        function transformRequest(obj) {
            var data = helper.extend(obj);
            return delete data.city, delete data.slug, helper.encodeHttpParams(data)
        }
        app.factory("YogiyoCheckoutForIE", function($resource, $timeout, $log, global_config) {
            var resource_checkout = $resource("/ajax/restaurant/:city/:slug/cart/submit/", {
                city: "@city",
                slug: "@slug"
            }, {
                submit: {
                    method: "POST",
                    headers: global_config.default_headers_post,
                    cache: !1,
                    transformRequest: transformRequest,
                    withCredentials: !0,
                    transformResponse: function(data, header) {
                        return helper.getCartSubmitResult(data, header)
                    }
                }
            });
            return {
                submit: function(data) {
                    return resource_checkout.submit(data)
                }
            }
        })
    }
}), define("app/resource/geo_lookup", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoGeoLookup", function($resource, $timeout, $log, global_config) {
            return $resource("https://adiyo.yogiyo.co.kr/geocode/reverse/", null, {
                get: helper.extend(global_config.default_resource_actions, {
                    method: "GET",
                    headers: {
                        "x-api-key": global_config.x_api_key
                    }
                })
            })
        })
    }
}), define("app/resource/districts", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoDistricts", function($resource, $timeout, $log, global_config) {
            return $resource("https://adiyo.yogiyo.co.kr/geocode/", null, {
                get: helper.extend(global_config.default_resource_actions, {
                    method: "GET",
                    headers: {
                        "x-api-key": global_config.x_api_key
                    }
                })
            })
        })
    }
}), define("app/resource/history", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("History", function($location, $sessionStorage) {
            $sessionStorage.history || ($sessionStorage.history = new Array);
            return new function() {
                return this.get_path_from_route = function(route) {
                    if (route) {
                        var path = route.toString();
                        return path.substr(path.indexOf("#") + 1)
                    }
                }, this.check = function() {
                    void 0 === $sessionStorage.history && ($sessionStorage.history = new Array)
                }, this.add = function(data) {
                    return !(!data || (this.check(), 0 < $sessionStorage.history.length && $sessionStorage.history[$sessionStorage.history.length - 1].path == data.path || (5 < $sessionStorage.history.length && ($sessionStorage.history = $sessionStorage.history.slice($sessionStorage.history.length - 5, $sessionStorage.history.length)), $sessionStorage.history.push(helper.extend(data)), 0)))
                }.bind(this), this._get_index = function(step) {
                    return this.check(), $sessionStorage.history.length - (1 + step)
                }, this.set = function(step, data) {
                    if (this.check(), void 0 === step) return this.add(data);
                    var page = this.get(step);
                    return $sessionStorage.history[this._get_index(step)] = helper.extend(page, data)
                }, this.get = function(step) {
                    if (this.check(), !($sessionStorage.history.length < 1)) return void 0 === step && (step = 0), $sessionStorage.history[this._get_index(step)]
                }, this.goback = function(default_url) {
                    this.check(), void 0 === default_url && (default_url = "/");
                    var page = this.get(1);
                    return void 0 === page && (page = {
                        path: default_url
                    }), $location.url(page.path)
                }.bind(this), this
            }
        })
    }
}), define("app/resource/location", ["app/helper", "Proj4js"], function(helper, Proj4js) {
    return function(app) {
        app.factory("YogiyoLocation", function($rootScope, $q, $timeout, $log, global_config, YogiyoGeoLookup, $sessionStorage, $localStorage, YogiyoModal, $location, YogiyoCart, $cookies, $resource) {
            function regexGeolocation(p) {
                return /^(-?\d+(\.\d+)?)$/.test(p)
            }
            var naverplace_extrainfo = $resource("/naverplace/extrainfo/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1,
                        withCredentials: !0
                    })
                }),
                resource_restaurants_available = $resource("/api/v1/geo-restaurants-available/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                });
            return {
                alert_error: function($scope, error) {
                    $scope.$emit("loading", null);
                    var message = "위치 정보를 가져올 수 없습니다. {{:status}}주소를 입력해 주세요.";
                    message = error.code == error.PERMISSION_DENIED ? message.replace("{{:status}}", "설정에서 위치정보 활성화 상태를 확인하거나 ") : message.replace("{{:status}}", ""), YogiyoModal.base_popup({
                        title: "알림",
                        content: message
                    })
                },
                is_set: function() {
                    return $sessionStorage.location && $sessionStorage.location.address && $sessionStorage.location.zipcode
                },
                is_expired: function() {
                    return !this.is_set() || (!$sessionStorage.location.updated_at || (new Date).getTime() > $sessionStorage.location.updated_at + global_config.lifetime_sessioned_location)
                },
                get: function($scope) {
                    var deferred = $q.defer();
                    if (navigator.geolocation) {
                        if ($timeout(function() {
                                deferred.reject({
                                    code: 3,
                                    message: "Timeout expired"
                                })
                            }, global_config.timeout_geolocation), $rootScope.is_11st && $cookies.get("appType") && -1 < $cookies.get("appType").indexOf("appmw")) return window.setLocation = function(lng, lat, message) {
                            if ("LOCATION_GET_SUCCESS" == message && regexGeolocation(lat) && regexGeolocation(lng)) {
                                var position = {
                                    coords: {
                                        latitude: lat,
                                        longitude: lng
                                    }
                                };
                                $scope.$apply(function() {
                                    deferred.resolve(position)
                                })
                            } else $scope.$apply(function() {
                                deferred.reject(message)
                            })
                        }, helper.callWebviewScheme("app://location/cLocation"), deferred.promise;
                        navigator.geolocation.getCurrentPosition(function(position) {
                            $scope.$apply(function() {
                                deferred.resolve(position)
                            })
                        }, function(error) {
                            $scope.$apply(function() {
                                deferred.reject(error)
                            })
                        }, {
                            enableHighAccuracy: !0,
                            maximumAge: 0,
                            timeout: global_config.timeout_geolocation
                        })
                    } else $scope.$apply(function() {
                        deferred.reject({
                            code: -1,
                            message: "geolocation is not supported"
                        })
                    });
                    return deferred.promise
                },
                get11stLocation: function($scope) {
                    var deferred = $q.defer();
                    return $timeout(function() {
                        var position, lat = getLocationLatitude(),
                            lng = getLocationLongitude();
                        if (regexGeolocation(lat) && regexGeolocation(lng)) {
                            var dest = new Proj4js.Proj("EPSG:4326"),
                                source = new Proj4js.Proj("EPSG:3857"),
                                epsg3857_Point = new Proj4js.Point(lng, lat),
                                wgs84_Point = Proj4js.transform(source, dest, epsg3857_Point);
                            position = {
                                coords: {
                                    latitude: wgs84_Point.y,
                                    longitude: wgs84_Point.x
                                }
                            }, $scope.$apply(function() {
                                deferred.resolve(position)
                            })
                        } else $scope.$apply(function() {
                            deferred.reject({
                                code: 3,
                                message: "Timeout expired"
                            })
                        })
                    }, 50), deferred.promise
                },
                get_address_from_point: function(point) {
                    var deferred = $q.defer();
                    return $timeout(function() {
                        if (!("lat" in point && "lng" in point && function(lat) {
                                return -90 <= lat && lat <= 90
                            }(point.lat) && function(lng) {
                                return -180 <= lng && lng <= 180
                            }(point.lng))) return deferred.reject({
                            code: -2,
                            message: "wrong geolocation point"
                        });
                        YogiyoGeoLookup.get(point).$promise.then(function(result) {
                            return result.total < 1 ? deferred.reject(result) : ($rootScope.current_location = helper.get_location_prop(result.items[0], "dongmyun"), deferred.resolve({
                                point: result.items[0].point,
                                address: helper.get_location_address(result.items[0]),
                                zipcode: result.items[0].zipcode,
                                dongmyun: helper.get_location_prop(result.items[0], "dongmyun"),
                                sido: helper.get_location_prop(result.items[0], "sido"),
                                adiyo: result.items[0]
                            }))
                        }, function(error) {
                            return $rootScope.current_location = "위치 알 수 없음", deferred.reject(error)
                        })
                    }, 50), deferred.promise
                },
                get_set_current_location: function($scope, isInitCall) {
                    function errback(error) {
                        $log.error("failed to get geo location position: %o", error), $scope.$evalAsync(function() {
                            deferred.reject(error)
                        }), $rootScope.current_location = "위치 알 수 없음", YogiyoCart.is_empty() || YogiyoCart.clear()
                    }
                    var deferred = $q.defer(),
                        getFunc = $rootScope.is_11st && isInitCall ? this.get11stLocation : this.get;
                    return $rootScope.current_location = "검색중...", getFunc($scope).then(function(position) {
                        $log.debug("got geo location position: %o", position), this.get_address_from_point({
                            lng: position.coords.longitude,
                            lat: position.coords.latitude
                        }).then(function(result) {
                            result.method = "geolocation", $scope.$emit("location-changed", helper.extend(result, {
                                callback: function() {
                                    return function(result) {
                                        $scope.$evalAsync(function() {
                                            deferred.resolve(result)
                                        })
                                    }(result)
                                }
                            }))
                        }, errback.bind(this))
                    }.bind(this), errback.bind(this)), deferred.promise
                },
                initialize: function() {
                    $sessionStorage.location = {
                        address: null,
                        zipcode: null,
                        address_input: null
                    }
                },
                naverplace: function($scope, query) {
                    var deferred = $q.defer();
                    return naverplace_extrainfo.get(query).$promise.then(function(res) {
                        !res.error_code && res.adiyo ? (($sessionStorage.naverplace_extrainfo = res).adiyo.point && $sessionStorage.location && ($sessionStorage.location.point = res.adiyo.point), this.get_address_from_point(res.adiyo.point).then(function(result) {
                            $scope.$emit("location-changed", helper.extend(result, {
                                callback: function() {
                                    $scope.$evalAsync(function() {
                                        deferred.resolve(result)
                                    })
                                }
                            }))
                        }, function(err) {
                            deferred.reject(err)
                        })) : deferred.reject(res)
                    }.bind(this), function(err) {
                        deferred.reject(err)
                    }), deferred.promise
                },
                restaurants_available: function(query) {
                    var deferred = $q.defer();
                    return resource_restaurants_available.get(query).$promise.then(function(result) {
                        return deferred.resolve(result)
                    }, function(error) {
                        return deferred.reject(error)
                    }), deferred.promise
                },
                is_set_geolocation: function() {
                    var lat = helper.getValue($sessionStorage, "location.point.lat"),
                        lng = helper.getValue($sessionStorage, "location.point.lng");
                    return !!lat && !!lng && !isNaN(lat) && !isNaN(lng) && Math.abs(lat) <= 90 && Math.abs(lng) <= 180
                }
            }
        })
    }
}), define("app/resource/restaurant", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoRestaurant", function($window, $route, $resource, $q, $timeout, $log, global_config, $sessionStorage, $localStorage) {
            var resource_restaurant_list = $resource("/api/v1/restaurants-geo/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                }),
                resource_restaurant_list_for_search = $resource("/api/v1/restaurants-geo/search/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                }),
                resource_restaurant = $resource("/api/v1/restaurants/:restaurant_id/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                }),
                resource_restaurant_contry_origin_info = $resource("/api/v1/restaurants/:restaurant_id/info/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        cache: !1
                    })
                }),
                resource_restaurant_review_info = $resource("/review/restaurant/:restaurant_id/avgrating/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                }),
                resource = {};
            return resource.get = resource_restaurant.get, resource.info = resource_restaurant_contry_origin_info.get, resource.review_info = resource_restaurant_review_info.get, resource.get_list = function(query) {
                var deferred = $q.defer(),
                    method = resource_restaurant_list;
                return query.search && (method = resource_restaurant_list_for_search), method.get(query).$promise.then(function(result) {
                    return deferred.resolve(result)
                }, function(error) {
                    return deferred.reject(error)
                }), deferred.promise
            }, resource.handle_categories_from_category_tabs = function(category_tabs) {
                var categories = new Array,
                    categories_unordered = {};
                if (global_config.category_order.forEach(function(i) {
                        categories_unordered[i] = helper.extend(global_config.categories[i]), categories.push(categories_unordered[i])
                    }), category_tabs)
                    for (var i in categories[0].enabled = !0, category_tabs) categories_unordered[i].enabled = !0;
                return categories
            }, resource.update_session_categories_from_category_tabs = function(category_tabs) {
                if (category_tabs) {
                    var enabled = !1,
                        categories = new Array;
                    $sessionStorage.categories.forEach(function(i) {
                        i.enabled = Boolean(category_tabs[i.slug]), i.enabled && (enabled = !0), categories.push(i)
                    }), enabled && (categories[0].enabled = !0), $sessionStorage.categories = categories
                }
            }, resource.get_menu_count = function(menus) {
                for (var duplicate_count = 0, menu_slugs = new Array, disposable_menu = [], i = 0; i < menus.length; i++)
                    if ("disposable" == menus[i].ms_type) {
                        disposable_menu = menus[i].items;
                        break
                    } return menus.forEach(function(i) {
                    "disposable" != i.ms_type && i.items.forEach(function(j) {
                        ! function(id, slug) {
                            for (var i = 0; i < disposable_menu.length; i++)
                                if (disposable_menu[i].id == id) return !0;
                            return !1
                        }(j.id, j.slug) && (0 <= menu_slugs.indexOf(j.slug) ? duplicate_count += 1 : menu_slugs.push(j.slug))
                    })
                }), {
                    count: menu_slugs.length,
                    duplicate: duplicate_count + menu_slugs.length
                }
            }, resource.is_available = function(restaurant) {
                return !restaurant || restaurant.open && restaurant.reachable
            }, resource.is_open = function(restaurant) {
                return !restaurant || ($window.ab_test_show_all_menu || restaurant.open)
            }, resource.is_reachable = function(restaurant) {
                return !restaurant || restaurant.reachable
            }, $sessionStorage.categories = resource.handle_categories_from_category_tabs(), resource
        })
    }
}), define("app/resource/restaurant_menu", ["app/helper"], function(helper) {
    return function(app) {
        function transformRequest(obj) {
            var data = helper.extend(obj);
            return delete data.restaurant_id, helper.encodeHttpParams(data)
        }
        app.factory("YogiyoRestaurantMenu", function($resource, $timeout, $log, global_config) {
            return $resource("/api/v1/restaurants/:restaurant_id/menu/?add_photo_menu=android&add_one_dish_menu=true", {
                restaurant_id: "@restaurant_id"
            }, {
                get: helper.extend(global_config.default_resource_actions, {
                    method: "GET",
                    isArray: !0,
                    cache: !1,
                    transformRequest: transformRequest
                })
            })
        })
    }
}), define("app/resource/service_info", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoServiceInfo", function($resource, $timeout, $log, global_config, $q) {
            var resource = $resource("/api/v1/service_info/", null, {
                get: helper.extend(global_config.default_resource_actions, {
                    cache: !1
                })
            });
            return resource.check = function(interval, callback, errback) {
                function _check_service_info() {
                    var deferred = $q.defer();
                    return resource.get().$promise.then(function(info) {
                        return $log.debug("> check service info"), callback && callback(info), deferred.resolve(info)
                    }, function(error) {
                        return $log.error("> failed to check service info"), 491 == error.status ? (callback && callback(error.data), deferred.resolve(error.data)) : (errback && errback(error), deferred.reject(error))
                    }), deferred.promise
                }
                if (!interval) return _check_service_info();
                $timeout(_check_service_info, interval).finally(function() {
                    resource.check(interval, callback, errback)
                })
            }, resource
        })
    }
}), define("app/resource/service_status", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoServiceStatus", function($resource, $timeout, $log, global_config, $q, YogiyoModal) {
            var resource = $resource("/popup/get/", null, {
                get: helper.extend(global_config.default_resource_actions, {
                    method: "get",
                    cache: !1
                })
            });
            return resource.check = function(interval, callback, errback) {
                function _check_service_status() {
                    var deferred = $q.defer();
                    return resource.get().$promise.then(function(status) {
                        return $log.debug("> check service status"), callback && callback(status), deferred.resolve(status)
                    }, function(error) {
                        return $log.error("> failed to check service status"), 491 == error.status ? (callback && callback(error.data), deferred.resolve(error.data)) : (errback && errback(error), deferred.reject(error))
                    }), deferred.promise
                }
                if (!interval) return _check_service_status();
                $timeout(_check_service_status, interval).finally(function() {
                    resource.check(interval, callback, errback)
                })
            }, resource
        })
    }
}), define("app/resource/review", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoRestaurantReview", function($route, $resource, $timeout, $log, global_config, $sessionStorage) {
            var resource_review_list = $resource("/api/v1/reviews/:restaurant_id/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        isArray: !0
                    })
                }),
                resource_report_reply = $resource("/api/v1/create_review_report/:reply_id/", {
                    reply_id: "@reply_id"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                }),
                resource_report_reply_owner = $resource("/api/v1/create_review_reply_report/:reply_id/", {
                    reply_id: "@restaurant_id"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                }),
                resource = {};
            return resource.list = resource_review_list.get, resource.report = resource_report_reply.get, resource.report_owner = resource_report_reply_owner.get, resource
        })
    }
}), define("app/resource/cart", ["app/helper", "md5"], function(helper, md5) {
    return function(app) {
        app.factory("YogiyoCart", function($route, $resource, $log, $rootScope, $sessionStorage, global_config, $location, YogiyoModal, GTM, GA, FacebookPixel) {
            var resource = {
                get_delivery_fee: function(res) {
                    var restaurant = res || this.get().restaurant;
                    return restaurant ? 0 < restaurant.delivery_fee && 0 < restaurant.free_delivery_threshold && this.get_total() >= restaurant.free_delivery_threshold ? 0 : restaurant.delivery_fee : 0
                },
                get: function() {
                    return $sessionStorage.cart ? $sessionStorage.cart : {}
                },
                get_restaurant_id: function() {
                    var cart = this.get();
                    return cart.restaurant_id ? cart.restaurant_id : null
                },
                is_empty: function() {
                    var cart = this.get();
                    return !cart.items || cart.items.length < 1
                },
                get_amount: function() {
                    if (this.is_empty()) return 0;
                    var cart = this.get(),
                        amount = 0;
                    return cart.items.forEach(function(i) {
                        amount += i.amount
                    }), amount
                },
                get_item_amount_from_slug: function(slug) {
                    if (this.is_empty()) return 0;
                    for (var amount = 0, cart = this.get(), i = 0; i < cart.items.length; i++) {
                        var main_item = cart.items[i];
                        for (var sub in main_item.slug == slug && (amount += main_item.amount), main_item.subchoices)
                            for (var sub_items = main_item.subchoices[sub].items, j = 0; j < sub_items.length; j++) sub_items[j].slug == slug && (amount += main_item.amount)
                    }
                    return amount
                },
                get_total: function() {
                    if (this.is_empty()) return 0;
                    var cart = this.get(),
                        p = cart.default_price;
                    return cart.items.forEach(function(i) {
                        p += i.price * i.amount
                    }), p
                },
                clear: function() {
                    $sessionStorage.cart = {}
                },
                get_item_fingerprint: function(item) {
                    var ids = [item.id];
                    for (var slug in item.subchoices)
                        for (var subchoices = item.subchoices[slug], i = 0; i < subchoices.items.length; i++) ids.push(subchoices.items[i].id);
                    return ids.sort(function(a, b) {
                        return a - b
                    }), ids.toString()
                },
                remove_item: function(target_item) {
                    if (!this.is_empty()) {
                        var remove_item, cart = this.get(),
                            new_items = new Array;
                        if (cart.items.forEach(function(source_item) {
                                ("object" != typeof target_item || resource.get_item_fingerprint(target_item) != resource.get_item_fingerprint(source_item)) && target_item != source_item.id_for_stock ? new_items.push(source_item) : remove_item = source_item
                            }), remove_item) {
                            $sessionStorage.cart.items = new_items;
                            var info = GA.get_tracker_info($location.path(), $route.current.params);
                            ga("send", "event", "Ordering", "CartPlusMinus", "삭제", {
                                title: info.title,
                                page: info.page
                            }), dataLayer.push({
                                event: GTM.EVENT.REMOVE_CART_CLICKED,
                                locationAddress: cart.restaurant.address,
                                locationCity: cart.restaurant.city,
                                locationArea: cart.checkout_address.zipcode,
                                locationCountry: "South Korea",
                                shopName: cart.restaurant_name,
                                shopId: cart.restaurant_id,
                                shopType: "normal",
                                productDetails: !helper.is_empty(remove_item.subchoices),
                                productQuantity: remove_item.amount,
                                productName: remove_item.name,
                                productCategory: cart.restaurant.categories.toString(),
                                productUnitSalePrice: remove_item.discounted_price || remove_item.price,
                                productUnitPrice: remove_item.price
                            })
                        }
                    }
                }
            };
            resource.update_stock_amount = function(menu) {
                var obj = {},
                    cart_item_amount_dic = $sessionStorage.cart.stock_amount_dictionary,
                    menu_dic = function(menu) {
                        var dic = {};
                        return menu.forEach(function(items) {
                            items.items.forEach(function(item) {
                                dic[item.id] = item.stock_amount, item.subchoices.forEach(function(subchoices) {
                                    subchoices.subchoices.forEach(function(subchoice) {
                                        dic[subchoice.id] = subchoice.stock_amount
                                    })
                                })
                            })
                        }), dic
                    }(menu);
                for (var item_id in cart_item_amount_dic) obj[item_id] = menu_dic[item_id];
                $sessionStorage.cart.stock_amount_dictionary = angular.merge({}, $sessionStorage.cart.stock_amount_dictionary, obj)
            };

            function enable_stock_with_cart(order_count, item) {
                return !(function(amount) {
                    return "number" == typeof amount
                }(item.stock_amount) && (order_count + resource.get_item_amount_from_slug(item.slug) > get_stock_amount(item.id) || ! function(order_count, item) {
                    for (var subchoice in item.subchoices)
                        for (var sub = item.subchoices[subchoice].items, i = 0; i < sub.length; i++)
                            if (order_count + resource.get_item_amount_from_slug(sub[i].slug) > get_stock_amount(sub[i].id)) return !1;
                    return !0
                }(order_count, item)))
            }
            var get_stock_amount = function(id) {
                return $sessionStorage.cart.stock_amount_dictionary[id]
            };
            resource.set_quantity = function(item, cnt) {
                0 < cnt && !enable_stock_with_cart(cnt, item) ? $rootScope.alert_bottom("주문표에 담긴 메뉴포함, 남은 수량을 초과할 수 없습니다.") : resource.add_item_amount(item, cnt)
            }, resource.add_item_amount = function(item, amount) {
                var cart = this.get();
                if (!(item.amount + amount < 1)) {
                    item.amount + amount < 0 ? item.amount = 0 : item.amount += amount;
                    var label = 0 < amount ? "플러스" : "마이너스",
                        info = GA.get_tracker_info($location.path(), $route.current.params);
                    ga("send", "event", "Ordering", "CartPlusMinus", label, {
                        title: info.title,
                        page: info.page
                    }), cart.restaurant && cart.checkout_address && dataLayer.push({
                        event: 0 < amount ? GTM.EVENT.INCREASE_CART_CLICKED : GTM.EVENT.REDUCE_CART_CLICKED,
                        locationAddress: cart.restaurant.address,
                        locationCity: cart.restaurant.city,
                        locationArea: cart.checkout_address.zipcode,
                        locationCountry: "South Korea",
                        shopName: cart.restaurant_name,
                        shopId: cart.restaurant_id,
                        shopType: "normal",
                        productDetails: !helper.is_empty(item.subchoices),
                        productQuantity: item.amount,
                        productName: item.name,
                        productCategory: cart.restaurant.categories.toString(),
                        productUnitSalePrice: item.discounted_price || item.price,
                        productUnitPrice: item.price
                    })
                }
            }, resource.get_menu_name = function(item) {
                var subchoices = new Array;
                if (item.subchoices)
                    for (var slug in item.subchoices) item.subchoices[slug].items.forEach(function(i) {
                        subchoices.push(i.name)
                    });
                return item.name + (0 < subchoices.length ? ": " + subchoices.join(", ") : "")
            }, resource.is_same_restaurant = function(restaurant_id) {
                if (this.is_empty()) return !0;
                var cart = this.get();
                return cart.restaurant_id && cart.restaurant_id == restaurant_id
            }, resource.add = function(selected_item, is_silent_add) {
                var selected = angular.copy(selected_item);
                is_silent_add || $route.current.scope.$emit("add-to-cart"), selected.id_for_stock = (new Date).getTime(), delete selected.restaurant.menu, delete selected.restaurant.reviews, $sessionStorage.cart.restaurant_id = selected.restaurant_id, $sessionStorage.cart.restaurant = selected.restaurant, $sessionStorage.cart.restaurant_name = selected.restaurant_name, $sessionStorage.cart.default_price = selected.default_price, $sessionStorage.cart.checkout_address = selected.checkout_address, delete selected.restaurant, delete selected.restaurant_id, delete selected.restaurant_name, delete selected.checkout_address, $sessionStorage.cart.stock_amount_dictionary = function(item) {
                    var obj = {};
                    for (var subchoice in obj[item.id] = item.stock_amount, item.subchoices)
                        for (var sub = item.subchoices[subchoice].items, i = 0; i < sub.length; i++) obj[sub[i].id] = sub[i].stock_amount;
                    return angular.merge({}, $sessionStorage.cart.stock_amount_dictionary, obj)
                }(selected);
                var cart = this.get(),
                    checkout_address = helper.getValue(cart, "checkout_address.address");
                if (dataLayer.push({
                        event: GTM.EVENT.ADD_CART_CLICKED,
                        locationAddress: checkout_address,
                        locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                        locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                        locationCity: checkout_address ? checkout_address.split(" ")[0] : "",
                        locationArea: helper.getValue(cart, "checkout_address.zipcode"),
                        locationCountry: "South Korea",
                        shopId: cart.restaurant_id,
                        shopName: cart.restaurant_name,
                        productSku: selected.slug,
                        productDetails: resource.get_menu_name(selected) != selected.name,
                        productQuantity: selected.amount,
                        productName: selected.name,
                        productCategory: cart.restaurant.categories.toString(),
                        productVariant: "",
                        currencyCode: "KRW",
                        productUnitSalePrice: selected.price - selected.price * cart.restaurant.discount_percent / 100,
                        productUnitPrice: selected.price
                    }), FacebookPixel.track({
                        content_type: "product",
                        content_ids: cart.restaurant_id,
                        CuisineMain: 0 < cart.restaurant.categories.length ? cart.restaurant.categories[0] : "",
                        CuisineOther: 1 < cart.restaurant.categories.length ? cart.restaurant.categories[1] : "",
                        Zip: helper.getValue(cart, "checkout_address.zipcode"),
                        Area: helper.getValue(cart, "checkout_address.zipcode"),
                        City: checkout_address ? checkout_address.split(" ")[0] : "",
                        Country: "South Korea",
                        RestaurantName: cart.restaurant_name,
                        RestaurantID: cart.restaurant_id,
                        RestaurantRating: cart.restaurant.rating,
                        Value: selected.price,
                        Currency: "KRW"
                    }, FacebookPixel.EVENT.ADD_TO_CART), this.is_empty()) $sessionStorage.cart.items = [selected];
                else {
                    for (var existing_idx, i = 0; i < cart.items.length; i++)
                        if (resource.get_item_fingerprint(cart.items[i]) == resource.get_item_fingerprint(selected)) {
                            existing_idx = i;
                            break
                        } if (void 0 !== existing_idx) cart.items[existing_idx].amount += selected.amount;
                    else "disposable" == cart.items[cart.items.length - 1].ms_type ? cart.items.splice(cart.items.length - 1, 0, selected) : cart.items.push(selected)
                }
            };

            function check_stock_menu() {
                var cart = resource.get();
                if (helper.getValue(cart, "restaurant.stock_management")) {
                    var cart_data = resource.get_cart_data();
                    check_stock_from_api(cart_data)
                } else checkout()
            }
            var check_stock_from_api = function(query_param) {
                $rootScope.$emit("loading", !0), resource.check_stock_amount(query_param).$promise.then(function(result, a, b, c) {
                    result.success ? checkout() : resource.stock_error_popup(result)
                }, function(error) {
                    var content = "";
                    content = 500 <= error.status ? "서비스에 문제가 발생했습니다. 잠시뒤 다시 시도해주세요." : "주문을 처리하지 못했습니다. 다시 시도해주세요.", YogiyoModal.base_popup({
                        title: "알림",
                        content: content
                    })
                }).finally(function() {
                    $rootScope.$emit("loading", !1)
                })
            };
            resource.get_cart_data = function() {
                var cart = this.get(),
                    cart_items = new Array;
                cart.items.forEach(function(item) {
                    var item_data = {
                            id: item.id_for_stock,
                            slug: item.slug,
                            quantity: item.amount,
                            additionalIngredientSets: {}
                        },
                        choices = {};
                    if (item.subchoices)
                        for (var slug in item.subchoices) choices[slug] || (choices[slug] = {
                            items: {},
                            slug: slug
                        }), item.subchoices[slug].items.forEach(function(subitem) {
                            choices[slug].items[subitem.slug] = {
                                slug: subitem.slug,
                                quantity: 1
                            }
                        });
                    item_data.additionalIngredientSets = choices, cart_items.push(item_data)
                });
                var cart_param = {
                        restaurant_id: this.get_restaurant_id(),
                        items: cart_items,
                        zip_code: $sessionStorage.location.zipcode,
                        customer_lat: helper.getValue($sessionStorage, "location.point.lat"),
                        customer_lng: helper.getValue($sessionStorage, "location.point.lng")
                    },
                    discounts = cart.restaurant.discounts && cart.restaurant.discounts.additional && cart.restaurant.discounts.additional.delivery;
                return $rootScope.is_yogiyo && discounts && 0 < discounts.amount && (cart_param.order_serving_type = "delivery", discounts.is_per_menu ? cart_param.additional_discount_per_menu = discounts.amount : cart_param.additional_discount = discounts.amount), cart_param
            }, resource.stock_error_popup = function(stock_info, checkout_call) {
                YogiyoModal.base_confirm({
                    title: stock_info.title,
                    body: stock_info.body.join("<br>"),
                    all: stock_info.all,
                    is_checkout_call: checkout_call,
                    items: stock_info.items,
                    callbacks: {
                        close: function() {
                            "restaurant_controller" == $rootScope.current_controller && $route.reload()
                        },
                        confirm: function() {
                            ! function(items) {
                                for (var i = 0; i < items.length; i++) resource.remove_item(items[i].id);
                                check_minimum_price_order(function() {
                                    var cart_data = resource.get_cart_data();
                                    check_stock_from_api(cart_data)
                                })
                            }(stock_info.items), "restaurant_controller" == $rootScope.current_controller && $route.reload()
                        }
                    },
                    templateUrl: "modal_check_out_of_stock.html"
                })
            };

            function go_add_menu() {
                $location.url("/" + $sessionStorage.cart.restaurant.id + "/")
            }

            function check_minimum_discount_order(callback) {
                var only_for_member = resource.get().restaurant.discounts && resource.get().restaurant.discounts.additional && resource.get().restaurant.discounts.additional.delivery.only_for_member,
                    total_price = resource.get_total(),
                    min_order_amount = $sessionStorage.cart.restaurant.min_order_amount,
                    discount_mov = $sessionStorage.cart.restaurant.discounts && $sessionStorage.cart.restaurant.discounts.additional ? $sessionStorage.cart.restaurant.discounts.additional.delivery.discount_mov : 0;
                (!only_for_member || $rootScope.check_login()) && resource.has_discounted_item() && total_price < discount_mov ? YogiyoModal.base_popup({
                    diff_price: total_price < min_order_amount ? discount_mov - min_order_amount : discount_mov - total_price,
                    discount_mov: discount_mov,
                    click_add_menu: go_add_menu,
                    click_checkout: callback,
                    templateUrl: "modal_checkout_minimum_discount_limit.html"
                }) : callback()
            }
            var checkout = function() {
                    var total_price = resource.get_total();
                    dataLayer.push({
                        event: GTM.EVENT.CHECKOUT_CLICKED,
                        locationAddress: helper.getValue($sessionStorage, "location.address"),
                        locationLat: helper.getValue($sessionStorage, "location.point.lat"),
                        locationLon: helper.getValue($sessionStorage, "location.point.lng"),
                        locationCity: $sessionStorage.location.address ? $sessionStorage.location.address.split(" ")[0] : "",
                        locationArea: helper.getValue($sessionStorage, "location.zipcode"),
                        locationCountry: "South Korea",
                        shopId: resource.get_restaurant_id(),
                        currencyCode: "KRW",
                        cartValue: total_price
                    }), $location.url("/checkout/")
                },
                check_minimum_price_order = function(callback) {
                    var total_price = resource.get_total(),
                        min_order_amount = $sessionStorage.cart.restaurant.min_order_amount,
                        unorderable_value = $sessionStorage.cart.restaurant.unorderable_under_min_order_value;
                    total_price < min_order_amount ? YogiyoModal.base_popup({
                        total_price: total_price,
                        min_order_amount: min_order_amount,
                        unorderable_under_min_order_value: unorderable_value,
                        click_add_menu: go_add_menu,
                        click_checkout: function() {
                            check_minimum_discount_order(callback)
                        },
                        templateUrl: "modal_checkout_minimum_price_limit.html"
                    }) : check_minimum_discount_order(callback)
                };
            resource.checkout = function() {
                check_minimum_price_order(check_stock_menu)
            };

            function transformRequest(obj) {
                var data = helper.extend(obj);
                return delete data.restaurant_id, data.items = JSON.stringify(data.items), helper.encodeHttpParams(data)
            }
            var resource_cart = $resource("/api/v1/restaurants/:restaurant_id/cart/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        transformRequest: transformRequest,
                        withCredentials: !0,
                        transformResponse: function(data, header) {
                            return helper.getCartSubmitResult(data, header)
                        }
                    })
                }),
                resource_check_stock_amount = $resource("/api/v1/restaurants/:restaurant_id/cart/check_stock_amount/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        transformRequest: transformRequest,
                        withCredentials: !0
                    })
                }),
                resource_disuse_coupon = $resource("/api/v1/restaurants/:restaurant_id/coupon_disuse/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        withCredentials: !0
                    })
                }),
                resource_check_coupon = $resource("/api/v1/restaurants/:restaurant_id/coupon_check/", {
                    restaurant_id: "@restaurant_id"
                }, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        withCredentials: !0
                    })
                });
            return resource.submit = function(data) {
                return resource_cart.submit(data)
            }, resource.check_stock_amount = function(data) {
                return resource_check_stock_amount.submit(data)
            }, resource.disuse_coupon = function(data) {
                return resource_disuse_coupon.submit(data)
            }, resource.check_coupon = function(data) {
                return resource_check_coupon.submit(data)
            }, resource.has_discounted_item = function() {
                var cart = resource.get();
                return !(resource.is_empty() || !cart.restaurant.discount || !cart.restaurant.discounts.additional) && (!cart.restaurant.discounts.additional.delivery.is_per_menu || cart.items.some(function(item) {
                    return item.discounts
                }))
            }, resource.check_login_for_discount = function() {
                var discounts = resource.get().restaurant.discounts && resource.get().restaurant.discounts.additional && resource.get().restaurant.discounts.additional.delivery;
                return !!discounts && (!$rootScope.check_login() && 0 < discounts.amount && discounts.only_for_member && resource.has_discounted_item())
            }, resource
        })
    }
}), define("app/resource/sms", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoSMS", function($route, $q, $resource, $log, $sessionStorage, global_config) {
            var resource = {},
                resource_check_phone_verified = $resource("/vericode/isveriphone/:phone/?key=" + global_config.sms_secret[0], {
                    phone: "@phone"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1
                    })
                }),
                resource_request_sms_verify = $resource("/vericode/sendvericode/:phone/", {
                    phone: "@phone"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        cache: !1
                    })
                }),
                resource_request_app_download_link = $resource("/m/sms/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        transformResponse: function(data, headersGetter) {
                            return {
                                result: "ok" == data.toLowerCase()
                            }
                        }
                    })
                }),
                resource_check_sms_verify = $resource("/vericode/checkvericode/:phone/", {
                    phone: "@phone"
                }, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        cache: !1
                    })
                });
            return resource.check_phone_verified = function(data) {
                $log.debug("request `check_phone_verified`");
                var deferred = $q.defer();
                return resource_check_phone_verified.get(data).$promise.then(function(response) {
                    var base = data.phone + global_config.sms_secret[1],
                        hash_true = helper.sha1_hex(base + "true");
                    if (response.result == hash_true) return deferred.resolve(!0);
                    var hash_false = helper.sha1_hex(base + "false");
                    if (response.result == hash_false) return deferred.resolve(!1);
                    var hash_ban = helper.sha1_hex(base + "ban");
                    return response.result == hash_ban ? deferred.reject("ban") : void 0
                }, function(error) {
                    return deferred.reject(error)
                }), deferred.promise
            }, resource.request_sms_verify = function(data) {
                var deferred = $q.defer();
                return $log.debug("request `request_sms_verify`"), resource_request_sms_verify.get(data).$promise.then(function(result) {
                    return deferred.resolve(result)
                }, function(error) {
                    return deferred.reject(error)
                }), deferred.promise
            }, resource.check_sms_verify = function(data) {
                var deferred = $q.defer();
                return $log.debug("request `check_sms_verify`"), resource_check_sms_verify.get(data).$promise.then(function(result) {
                    return deferred.resolve(result)
                }, function(error) {
                    return deferred.reject(error)
                }), deferred.promise
            }, resource.request_app_download_link = function(phone) {
                var deferred = $q.defer();
                return $log.debug("request `request_app_download_link`"), resource_request_app_download_link.get(phone).$promise.then(function(result) {
                    return deferred.resolve(result)
                }, function(error) {
                    return $log.error(error), deferred.reject(error)
                }), deferred.promise
            }, resource
        })
    }
}), define("app/resource/storage", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoStorage", function($rootScope, $log, $sessionStorage, $localStorage, global_config, YogiyoLocation) {
            var resource = {
                reset: function() {
                    $localStorage.$reset(), $sessionStorage.$reset(), this.initialize()
                },
                initialize: function() {
                    $rootScope.session_storage = $sessionStorage.$default({
                        user_info: null,
                        login_info: null,
                        cart: {},
                        previous_restaurant: null,
                        service_info: null,
                        location: null,
                        restaurant_list_sort_order: "",
                        categories: new Array,
                        naverplace_extrainfo: null
                    }), null == $sessionStorage.restaurant_list_sort_order && ($sessionStorage.restaurant_list_sort_order = ""), $rootScope.local_storage = $localStorage.$default({
                        maintain_login: !0,
                        user: {
                            address: null,
                            address_detail: null,
                            payment: null,
                            phone: null
                        },
                        restaurants: {},
                        location_search_history: new Array,
                        last_checkout: null,
                        last_login: {},
                        location_terms_for_11st: !1
                    }), (!$sessionStorage.location || Object.keys($sessionStorage.location).length < 1) && YogiyoLocation.initialize(), $sessionStorage.location && $sessionStorage.location.address && ($sessionStorage.location.address_input = $sessionStorage.location.address)
                }
            };
            return resource
        })
    }
}), define("app/resource/modal", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoModal", function($modal, $rootScope, $resource, $timeout, $log, $window, global_config) {
            var popState = {
                is_initial_popstate: !1,
                arrId: [],
                cbList: {},
                length: function() {
                    return this.arrId.length
                },
                push: function(id, cb) {
                    this.arrId.push(id), this.cbList[id] = cb
                },
                check: function(id) {
                    return id in this.cbList
                },
                remove: function(id) {
                    var index = this.arrId.indexOf(id); - 1 < index && (this.arrId.splice(index, 1), delete this.cbList[id])
                },
                listener: function() {
                    if (0 != this.arrId.length)
                        if (this.is_initial_popstate || !$rootScope.is_mobile_device) {
                            if (0 < this.arrId.length) {
                                var id = this.arrId.pop();
                                return this.cbList[id](), delete this.cbList[id], 0 == this.arrId.length && (window.onpopstate = null), id
                            }
                        } else this.is_initial_popstate = !0
                },
                addHistory: function(id, scope) {
                    popState.push(id, function() {
                        scope.close()
                    }), helper.is_history_api && (window.onpopstate = function(evt) {
                        popState.listener.call(popState, evt)
                    })
                },
                close: function(scope) {
                    popState.remove(scope.modal.$id), scope.modal.hide()
                }
            };
            $rootScope.$on("$locationChangeStart", function(ev, nextRoute, currentRoute) {
                $log.debug("locationChangeStart event: %s, %o, %o", ev.name, nextRoute, currentRoute), $rootScope.is_yogiyo && $rootScope.is_ie && window.is_smilepay_processing ? ev.preventDefault() : helper.is_history_api && nextRoute !== currentRoute ? window.onpopstate = null : popState.listener()
            });

            function scrollStartWhenShowModal(evt) {
                prevPointY = evt.changedTouches[0].clientY
            }

            function scrollMoveWhenShowModal(evt) {
                var isModalBody, pos, top, p = evt.target;
                if (evt.preventDefault(), evt.stopPropagation(), enabled_scroll_element_class) {
                    for (; p;) {
                        if (angular.element(p).hasClass(enabled_scroll_element_class)) {
                            isModalBody = !0;
                            break
                        }
                        p = p.parentElement
                    }
                    if (isModalBody && p.scrollHeight >= p.clientHeight && (pos = prevPointY - evt.changedTouches[0].clientY, top = p.scrollTop + pos, p.scrollTop = top, prevPointY = evt.changedTouches[0].clientY, "detail-content" == enabled_scroll_element_class && p.scrollTop + p.clientHeight == p.scrollHeight)) {
                        var total_area_height = $(".detail-total-wrap").outerHeight(),
                            total_area_top = Math.ceil($(".detail-total-wrap").offset().top),
                            btn_area_top = Math.ceil($(".detail-btn-wrap").offset().top),
                            pos_diff = btn_area_top - total_area_top;
                        0 < $("#product_info").length ? (total_area_top = Math.ceil($("#product_info .detail-total-wrap").offset().top), (pos_diff = (btn_area_top = Math.ceil($("#product_info .detail-btn-wrap").offset().top)) - total_area_top) < 0 && $("#product_info .detail-content").css("padding-bottom", -pos_diff + "px")) : pos_diff < total_area_height && "0px" == $(".detail-content").css("padding-bottom") && $(".detail-content").css("padding-bottom", total_area_height - pos_diff + "px")
                    }
                }
            }

            function resizeHandler(evt) {
                $(".detail-content").css("z-index", "1")
            }
            var enabled_scroll_element_class, prevPointY = 0;
            return $rootScope.$on("modal.show", function(evt) {
                $rootScope.is_mobile_device && $rootScope.is_mobile_width && evt.targetScope.$parent.is_full_size && ($rootScope.is_yogiyo && !is_smart_banner_closed && ($(".detail-header").css("top", smart_banner_margin_top + "px"), $(".detail-content").css("top", menu_detail_top + smart_banner_margin_top + "px")), enabled_scroll_element_class = "detail-content", window.addEventListener("resize", resizeHandler, !1), $(".detail-content").css("padding-bottom", "0")), "cart_controller" == $rootScope.current_controller && (enabled_scroll_element_class = "out-of-stock-list"), helper.is_history_api && window.history[$window.history.state ? "replaceState" : "pushState"](null, "modalopen"), $rootScope.is_mobile_device && (document.body.addEventListener("touchstart", scrollStartWhenShowModal, !!$rootScope.supportsPassive && {
                    passive: !1
                }), document.body.addEventListener("touchmove", scrollMoveWhenShowModal, !!$rootScope.supportsPassive && {
                    passive: !1
                }))
            }), $rootScope.$on("modal.hide", function(evt) {
                var modal_close_id = evt.targetScope.$parent.modal.$id,
                    isHistory = popState.check(modal_close_id);
                helper.is_history_api && isHistory ? window.history.back() : isHistory && popState.remove(modal_close_id), evt.targetScope.modal.destroy(), setTimeout(function() {
                    0 < popState.length() ? setTimeout(function() {
                        $("body").addClass("modal-open modal-with-am-fade")
                    }, 0) : (enabled_scroll_element_class = null, $rootScope.is_mobile_device && (window.removeEventListener("resize", resizeHandler, !1), document.body.removeEventListener("touchstart", scrollStartWhenShowModal, !!$rootScope.supportsPassive && {
                        passive: !1
                    }), document.body.removeEventListener("touchmove", scrollMoveWhenShowModal, !!$rootScope.supportsPassive && {
                        passive: !1
                    })))
                }, 100)
            }), {
                base_popup: function(opts) {
                    var _id = (new Date).getTime(),
                        scope = $rootScope.$new(),
                        options = helper.extend({
                            close_label: "확인",
                            templateUrl: "modal_base_popup.html"
                        }, opts);
                    for (var i in options.content && (options.content = helper.getNewLineStr(options.content)), options) scope[i] = options[i];
                    return scope.close = function() {
                        popState.close(scope), options.callbacks && options.callbacks.close && options.callbacks.close()
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: options.templateUrl,
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                clear_cart: function(YogiyoCart) {
                    var _id = (new Date).getTime(),
                        scope = $rootScope.$new();
                    return scope.clear = function() {
                        popState.close(scope), YogiyoCart.clear()
                    }, scope.close = function() {
                        popState.close(scope)
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "clear_cart.html",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                clear_cart_in_another: function($scope, callback) {
                    var _id = (new Date).getTime(),
                        scope = $scope.$new();
                    return scope.cancel_and_order = function() {
                        popState.close(scope), callback()
                    }, scope.close = function() {
                        popState.close(scope)
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "clear_cart_in_another_restaurant.html",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                base_confirm: function(opts) {
                    var _id = (new Date).getTime(),
                        scope = $rootScope.$new(),
                        options = helper.extend({
                            close_label: "아니요",
                            confirm_label: "예",
                            templateUrl: "modal_base_confirm.html"
                        }, opts);
                    for (var i in options.message && (options.message = helper.getNewLineStr(options.message)), options) scope[i] = options[i];
                    return scope.confirm = function() {
                        popState.close(scope), options.callbacks && options.callbacks.confirm && options.callbacks.confirm()
                    }, scope.close = function() {
                        popState.close(scope), options.callbacks && options.callbacks.close && options.callbacks.close()
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: options.templateUrl,
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                exitpoll: function(choices) {
                    var _id = (new Date).getTime(),
                        scope = $rootScope.$new();
                    return scope.choices = choices, scope.close = function() {
                        popState.close(scope)
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "exitpoll.html",
                        backdrop: "static",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                password_change_notice_for_mobile: function(callback) {
                    var _id = (new Date).getTime(),
                        scope = $rootScope.$new();
                    return scope.close = function() {
                        popState.close(scope)
                    }, scope.goto = function() {
                        popState.close(scope), callback()
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "password_change_mob1.html",
                        backdrop: "static",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                password_change_notice_for_pc: function() {
                    var _id = (new Date).getTime(),
                        scope = $rootScope.$new();
                    return scope.close = function() {
                        popState.close(scope)
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "password_change_pc.html",
                        backdrop: "static",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                verify_phone: function($scope) {
                    var _id = (new Date).getTime(),
                        scope = $scope.$new();
                    return scope.sms_verified = $scope.sms_verified, scope.request_sms_verify = $scope.request_sms_verify, scope.verify_sms_verify = $scope.verify_sms_verify, scope.close = function() {
                            popState.close(scope), $scope.clear_sms_verify_code_input()
                        }, scope.modal = $modal({
                            id: _id,
                            scope: scope,
                            templateUrl: "modal_phone_number_verify.html",
                            backdrop: "static",
                            show: !0
                        }), popState.addHistory(_id, scope),
                        function() {
                            popState.close(scope)
                        }
                },
                show_menu_detail: function($scope, menu, base_selected, disposable_menu) {
                    var _id = (new Date).getTime(),
                        scope = $scope.$new();
                    return scope.menu = menu, scope.restaurant = $scope.restaurant, scope.base_selected = base_selected, scope.disposable_menu = disposable_menu, scope.is_full_size = !0, scope.close = function() {
                        popState.close(scope)
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "restaurant_menu.html",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                show_industrial_info: function($scope, industrial_info) {
                    var _id = (new Date).getTime(),
                        scope = $scope.$new();
                    return scope.images = industrial_info.images, scope.description = helper.getNewLineStr(industrial_info.description), scope.is_full_size = !0, scope.close = function() {
                        popState.close(scope)
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "modal_product_info.html",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                },
                show_policy_info: function($scope, industrial_info) {
                    var _id = (new Date).getTime(),
                        scope = $scope.$new();
                    return scope.item_policy_info = helper.getNewLineStr(industrial_info.item_policy_info), scope.is_full_size = !0, scope.close = function() {
                        popState.close(scope)
                    }, scope.modal = $modal({
                        id: _id,
                        scope: scope,
                        templateUrl: "modal_policy_info.html",
                        show: !0
                    }), popState.addHistory(_id, scope), scope.modal
                }
            }
        })
    }
}), define("app/resource/exit_poll", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoExitPoll", function($route, $modal, $rootScope, $resource, $q, $timeout, $log, $window, global_config, YogiyoModal) {
            var resource = {},
                resource_poll_choices = $resource("/api/v1/poll_choices/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET"
                    })
                }),
                resource_poll_submit = $resource("/api/v1/poll_submit/", null, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "GET"
                    })
                });
            return resource.check = function(order_number) {
                (function(data) {
                    var deferred = $q.defer();
                    return resource_poll_choices.get(data).$promise.then(function(result) {
                        if (result && result.poll_choices && 0 < result.poll_choices.length) return deferred.resolve(result.poll_choices)
                    }, function(error) {
                        return deferred.reject(error)
                    }), deferred.promise
                })({
                    order_number: order_number
                }).then(function(result) {
                    YogiyoModal.exitpoll(result)
                }, function(error) {})
            }, resource.submit = function(data) {
                return resource_poll_submit.submit(data)
            }, resource
        })
    }
}), define("app/resource/account", ["app/helper"], function(helper, GTM) {
    return function(app) {
        app.factory("YogiyoAccount", function($resource, $rootScope, $timeout, $log, $route, $location, global_config, $localStorage, $sessionStorage, $q, $cookies, YogiyoModal, GTM, GA) {
            var resource_user_info = $resource("/api/v1/user_info/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "post",
                        cache: !1
                    })
                }),
                resource_login = $resource("/api/v1/account/login/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "post",
                        cache: !1
                    })
                }),
                resource_logout = $resource("/api/v1/account/logout/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "post",
                        cache: !1
                    })
                }),
                resource_last_login = $resource("/api/v1/account/last_login/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "put",
                        cache: !1
                    })
                }),
                resource_join = $resource("/api/v1/sign_up/", null, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        transformRequest: helper.encodeHttpParams.bind(helper),
                        withCredentials: !0
                    })
                }),
                resource_pwinquiry = $resource("/api/v1/reset_password/", null, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        transformRequest: helper.encodeHttpParams.bind(helper),
                        withCredentials: !0
                    })
                }),
                resource_idinquiry = $resource("/api/v1/find_email/:phone/", {
                    phone: "@phone"
                }, {
                    submit: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        transformRequest: helper.encodeHttpParams.bind(helper),
                        withCredentials: !0
                    })
                }),
                resource_check_sns_joined_user = $resource("/social_auth/login/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        cache: !1
                    })
                }),
                resource_social_join = $resource("/social_auth/sign_up/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "POST",
                        cache: !1
                    })
                }),
                resource_captcha = $resource("/api/v1/captcha/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1,
                        responseType: "arraybuffer",
                        transformResponse: function(data) {
                            return {
                                response: new Blob([data], {
                                    type: "image/jpeg"
                                })
                            }
                        }
                    })
                }),
                resource = {},
                is_returning = !1;
            resource.check_returning = function() {
                return is_returning
            }, resource.check = function() {
                return $sessionStorage.sns_login_info && $sessionStorage.sns_login_info.is_signed_up || !!$sessionStorage.login_info || $sessionStorage.user_info && $sessionStorage.user_info.is_user
            }, resource.is_not_maintian_login = function() {
                return !$localStorage.maintain_login && this.check()
            }, resource.get_user_email = function() {
                return $sessionStorage.user_info && $sessionStorage.user_info.email ? $sessionStorage.user_info.email.toLowerCase() : $sessionStorage.login_info && $sessionStorage.login_info.username ? $sessionStorage.login_info.username.toLowerCase() : void 0
            }, resource.user_info = function() {
                var deferred = $q.defer();
                return $localStorage.last_login.date && (is_returning = !0), !$localStorage.last_login.sessionid || $localStorage.maintain_login || this.check() || $cookies.get("session_update") ? ($rootScope.is_11st || $localStorage.maintain_login || !this.check() || $rootScope.$emit("session.start", null), resource_user_info.get().$promise.then(function(data) {
                    return $log.debug("> success user_info"), $rootScope.is_ie && window.sessionStorage.setItem("ngStorage-user_info", JSON.stringify(data)), $sessionStorage.user_info = data, $localStorage.last_login = {
                        date: (new Date).getTime(),
                        id: $localStorage.last_login.id || data.customer_id || "",
                        sessionid: $cookies.get("sessionid"),
                        phone: data.is_user ? $localStorage.last_login.phone : ""
                    }, data.is_user && resource_last_login.get().$promise.then(function(data) {
                        return $log.debug("> success last_login"), deferred.resolve(data)
                    }, function(error) {
                        return $log.error("> failed last_login"), deferred.reject(error)
                    }), deferred.resolve(data)
                }, function(error) {
                    return $log.error("> failed user_info"), deferred.reject(error)
                })) : this.logout(), deferred.promise
            }, resource.get_captcha_image = function() {
                var deferred = $q.defer();
                return resource_captcha.get().$promise.then(function(data) {
                    $log.debug("> success get captcha");
                    var url = URL.createObjectURL(data.response);
                    return deferred.resolve(url)
                }, function(error) {
                    return $log.error("> failed get captcha"), deferred.reject()
                }), deferred.promise
            };

            function check_captcha(error, deferred) {
                var response = {
                    url: "",
                    captcha: !0
                };
                resource.get_captcha_image().then(function(url) {
                    return response.url = url, error ? deferred.reject(response) : deferred.resolve(response)
                }).catch(function() {
                    return YogiyoModal.base_popup({
                        title: "알림",
                        content: "정상적으로 처리되지 않았습니다. 다시 시도하여 주십시요."
                    }), error ? deferred.reject(response) : deferred.resolve(response)
                }), error && $rootScope.captcha_view && (YogiyoModal.base_popup({
                    title: "알림",
                    content: error
                }), dataLayer.push({
                    event: GTM.EVENT.LOGIN_FAILED,
                    loginType: $rootScope.captcha_view,
                    loginErrorMessage: error
                })), $rootScope.captcha_view || ($rootScope.captcha_view = error ? "captchalogin" : "captchaonly")
            }
            return resource.login = function(query) {
                var deferred = $q.defer();
                return resource_login.get(query).$promise.then(function(data) {
                    if ($log.debug("> success login"), !data.captcha) return data.error ? (dataLayer.push({
                        event: GTM.EVENT.LOGIN_FAILED,
                        loginType: "email",
                        loginErrorMessage: data && data.error
                    }), deferred.reject(data)) : ($localStorage.last_login = {
                        date: (new Date).getTime(),
                        id: data.id,
                        sessionid: $cookies.get("sessionid")
                    }, $rootScope.is_ie && window.sessionStorage.setItem("ngStorage-login_info", JSON.stringify(data)), $sessionStorage.login_info = data, ga("send", "pageview", {
                        title: "로그인 성공",
                        page: "/MobileWeb/Account/Login_Complete"
                    }), dataLayer.push({
                        event: GTM.EVENT.LOGIN_SUCCEEDED,
                        loginType: $rootScope.captcha_view || "email",
                        userId: helper.getValue($localStorage, "last_login.id")
                    }), $rootScope.is_11st || $localStorage.maintain_login || $rootScope.$emit("session.start", null), deferred.resolve(data));
                    var error = data.error || null;
                    check_captcha(error, deferred)
                }, function(err) {
                    $log.error("> failed login");
                    var data = err.data;
                    if (dataLayer.push({
                            event: GTM.EVENT.LOGIN_FAILED,
                            loginType: $rootScope.captcha_view || "email",
                            loginErrorMessage: data && data.error
                        }), !data || !data.captcha) return deferred.reject(data);
                    var error = data.error || "정상적으로 처리되지 않았습니다. 다시 시도하여 주십시요.";
                    check_captcha(error, deferred)
                }), deferred.promise
            }, resource.logout = function() {
                var deferred = $q.defer();
                return resource_logout.get().$promise.then(function(data) {
                    return $log.debug("> success logout"), $sessionStorage.sns_login_info && ("naver" == $sessionStorage.sns_login_info.platform && naver_login ? naver_login.logout() : "kakao" == $sessionStorage.sns_login_info.platform && Kakao && Kakao.Auth.logout()), $sessionStorage.user_info = null, $sessionStorage.login_info = null, $sessionStorage.sns_login_info = null, $localStorage.maintain_login = !0, $rootScope.is_ie && (window.sessionStorage.setItem("ngStorage-user_info", null), window.sessionStorage.setItem("ngStorage-login_info", null), window.sessionStorage.setItem("ngStorage-sns_login_info", null), window.localStorage.setItem("ngStorage-maintain_login", !0)), ga("send", "pageview", {
                        title: "로그아웃 성공",
                        page: "/MobileWeb/Account/Logout_Complete"
                    }), dataLayer.push({
                        event: GTM.EVENT.LOGOUT_SUBMITTED,
                        userId: helper.getValue($localStorage, "last_login.id")
                    }), $localStorage.last_login.id = "", $localStorage.last_login.sessionid = "", $localStorage.last_login.phone = "", $rootScope.is_11st || $localStorage.maintain_login || $rootScope.$emit("session.stop", null), deferred.resolve(data)
                }, function(error) {
                    return $log.error("> failed logout"), deferred.reject(error)
                }), deferred.promise
            }, resource.join = function(query, is_sns) {
                var deferred = $q.defer();
                return is_sns ? resource_social_join.get(query).$promise.then(function(data) {
                    return $log.debug("> success social join"), data.success ? (dataLayer.push({
                        event: GTM.EVENT.REGISTER_COMPLETED,
                        registrationType: query.platform
                    }), $sessionStorage.sns_login_info.is_signed_up = !0, deferred.resolve(data)) : (dataLayer.push({
                        event: GTM.EVENT.REGISTER_FAILED,
                        registrationType: query.platform
                    }), deferred.reject(data))
                }, function(error) {
                    return $log.debug("> fail social join"), dataLayer.push({
                        event: GTM.EVENT.REGISTER_FAILED,
                        registrationType: query.platform
                    }), deferred.reject(error)
                }) : resource_join.submit(query).$promise.then(function(data) {
                    return $log.debug("> success join"), "OK" == data.status_code ? deferred.resolve(data) : ("Old vericode" == data.message && (data.message = "휴대전화 인증 유효 시간이 경과하였습니다. 다시 인증해주세요."), deferred.reject(data))
                }, function(error) {
                    return $log.error("> failed join"), deferred.reject(error)
                }), deferred.promise
            }, resource.check_sns_joined_user = function(query) {
                var deferred = $q.defer();
                return resource_check_sns_joined_user.get(query).$promise.then(function(data) {
                    return $log.debug("> success social login"), data.success ? "signup" == data.response_type ? (dataLayer.push({
                        event: GTM.EVENT.APP_DOWNLOAD_POPUP_SHOWN,
                        openPage: "web.user_account"
                    }), $location.url("/login"), void YogiyoModal.base_popup({
                        title: "요기요",
                        clickSignUp: function(callback) {
                            dataLayer.push({
                                event: GTM.EVENT.APP_DOWNLOAD_POPUP_CLICKED,
                                openPage: "web.user_account"
                            });
                            var link = helper.getAppsFlyLink(location.href);
                            location.href = link, callback()
                        },
                        templateUrl: "modal_move_app_for_signup.html"
                    })) : ("login" == data.response_type && ($sessionStorage.sns_login_info.is_signed_up = !0, dataLayer.push({
                        event: GTM.EVENT.LOGIN_SUCCEEDED,
                        loginType: query.platform
                    }), resource.user_info().finally(function() {
                        $location.url("/")
                    })), deferred.resolve(data)) : (dataLayer.push({
                        event: GTM.EVENT.LOGIN_FAILED,
                        loginType: query.platform
                    }), data.error_message && ("signup" == data.response_type ? 0 <= data.error_message.indexOf("이메일") && (dataLayer.push({
                        event: GTM.EVENT.REGISTER_FAILED,
                        registrationErrorMessage: data.error_message
                    }), YogiyoModal.base_confirm({
                        title: "알림",
                        message: data.error_message,
                        callbacks: {
                            confirm: function() {
                                if (dataLayer.push({
                                        event: GTM.EVENT.REGISTER_FAILED,
                                        registrationErrorSelected: "confirm"
                                    }), "naver" == query.platform) naver_login.reprompt();
                                else if ("kakao" == query.platform) {
                                    var url = "https://kauth.kakao.com/oauth/authorize?client_id=1740316f04978d55157819c55572ea77&redirect_uri=" + (window.location.origin + "/mobile/kakao_oauth.html") + "&response_type=code&scope=account_email";
                                    window.open(url, "_blank", "width=400,height=600")
                                }
                            },
                            close: function() {
                                dataLayer.push({
                                    event: GTM.EVENT.REGISTER_FAILED,
                                    registrationErrorSelected: "cancel"
                                }), "naver" == query.platform ? naver_login.logout() : "kakao" == query.platform && Kakao.Auth.logout()
                            }
                        }
                    })) : YogiyoModal.base_popup({
                        title: "알림",
                        content: data.error_message
                    })), deferred.reject(data))
                }, function(error) {
                    return $log.debug("> fail social login"), dataLayer.push({
                        event: GTM.EVENT.LOGIN_FAILED,
                        loginType: query.platform
                    }), YogiyoModal.base_popup({
                        title: "알림",
                        content: error.error_message || "SNS 로그인에 실패하였습니다. 다시 시도해주세요"
                    }), deferred.reject(error)
                }), deferred.promise
            }, resource.pwinquiry = function(query) {
                var deferred = $q.defer();
                return resource_pwinquiry.submit(query).$promise.then(function(data) {
                    return $log.debug("> success pwinquiry"), data.success ? deferred.resolve(data) : deferred.reject(data)
                }, function(error) {
                    return $log.error("> failed pwinquiry"), deferred.reject(error)
                }), deferred.promise
            }, resource.idinquiry = function(query) {
                var deferred = $q.defer();
                return resource_idinquiry.submit(query).$promise.then(function(data) {
                    return $log.debug("> success idinquiry"), data.result ? deferred.resolve(data) : deferred.reject(data)
                }, function(error) {
                    return $log.error("> failed idinquiry"), deferred.reject(error)
                }), deferred.promise
            }, resource.kakao_login = function() {
                var deferred = $q.defer();
                return Kakao.Auth.login({
                    success: function(authObj) {
                        Kakao.Auth.getStatusInfo(function(obj) {
                            if ("connected" != obj.status) return $log.error("kakao login error"), Kakao.Auth.logout(), deferred.reject(obj);
                            var data = {
                                platform: "kakao",
                                access_token: authObj.access_token
                            };
                            return $sessionStorage.sns_login_info = data, resource.check_sns_joined_user(data), deferred.resolve(obj)
                        })
                    },
                    fail: function(err) {
                        if ("window_closed" != err.error) return $log.error("kakao login error"), deferred.reject(err)
                    },
                    throughTalk: !1
                }), deferred.promise
            }, resource
        })
    }
}), define("app/resource/google_analytics", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("GA", function() {
            var _ga = {
                CUSTOM_DIMENSION: {
                    USERID: "dimension" + (global_config.is_dev, 1),
                    ZIPCODE_USER: "dimension" + (global_config.is_dev, 2),
                    ZIPCODE_SESSION: "dimension" + (global_config.is_dev, 3),
                    ZIPCODE_SCREENVIEW: "dimension" + (global_config.is_dev, 4),
                    CATEGORY_USER: "dimension" + (global_config.is_dev, 5),
                    CATEGORY_SESSION: "dimension" + (global_config.is_dev, 6),
                    CATEGORY_SCREENVIEW: "dimension" + (global_config.is_dev, 7),
                    RESTAURANTID_USER: "dimension" + (global_config.is_dev, 8),
                    RESTAURANTID_SESSION: "dimension" + (global_config.is_dev, 9),
                    RESTAURANTID_SCREENVIEW: "dimension" + (global_config.is_dev, 10),
                    DISCOUNT_SESSION: "dimension" + (global_config.is_dev ? 11 : 24),
                    DISCOUNT_SCREENVIEW: "dimension" + (global_config.is_dev ? 12 : 25),
                    LOGIN_SESSION: "dimension" + (global_config.is_dev ? 13 : 26),
                    LOGIN_SCREENVIEW: "dimension" + (global_config.is_dev ? 14 : 27),
                    RANKING_SESSION: "dimension" + (global_config.is_dev ? 15 : 32),
                    RANKING_SCREENVIEW: "dimension" + (global_config.is_dev ? 16 : 33),
                    NUMBER_OF_RESTAURANTS_SCREENVIEW: "dimension" + (global_config.is_dev ? 17 : 45)
                },
                get_tracker_info: function(location, param, isLogin) {
                    try {
                        var info = {
                            label: "",
                            title: "",
                            page: ""
                        };
                        return "/" == location ? (info.label = "요기요 홈", info.title = "홈", info.page = "/MobileWeb/Home") : "/location/" == location ? (info.label = "지도", info.title = "지도 검색", info.page = "/MobileWeb/Home/Location") : "/cart/" == location ? (info.label = "주문표", info.title = "주문표", info.page = "/MobileWeb/Cart") : "/checkout/" == location ? (info.label = "결제하기", info.title = "결제하기", info.page = "/MobileWeb/Checkout") : "/checkout/thankyou!!/" == location ? (info.label = "Thankyou페이지", info.title = "주문완료", info.page = "/MobileWeb/Thankyou") : 0 <= location.indexOf("/event/") ? (info.label = "이벤트", info.title = "이벤트", info.page = "/MobileWeb/Event/") : "/login/" == location ? isLogin ? (info.label = "로그아웃", info.title = "로그아웃", info.page = "/MobileWeb/Account/Logout") : (info.label = "로그인", info.title = "로그인", info.page = "/MobileWeb/Account/Login") : "/contact/" == location ? (info.label = "고객센터", info.title = "고객센터", info.page = "/MobileWeb/Contact") : "/policy/" == location ? (info.label = "이용약관", info.title = "이용약관", info.page = "/MobileWeb/Policy") : "/privacy/" == location ? (info.label = "개인정보처리방침", info.title = "개인정보처리방침", info.page = "/MobileWeb/Privacy") : "/cleanreview/" == location ? (info.label = "클린리뷰", info.title = "클린리뷰", info.page = "/MobileWeb/Cleanreview") : "/bpg/" == location ? (info.label = "최저가보장제", info.title = "최저가보장제", info.page = "/MobileWeb/Bpg") : "/trust/" == location ? (info.label = "안심센터", info.title = "안심센터", info.page = "/MobileWeb/Trust") : "/point_policy/" == location ? (info.label = "통합포인트정책", info.title = "통합포인트정책", info.page = "/MobileWeb/PointPolicy") : "/sellerinfo/" == location ? (info.label = "판매자정보", info.title = "판매자정보", info.page = "/MobileWeb/SellerInfo") : /^\/(?:([1-9][0-9]*))$/.test(location) || /^\/(?:([1-9][0-9]*))\/$/.test(location) ? (info.label = "레스토랑 메뉴", info.title = "레스토랑 메뉴", info.page = "/MobileWeb/RestaurantMenu/Menu/" + param.restaurant_id) : (/^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/(?:([\S][\S]*))$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/(?:([\S][\S]*))\/$/.test(location) || /^\/(?:([\S][\S]*))$/.test(location) || /^\/(?:([\S][\S]*))\/$/.test(location)) && (info.label = "레스토랑 리스트", info.title = "레스토랑 리스트", info.page = "/MobileWeb/RestaurantList/" + param.zipcode), info
                    } catch (err) {
                        return {
                            label: "",
                            title: "",
                            page: ""
                        }
                    }
                }
            };
            return _ga
        })
    }
}), define("app/resource/google_tag_manager", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("GTM", function() {
            var breadcrumb = [],
                gtm = {
                    EVENT: {
                        ADDRESS_SUBMITTED: "address.submitted",
                        ADDRESS_UPDATE_SUBMITTED: "address_update.submitted",
                        LOGIN_SUCCEEDED: "login.succeeded",
                        LOGIN_FAILED: "login.failed",
                        REGISTER_STARTED: "register.started",
                        REGISTER_COMPLETED: "register.completed",
                        REGISTER_FAILED: "register.failed",
                        LOGOUT_SUBMITTED: "logout.submitted",
                        SHOP_LIST_LOAD: "shop_list.loaded",
                        SHOP_CLICKED: "shop.clicked",
                        SHOP_DETAILS_LOADED: "shop_details.loaded",
                        ADD_CART_CLICKED: "add_cart.clicked",
                        CHECKOUT_CLICKED: "checkout.clicked",
                        CHECKOUT_LOADED: "checkout.loaded",
                        ORDER_COUPON_FAILED: "order_coupon.failed",
                        ORDER_COUPON_SUBMITTED: "order_coupon.submitted",
                        TRANSACTION_CLICKED: "transaction.clicked",
                        TRANSACTION: "transaction",
                        TRANSACTION_FAILED: "transaction.failed",
                        TRANSACTION_ACQUISITION: "acquisition",
                        DOWNLOAD_APP: "appdownload.clicked",
                        PRODUCT_CHOICE_OPENED: "product_choice.opened",
                        PRODUCT_CHOICE_CLOSED: "product_choice.closed",
                        NAVERPLACE_VALIDATION_FAILED: "naverplace_validation.failed",
                        CATEGORY_SELECTED: "category.selected",
                        LOCATOR_CLICKED: "locator.clicked",
                        LOCATOR_SEARCH_RESULTED: "locatorsearch.resulted",
                        LOCATOR_SEARCH_NOT_FOUND: "locatorsearch.notfound",
                        LOCATOR_CLOSED: "locator.closed",
                        RESTAURANT_SEARCH_CLICKED: "restaurantSearch.clicked",
                        RESTAURANT_SEARCH_RESULTED: "restaurantSearch.resulted",
                        RESTAURANT_SEARCH_NOT_FOUND: "restaurantSearch.notfound",
                        EDIT_CART_CLICKED: "edit_cart.clicked",
                        REMOVE_CART_CLICKED: "remove_cart.clicked",
                        INCREASE_CART_CLICKED: "increase_cart.clicked",
                        REDUCE_CART_CLICKED: "reduce_cart.clicked",
                        TAB_INFO_CLICKED: "tab_info.clicked",
                        TAB_REVIEWS_CLICKED: "tab_reviews.clicked",
                        REVIEW_REPORT_CLICKED: "review_report.clicked",
                        TAB_MENU_CLICKED: "tab_menu.clicked",
                        PHOTO_REVIEW_SORTED: "photoreview.sorted",
                        APP_DOWNLOAD_POPUP_SHOWN: "appdownload_popup.shown",
                        APP_DOWNLOAD_POPUP_CLICKED: "appdownload_popup.clicked"
                    },
                    ScreenType: {
                        HOME: "home",
                        SHOP_LIST: "shop_list",
                        SHOP_DETAILS: "shop_details",
                        CART: "cart",
                        CHECKOUT: "checkout",
                        ORDER_CONFIRMATION: "order_confirmation",
                        COMPANY_CONTENT: "company_content",
                        OTHER_PAGE: "other"
                    },
                    pageType: function(location) {
                        return "/" == location ? this.ScreenType.HOME : "/cart/" == location ? this.ScreenType.CART : "/checkout/" == location ? this.ScreenType.CHECKOUT : "/checkout/thankyou!!/" == location ? this.ScreenType.ORDER_CONFIRMATION : "/contact/" == location || "/policy/" == location || "/privacy/" == location || "/point_policy/" == location || "/bpg/" == location || "/trust/" == location || "/cleanreview/" == location || "/sellerinfo/" == location ? this.ScreenType.COMPANY_CONTENT : "/location/" == location || "/login/" == location || 0 <= location.indexOf("/event/") ? this.ScreenType.OTHER_PAGE : /^\/(?:([1-9][0-9]*))$/.test(location) || /^\/(?:([1-9][0-9]*))\/$/.test(location) ? this.ScreenType.SHOP_DETAILS : /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/(?:([\S][\S]*))$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/(?:([\S][\S]*))\/$/.test(location) || /^\/(?:([\S][\S]*))$/.test(location) || /^\/(?:([\S][\S]*))\/$/.test(location) ? this.ScreenType.SHOP_LIST : this.ScreenType.OTHER_PAGE
                    },
                    pageBreadcrumb: function(location) {
                        var page = this.pageType(location);
                        return "home" == page ? breadcrumb = [page] : 0 < breadcrumb.length && breadcrumb[breadcrumb.length - 1] == page || (2 < breadcrumb.length && breadcrumb[breadcrumb.length - 2] == page ? breadcrumb.pop() : breadcrumb.push(page)), JSON.stringify(breadcrumb).replace(/"/g, "")
                    }
                };
            return gtm
        })
    }
}), define("app/resource/facebook_pixel", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("FacebookPixel", function($location, $cookies, $log, $timeout, YogiyoAccount, GTM) {
            var fb = {
                EVENT: {
                    HOME: "PageView",
                    RESTAURANT_LIST: "Search",
                    RESTAURANT_MENU: "ViewContent",
                    ADD_TO_CART: "AddToCart",
                    CHECKOUT: "InitiateCheckout",
                    ORDER_ALL: "Purchase",
                    ORDER_NEW: "Acquisition",
                    ORDER_REORDER: "Reorder",
                    ETC: "Lead"
                },
                getEventType: function(location) {
                    return "/" == location ? this.EVENT.HOME : "/cart/" == location ? this.EVENT.ADD_TO_CART : "/checkout/" == location ? this.EVENT.CHECKOUT : "/checkout/thankyou!!/" == location ? this.EVENT.ORDER_ALL : "/contact/" == location || "/policy/" == location || "/privacy/" == location || "/point_policy/" == location || "/bpg/" == location || "/trust/" == location || "/cleanreview/" == location || "/sellerinfo/" == location ? this.EVENT.ETC : "/location/" == location || "/login/" == location || 0 <= location.indexOf("/event/") ? this.EVENT.ETC : /^\/(?:([1-9][0-9]*))$/.test(location) || /^\/(?:([1-9][0-9]*))\/$/.test(location) ? this.EVENT.RESTAURANT_MENU : /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/(?:([\S][\S]*))$/.test(location) || /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/(?:([\S][\S]*))\/$/.test(location) || /^\/(?:([\S][\S]*))$/.test(location) || /^\/(?:([\S][\S]*))\/$/.test(location) ? this.EVENT.RESTAURANT_LIST : this.EVENT.ETC
                },
                getCookieName: function(eventName) {
                    return "ViewContent" == eventName ? "RestaurantMenuCookieTrigger" : "Search" == eventName ? "RestaurantListCookieTrigger" : null
                },
                track: function(data, eventName) {
                    try {
                        var trackName = "track",
                            url = $location.path(),
                            eventType = eventName || this.getEventType(url),
                            pageType = GTM.pageType(url),
                            cookieName = this.getCookieName(eventType),
                            userCustomerType = YogiyoAccount.check_returning() ? "returning" : "new",
                            isLogin = YogiyoAccount.check();
                        eventType != this.EVENT.RESTAURANT_MENU && eventType != this.EVENT.ORDER_CONFIRMATION || (trackName = "trackCustom"), data || (data = {}), data.Device = isMobile() ? "mobile" : "desktop", data.Hour = (new Date).getHours(), data.PageName = pageType, data.UserLoggedIn = isLogin, data.UserType = userCustomerType, fbq(trackName, eventType, data), eventType == this.EVENT.ORDER_ALL && (eventType = "returning" == userCustomerType ? this.EVENT.ORDER_REORDER : this.EVENT.ORDER_NEW, $timeout(function() {
                            fbq("trackCustom", eventType, data)
                        }, 100)), cookieName && $cookies.put(cookieName, "true", {
                            path: "/"
                        })
                    } catch (err) {
                        $log.error(err)
                    }
                }
            };
            return fb
        })
    }
}), define("app/resource/event_banner", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoEvent", function($resource, $timeout, $log, global_config, $q) {
            return $resource("/api/v1/marketing/banners/", null, {
                query: helper.extend(global_config.default_resource_actions, {
                    method: "get",
                    isArray: !0,
                    cache: !1
                })
            })
        })
    }
}), define("app/resource/proxy", ["app/helper"], function(helper) {
    return function(app) {
        app.factory("YogiyoProxy", function($resource, $timeout, $log, global_config, $q, $http) {
            var resource = {},
                resource_proxy_get_html = $resource("/misc/proxy/", null, {
                    get: helper.extend(global_config.default_resource_actions, {
                        method: "GET",
                        cache: !1,
                        transformResponse: function(data, header) {
                            var headers = header();
                            return headers["content-type"] && 0 <= headers["content-type"].indexOf("text/html") ? {
                                html: data
                            } : null
                        }
                    })
                });
            return resource.get = function(param) {
                return param.url.indexOf(location.hostname) < 0 ? resource_proxy_get_html.get(param).$promise : function(url) {
                    var deferred = $q.defer();
                    return $http({
                        url: url,
                        method: "GET",
                        transformResponse: function(data, header) {
                            var headers = header();
                            headers["content-type"] && 0 <= headers["content-type"].indexOf("text/html") ? deferred.resolve({
                                html: data
                            }) : deferred.reject(headers)
                        }
                    }), deferred.promise
                }(param.url)
            }, resource
        })
    }
}), define("app/service/base_run", ["angular", "require", "app/helper"], function(angular, require, helper) {
    return function(app) {
        return app.run(function($rootScope, $location, $window, $log, $http, $sessionStorage, $alert, $timeout, global_config, YogiyoServiceInfo, YogiyoLocation, YogiyoStorage, YogiyoAccount, YogiyoRestaurant, YogiyoModal, History, YogiyoEvent) {
            $log.info("> device info"), $log.info("\t width: " + $window.innerWidth), $log.info("\theight: " + $window.innerHeight), $("#spinner").css("display", ""), $rootScope.$window = $window, $rootScope.$location = $location, $rootScope.config = global_config, $rootScope.history = History, $rootScope.banners = new Array, YogiyoStorage.initialize();

            function check_service_info(interval) {
                YogiyoServiceInfo.check(interval, function(info) {
                    $sessionStorage.service_info = info, $rootScope.$emit("update-banner")
                }, function(error) {
                    $log.error(error)
                })
            }
            $timeout(function() {
                check_service_info(0)
            }, 1), $timeout(function() {
                check_service_info(global_config.interval_check_service_info)
            }, 1), $rootScope.is_yogiyo = 0 <= $window.location.hostname.indexOf("yogiyo.co.kr"), $rootScope.is_11st = 0 <= $window.location.hostname.indexOf("yogiyo.m.11st.co.kr"), $rootScope.is_mobile_width = $window.innerWidth < MOBILE_WIDTH, $rootScope.is_mobile_width_for_category = $window.innerWidth < MOBILE_WIDTH_FOR_CATEGORY, $rootScope.is_mobile_device = helper.is_mobile_device($window.navigator.userAgent) || isMobile(), $rootScope.is_android_device = helper.is_android_device($window.navigator.userAgent), $rootScope.is_ios_device = helper.is_ios_device($window.navigator.userAgent), $rootScope.is_ie = helper.is_ie($window.navigator.userAgent), $rootScope.captcha_view = "", angular.element($window).bind("resize", function() {
                $rootScope.is_mobile_width = $window.innerWidth < MOBILE_WIDTH, $rootScope.is_mobile_width_for_category = $window.innerWidth < MOBILE_WIDTH_FOR_CATEGORY
            });
            $sessionStorage.oauth_next = null;
            var nextUrl = {
                getUrlVars: function(url) {
                    for (var hash, vars = [], hashes = url.slice(url.indexOf("?") + 1).split("&"), i = 0; i < hashes.length; i++) hash = hashes[i].split("="), vars.push(hash[0]), vars[hash[0]] = hash[1];
                    return vars
                },
                getUrlVar: function(url, name) {
                    return this.getUrlVars(url)[name]
                },
                getUrl: function(url) {
                    return url.slice(0, url.indexOf("?"))
                }
            }.getUrlVar(location.search, "next");
            if (nextUrl && ($sessionStorage.oauth_next = decodeURIComponent(nextUrl)), $rootScope.goto_oauth_next = function() {
                    if ($sessionStorage.oauth_next) {
                        var next = $sessionStorage.oauth_next;
                        $window.sessionStorage.removeItem("ngStorage-oauth_next"), $window.location.replace(next)
                    }
                }, $rootScope.queryParams = helper.decodeHttpParams(), "add2paper" in $rootScope.queryParams && "profile_id" in $rootScope.queryParams && "phone" in $rootScope.queryParams && ($rootScope.origin_seller = "add2paper"), "origin" in $rootScope.queryParams && "yanolja" == $rootScope.queryParams.origin) {
                $rootScope.origin_seller = "yanolja";
                (new Date).getTime() - new Date(Number($rootScope.queryParams.origintime)) < 432e5 && "used" != $sessionStorage.yanolja_checkout_onetime && ($sessionStorage.yanolja_checkout_onetime = "pass")
            }
            $rootScope.is_11st && ($rootScope.origin_seller = "11st"), $rootScope.is_ios_device && $(document.body).css("cursor", "pointer");

            function check_sns_joined_user(data) {
                $rootScope.$emit("loading", !0), YogiyoAccount.check_sns_joined_user(data).finally(function() {
                    $rootScope.$emit("loading", !1)
                })
            }
            if ($rootScope.is_yogiyo && (naver_login && 0 <= location.hash.indexOf("#/access_token=") ? (naver_login.getLoginStatus(function(status) {
                    if (status) {
                        var data = {
                            platform: "naver",
                            access_token: naver_login.loginStatus.accessToken.accessToken
                        };
                        check_sns_joined_user(data), $sessionStorage.sns_login_info = data
                    } else $log.error("naver login error"), YogiyoModal.base_popup({
                        title: "알림",
                        content: "네이버 아이디로 로그인에 실패하였습니다. 다시 시도해주세요",
                        callbacks: {
                            close: function() {
                                $location.url("/login/")
                            }
                        }
                    })
                }), helper.is_history_api ? window.history.replaceState({}, document.title, "/mobile/") : $location.url("/")) : ($sessionStorage.sns_login_info && ($sessionStorage.sns_login_info = null), YogiyoAccount.user_info().then(function(data) {
                    "naver" == data.joined_platform && naver_login ? naver_login.getLoginStatus(function(status) {
                        if (status) {
                            var data = {
                                platform: "naver",
                                access_token: naver_login.loginStatus.accessToken.accessToken
                            };
                            $sessionStorage.sns_login_info = data
                        } else $log.error("naver login error"), YogiyoAccount.logout()
                    }) : "kakao" == data.joined_platform && Kakao && Kakao.Auth.getStatusInfo(function(obj) {
                        if ("connected" == obj.status) {
                            var data = {
                                platform: "kakao",
                                access_token: Kakao.Auth.getAccessToken()
                            };
                            $sessionStorage.sns_login_info = data
                        } else $log.error("kakao login error"), YogiyoAccount.logout()
                    })
                }).finally(function() {
                    $rootScope.$emit("loading", !1)
                }))), window.matchMedia) {
                var mq = window.matchMedia("(min-width: 768px)"),
                    mqCategory = window.matchMedia("(min-width: 992px)");
                mq.addListener(changeWidth), mqCategory.addListener(changeCategoryWidth), changeWidth(mq), changeCategoryWidth(mqCategory)
            } else angular.element($window).bind("resize", function() {
                var mq = {
                        matches: window.innerWidth >= MOBILE_WIDTH
                    },
                    mqCategory = {
                        matches: window.innerWidth >= MOBILE_WIDTH_FOR_CATEGORY
                    };
                changeWidth(mq), changeCategoryWidth(mqCategory)
            });

            function changeWidth(mq) {
                mq.matches ? $rootScope.is_mobile_width = !1 : $rootScope.is_mobile_width = !0, $rootScope.$apply()
            }

            function changeCategoryWidth(mq) {
                mq.matches ? ($rootScope.is_mobile_width_for_category = !1, global_config.categories.all.title = "전체보기") : ($rootScope.is_mobile_width_for_category = !0, global_config.categories.all.title = "음식점 전체보기"), $sessionStorage.categories = YogiyoRestaurant.handle_categories_from_category_tabs(), $rootScope.$apply()
            }
            YogiyoEvent.query().$promise.then(function(result) {
                var banner_list = helper.getEventBannerResult(result);
                $rootScope.banner_list = banner_list
            }, function(error) {
                $log.error(error)
            }), $rootScope.completeBannerListRender = function() {
                $(".category-banner").show()
            }, $rootScope.supportsPassive = !1;
            try {
                var opts = Object.defineProperty({}, "passive", {
                    get: function() {
                        return $rootScope.supportsPassive = !0
                    }
                });
                window.addEventListener("testPassive", null, opts), window.removeEventListener("testPassive", null, opts)
            } catch (e) {}
            window.kakaoOauthCallback = function(result) {
                result ? check_sns_joined_user($sessionStorage.sns_login_info) : $log.error("kakao email access_denied")
            }, $rootScope.alert_bottom = function(msg) {
                $rootScope.is_mobile_width ? $rootScope.$emit("alert", {
                    container: "#messages_bottom",
                    content: msg,
                    duration: 3,
                    type: "error",
                    dismissable: !1
                }) : alert(msg)
            }
        })
    }
}), define("app/service/controller", [], function() {
    return function(app) {
		// 여기서 baseController등장
        return app.controller("base_controller", require("app/controller/base")).controller("home_controller", require("app/controller/home")).controller("app_download_controller", require("app/controller/app_download")).controller("location_controller", require("app/controller/location_google")).controller("location_terms_controller", require("app/controller/location_terms")).controller("restaurant_controller", require("app/controller/restaurant")).controller("restaurant_menu_controller", require("app/controller/restaurant_menu")).controller("restaurant_list_controller", require("app/controller/restaurant_list")).controller("cart_controller", require("app/controller/cart")).controller("checkout_controller", require("app/controller/checkout")).controller("checkout_success_controller", require("app/controller/checkout_success")).controller("dev_controller", require("app/controller/dev")).controller("event_controller", require("app/controller/event")).controller("point_policy_controller", require("app/controller/point_policy")).controller("terms_controller", require("app/controller/terms")).controller("exit_poll_controller", require("app/controller/exit_poll")).controller("contact_controller", require("app/controller/contact")).controller("bpg_controller", require("app/controller/bpg")).controller("trust_controller", require("app/controller/trust")).controller("cleanreview_controller", require("app/controller/cleanreview")).controller("seller_info_controller", require("app/controller/seller_info")).controller("login_controller", require("app/controller/login")).controller("join_controller", require("app/controller/join")).controller("pwinquiry_controller", require("app/controller/pwinquiry")).controller("idinquiry_controller", require("app/controller/idinquiry")).controller("notice_controller", require("app/controller/notice")).controller("notice_content_controller", require("app/controller/notice_content")).controller("product_info_controller", require("app/controller/product_info"))
    }
}), define("app/service/event", [], function() {
    return function(app) {
        require("app/service/event/routing")(app), require("app/service/event/loading")(app), require("app/service/event/alert")(app), require("app/service/event/location")(app), require("app/service/event/page")(app), require("app/service/event/restaurant")(app), require("app/service/event/banner")(app), require("app/service/event/network")(app), require("app/service/event/shutdown")(app), require("app/service/event/session")(app)
    }
}), define("app/service/event/alert", [], function() {
    return function(app) {
        return app.run(function($rootScope, $log, $alert) {
            var _alert;
            $rootScope.$on("alert", function(ev, message) {
                $log.debug("event: " + ev.name);
                var type = (message.type ? message.type : "info").toLowerCase(),
                    title = "object" == typeof message ? message.title : message,
                    content = "object" == typeof message ? message.content : message;
                0 <= ["error", "bug"].indexOf(type) && (type = "danger"), _alert && _alert.hide(), _alert = $alert({
                    container: message.container || "#messages",
                    title: title,
                    content: content,
                    placement: "top",
                    show: !0,
                    type: type,
                    duration: message.duration ? message.duration : 2,
                    dismissable: "boolean" != typeof message.dismissable || message.dismissable
                })
            }), $rootScope.$on("alert.hide", function(ev) {
                $log.debug("event: " + ev.name), _alert && _alert.hide()
            })
        })
    }
}), define("app/service/event/loading", [], function() {
    return function(app) {
        return app.run(function($rootScope, $log, $timeout) {
            var count_loading = 1;
            $rootScope.on_loading = !0, $timeout(function() {
                $rootScope.$emit("loading", !1)
            }, 10), $rootScope.$on("loading", function(ev, on_or_off) {
                var message;
                "string" == typeof on_or_off && (message = on_or_off, on_or_off = !0), null == on_or_off ? count_loading = 0 : (count_loading += on_or_off ? 1 : -1) < 0 && (count_loading = 0), on_or_off && message ? $("#spinner .message").text(message) : 0 < count_loading && !message || count_loading < 1 && $("#spinner .message").text(""), 0 < count_loading ? $("body").addClass("modal-open") : $("body").removeClass("modal-open"), count_loading < 1 ? $timeout(function() {
                    $rootScope.on_loading = 0 < count_loading
                }, 800) : $rootScope.on_loading = 0 < count_loading, $log.debug("event: %s, count: %d, message: %o", ev.name, count_loading, message)
            })
        })
    }
}), define("app/service/event/location", ["app/helper", "Proj4js"], function(helper, Proj4js) {
    return function(app) {
        return app.run(function($rootScope, $location, $log, $alert, $timeout, $sessionStorage, $localStorage, $tooltip, global_config, YogiyoLocation, YogiyoCart, YogiyoModal, GTM) {
            function hideLocationTooltip() {
                locationTooltip && (locationTooltip.timer && $timeout.cancel(locationTooltip.timer), locationTooltip.hide(), locationTooltip.destroy(), locationTooltip = null)
            }
            var locationTooltip;
            $rootScope.$on("location-not-detect", function(ev, message) {
                hideLocationTooltip(), (locationTooltip = $tooltip($("#search input"), {
                    title: '<span style="font-size: 14px;">배달할 주소를 입력해주세요.</span>',
                    html: !0,
                    placement: "bottom",
                    show: !0
                })).timer = $timeout(function() {
                    hideLocationTooltip()
                }, 3e3, !1)
            }), $rootScope.$on("location-not-detect-hide", function(ev, message) {
                hideLocationTooltip()
            }), $rootScope.$on("location-search", function(ev, message) {
                if ("location_controller" == $rootScope.current_controller) $rootScope.search_address_in_map();
                else {
                    if ($sessionStorage.location || ($sessionStorage.location = {}), $sessionStorage.location.in_location_search = !1, !$sessionStorage.location.address_input) return void $location.url("/location/");
                    $sessionStorage.location.in_location_search = !0, $location.url("/location/")
                }
            }), $rootScope.$on("location-changed", function(ev, message) {
                $log.debug("event: " + ev.name), $log.debug("event: " + message), $rootScope.$emit("loading", null);

                function _callback() {
                    var eventName, locatorType;
                    switch ($rootScope.current_controller) {
                        case "home_controller":
                            eventName = GTM.EVENT.ADDRESS_SUBMITTED, locatorType = "Home";
                            break;
                        case "restaurant_list_controller":
                            eventName = GTM.EVENT.ADDRESS_UPDATE_SUBMITTED, locatorType = "List";
                            break;
                        case "restaurant_controller":
                            eventName = GTM.EVENT.ADDRESS_UPDATE_SUBMITTED, locatorType = "Menu";
                            break;
                        default:
                            eventName = GTM.EVENT.ADDRESS_UPDATE_SUBMITTED, locatorType = ""
                    }
                    dataLayer.push({
                        event: eventName,
                        locationAddress: helper.getValue(message, "address"),
                        locationLat: helper.getValue(message, "point.lat"),
                        locationLon: helper.getValue(message, "point.lng"),
                        locationCity: message.address ? message.address.split(" ")[0] : "",
                        locationArea: message.zipcode || "",
                        locationCountry: "South Korea",
                        locatorSearchkeyword: "manual" == message.method ? $sessionStorage.location.address_input : "",
                        locatorType: locatorType,
                        locationMethod: message.method ? message.method : "LatestAuto"
                    }), YogiyoCart.is_empty() || YogiyoCart.get().checkout_address.zipcode != message.zipcode && "/checkout/" != $location.path() && YogiyoCart.clear();
                    var new_location_history = new Array;
                    if ($localStorage.location_search_history.forEach(function(i) {
                            i.address != message.address && i.adiyo && new_location_history.push(i)
                        }), new_location_history.push(helper.extend(message, {
                            callback: null
                        })), $localStorage.location_search_history = new_location_history.slice(new_location_history.length - 5 < 0 ? 0 : new_location_history.length - 5, new_location_history.length), $sessionStorage.location = {
                            updated_at: (new Date).getTime(),
                            address: message.address,
                            address_input: message.address_input ? message.address_input : message.address,
                            point: message.point,
                            method: message.method,
                            zipcode: message.zipcode,
                            district: message.address.split(/[\s][\s]*/),
                            dongmyun: message.dongmyun,
                            sido: message.sido,
                            adiyo: message.adiyo
                        }, $rootScope.is_11st && message.point) {
                        var dest = new Proj4js.Proj("EPSG:3857"),
                            source = new Proj4js.Proj("EPSG:4326"),
                            wgs84_Point = new Proj4js.Point(message.point.lng, message.point.lat),
                            epsg3857_Point = Proj4js.transform(source, dest, wgs84_Point);
                        setLocationInfo(epsg3857_Point.y.toString(), epsg3857_Point.x.toString(), message.address)
                    }
                    $rootScope.is_ie && window.sessionStorage.setItem("ngStorage-location", JSON.stringify($sessionStorage.location)),
                        function() {
                            if ($timeout(function() {
                                    $rootScope.$emit("loading", !1)
                                }, 300), $timeout(function() {
                                    message.redirect_to && $location.url(message.redirect_to)
                                }, 10), "function" == typeof message.callback) message.callback()
                        }()
                }
                YogiyoLocation.restaurants_available(message.point).then(function(result) {
                    result.zip_code ? (message.zipcode = result.zip_code, message.redirect_to = helper.replace_district_url(message.redirect_to, result.zip_code), _callback()) : YogiyoModal.base_popup({
                        title: "알림",
                        content: result.message || "서비스 가능 지역이 아닙니다."
                    })
                }, function(error) {
                    _callback()
                })
            })
        })
    }
}), define("app/service/event/page", [], function() {
    return function(app) {
        return app.run(function($rootScope, $log, $timeout, History) {
            $rootScope.$on("page-title-changed", function(ev, page) {
                $log.debug("event: " + ev.name), page ? "string" == typeof page && (page = {
                    title: page,
                    name: page
                }) : page = {
                    title: "",
                    name: ""
                }, History.set(0, page), $rootScope.page = History.get(0)
            })
        })
    }
}), define("app/service/event/routing", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        return app.run(function($rootScope, $log, $window, $document, $timeout, $location, $route, $sessionStorage, $localStorage, global_config, History, YogiyoAccount, GTM, GA, $cookies) {
            function resize_location_map(evt) {
                var map_height = window.innerHeight - $("#header").height() - (0 < $(".newSb").length ? $(".newSb").prop("clientHeight") : 0) - ($rootScope.is_11st ? $("header").height() : 0);
                $("#location").css("height", map_height), $("#location_map").css("height", map_height)
            }

            function prevent_scroll(evt) {
                evt.preventDefault()
            }
            $window.resize_location_map = resize_location_map, $rootScope.history = new Array, $rootScope.$on("$routeChangeStart", function(ev, nextRoute, currentRoute) {
                if ($rootScope.is_yogiyo && $rootScope.is_ie && window.is_smilepay_processing) ev.preventDefault();
                else {
                    if ($rootScope.is_first_loaded = !currentRoute, !$rootScope.is_first_loaded && "" == nextRoute.$$route.originalPath && "/" == nextRoute.$$route.redirectTo) return ev.preventDefault(), void $location.url(nextRoute.$$route.redirectTo);
                    $rootScope.$emit("loading", !0), $("html").hasClass("in_map") && $("html").removeClass("in_map"), $("#content").hasClass("terms-11st") && $("#content").removeClass("terms-11st"), $rootScope.current_controller = nextRoute.$$route && nextRoute.$$route.controller, History.add({
                        path: $location.url()
                    }), $rootScope.$route = nextRoute, $rootScope.show_location_button = {
                        v: !1
                    }, $sessionStorage.location.address || ($rootScope.current_location = "위치 알 수 없음")
                }
            }), $rootScope.$on("$locationChangeStart", function(ev, nextRoute, currentRoute) {
                if ($log.debug("event: %s, %o, %o", ev.name, nextRoute, currentRoute), $rootScope.is_yogiyo && $rootScope.is_ie && window.is_smilepay_processing) ev.preventDefault();
                else {
                    var el = document.querySelector("#search input[name=address_input]");
                    el && el.getAttribute("disabled") && (el.removeAttribute("disabled", !1), document.querySelector("body").removeEventListener("touchmove", prevent_scroll, !!$rootScope.supportsPassive && {
                        passive: !1
                    }), window.removeEventListener("resize", resize_location_map, !1))
                }
            }), $rootScope.$on("$locationChangeSuccess", function(ev, nextRoute, currentRoute) {
                $log.debug("event: %s, %o, %o", ev.name, nextRoute, currentRoute), $(window).scrollTop(0)
            }), $rootScope.$on("$routeChangeSuccess", function(ev, nextRoute, prevRoute) {
                var urlParam;
                $log.debug("event: %s, %o, %o", ev.name, nextRoute, prevRoute), $rootScope.$emit("loading", null), "restaurant_list.html" == nextRoute.loadedTemplateUrl || "restaurant.html" == nextRoute.loadedTemplateUrl || "event.html" == nextRoute.loadedTemplateUrl ? (urlParam = nextRoute.params, "restaurant_controller" == nextRoute.$$route.controller && ($rootScope.selected_restaurant_id = urlParam.restaurant_id)) : "location.html" == nextRoute.loadedTemplateUrl && (document.querySelector("#search input[name=address_input]").setAttribute("disabled", !0), document.querySelector("body").addEventListener("touchmove", prevent_scroll, !!$rootScope.supportsPassive && {
                    passive: !1
                }), window.addEventListener("resize", resize_location_map, !1));
                var isLogin = YogiyoAccount.check(),
                    info = GA.get_tracker_info($location.path(), urlParam, isLogin);
                if (nextRoute.loadedTemplateUrl && ("/MobileWeb/RestaurantList/undefined" == info.page && ($sessionStorage.location && $sessionStorage.location.zipcode ? info.page = info.page.replace("undefined", $sessionStorage.location.zipcode) : urlParam && urlParam.category ? info.page = info.page.replace("undefined", urlParam.category) : info.page = null), "home.html" == nextRoute.loadedTemplateUrl && $rootScope.show_app_download.v && (info.page = info.page + "/Splash", ga("send", "event", "AppDownload", "SplashPageViewed", "", {
                        title: info.title,
                        page: info.page
                    })), $rootScope.show_app_download = {
                        v: !("true" == $cookies.get("hide_app_down"))
                    }, !$rootScope.is_11st || prevRoute && prevRoute.loadedTemplateUrl || "checkout_success.html" == nextRoute.loadedTemplateUrl || (info.page = null), info.page)) {
                    var _lastUserId = helper.getValue($localStorage, "last_login.id");
                    ga("set", GA.CUSTOM_DIMENSION.USERID, _lastUserId);
                    var _zipcode = helper.getValue($sessionStorage, "location.zipcode");
                    ga("set", GA.CUSTOM_DIMENSION.ZIPCODE_USER, _zipcode), ga("set", GA.CUSTOM_DIMENSION.ZIPCODE_SESSION, _zipcode), ga("set", GA.CUSTOM_DIMENSION.ZIPCODE_SCREENVIEW, _zipcode);
                    var _category = ($rootScope.selected_category || "").toString();
                    ga("set", GA.CUSTOM_DIMENSION.CATEGORY_USER, _category), ga("set", GA.CUSTOM_DIMENSION.CATEGORY_SESSION, _category), ga("set", GA.CUSTOM_DIMENSION.CATEGORY_SCREENVIEW, _category);
                    var _selectedRestaurantId = ($rootScope.selected_restaurant_id || "").toString();
                    ga("set", GA.CUSTOM_DIMENSION.RESTAURANTID_USER, _selectedRestaurantId), ga("set", GA.CUSTOM_DIMENSION.RESTAURANTID_SESSION, _selectedRestaurantId), ga("set", GA.CUSTOM_DIMENSION.RESTAURANTID_SCREENVIEW, _selectedRestaurantId), ga("set", GA.CUSTOM_DIMENSION.LOGIN_SESSION, isLogin ? "Member" : "Guest"), ga("set", GA.CUSTOM_DIMENSION.LOGIN_SCREENVIEW, isLogin ? "Member" : "Guest"), "event.html" == nextRoute.loadedTemplateUrl && $rootScope.banner_list && 0 < $rootScope.banner_list.length && $rootScope.banner_list[urlParam.event_id] && (info.page += helper.getValue($rootScope.banner_list[urlParam.event_id], "tracking_code.tracking_ga")), ga("send", "pageview", {
                        title: info.title,
                        page: info.page
                    });
                    var gtm_data = {
                        event: "VirtualPageview",
                        virtualPageURL: info.page,
                        virtualPageTitle: info.title,
                        pageUrlPath: $location.url(),
                        pageType: GTM.pageType($location.path()),
                        pageEnvironment: $rootScope.is_mobile_device ? "mobile" : "desktop",
                        userLoggedIn: isLogin ? "true" : "false",
                        loginType: null
                    };
                    if (isLogin && (gtm_data.userId = _lastUserId, gtm_data.loginType = $sessionStorage.sns_login_info ? $sessionStorage.sns_login_info.platform : "email"), dataLayer.push(gtm_data), "checkout_success.html" != nextRoute.loadedTemplateUrl) try {
                        window._nasa = {}, window.wcs.inflow(), window.wcs_do(window._nasa)
                    } catch (err) {}
                    $rootScope.is_11st && $rootScope.is_mobile_device && ("restaurant.html" == nextRoute.loadedTemplateUrl && "function" == typeof setCmpstnImg ? setCmpstnImg("banner_11st") : "checkout.html" == nextRoute.loadedTemplateUrl && "function" == typeof setCmpstnText && setCmpstnText("text_11st"))
                }
            }), $rootScope.$on("$viewContentLoaded", function(ev) {
                $log.debug("event: " + ev.name), $rootScope.cancel_search_location(), $rootScope.$broadcast("scroll.scrollTop"), $rootScope.page = History.get(0);
                var history_previous = History.get(1);
                history_previous && ($rootScope.page_previous = history_previous), $rootScope.$emit("shutdown", !1)
            })
        })
    }
}), define("app/service/event/restaurant", ["app/helper", "md5"], function(helper, md5) {
    return function(app) {
        return app.run(function($rootScope, $log, $tooltip, $timeout, $sessionStorage, YogiyoCart) {
            var tooltip_cart, tooltip_timer;
            $rootScope.$on("add-to-cart", function(ev, selected) {
                $log.debug("event: " + ev.name), tooltip_cart && ($timeout.cancel(tooltip_timer), tooltip_cart.hide(), tooltip_cart.destroy(), tooltip_cart = null), tooltip_cart = $tooltip(angular.element($("#button-cart")), {
                    title: "주문표에 담았습니다.",
                    html: !0,
                    placement: "left",
                    show: !0
                }), tooltip_timer = $timeout(function() {
                    tooltip_cart && (tooltip_cart.hide(), tooltip_cart.destroy(), tooltip_cart = null)
                }, 2e3)
            })
        })
    }
}), define("app/service/event/banner", ["app/helper"], function(helper) {
    return function(app) {
        return app.run(function($rootScope, $log, $timeout, History, $sessionStorage) {
            var carousel_attached = !1;
            $rootScope.$on("update-banner", function(ev) {
                $log.debug("event: " + ev.name);
                var banners = new Array;
                $sessionStorage.service_info && function(promotion_banners) {
                    if (promotion_banners.length < 1) return new Array;
                    var banners = new Array;
                    return promotion_banners.forEach(function(banner) {
                        if ("mobile.front" == banner.code && !banner.closed) {
                            new Date;
                            var now_string = helper.get_now_string();
                            parseInt(banner.end_date) < now_string || parseInt(banner.start_date) > now_string || banner.images.length < 1 || banner.images.forEach(function(image) {
                                image.android_high && banners.push(image.android_high)
                            })
                        }
                    }), banners
                }($sessionStorage.service_info.promotion_banners).forEach(function(i) {
                    banners.push(i)
                }), $rootScope.banners = banners, $(".carousel").carousel({
                    interval: 2e3,
                    wrap: !0
                }), carousel_attached || ($(".carousel .carousel-control").on("click", function() {
                    $(".carousel").carousel($(this).attr("data-slide"))
                }), carousel_attached = !0), banners.length < 1 ? ($("#carousel-banner").hide(), $(".carousel").carousel("pause")) : ($("#carousel-banner").show(), $(".carousel").carousel("cycle"))
            })
        })
    }
}), define("app/service/event/network", ["app/helper", "md5"], function(helper, md5) {
    return function(app) {
        return app.run(function($rootScope, $log, $timeout, $location) {
            $rootScope.$on("network-error", function(ev, message) {
                $log.debug("event: " + ev.name);
                var title = "서버로 접속할 수 없습니다.",
                    content = "잠시 뒤 다시 시도해주세요.";
                message && (message.title && (title = message.title), message.content && (content = message.content)), $rootScope.$emit("alert", {
                    type: "error",
                    title: title,
                    content: content
                }), $rootScope.$emit("loading", null), message.preventGoHome || $timeout(function() {
                    $location.url("/")
                }, 100)
            })
        })
    }
}), define("app/service/event/shutdown", ["app/helper"], function(helper) {
    return function(app) {
        return app.run(function($rootScope, $resource, $timeout, $log, global_config, $q, YogiyoModal, YogiyoServiceStatus) {
            $rootScope.$on("shutdown", function(ev) {
                $timeout(function() {
                    ! function(interval) {
                        YogiyoServiceStatus.check(interval, function(status) {
                            status.active && status.content && YogiyoModal.base_popup({
                                title: "서비스 안내",
                                content: status.content
                            })
                        }, function(error) {
                            $log.error(error)
                        })
                    }(0)
                }, 1)
            })
        })
    }
}), define("app/service/event/session", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        return app.run(function($rootScope, $timeout, $location, $log, $route, $window, global_config, $q, YogiyoModal, YogiyoAccount, GTM, GA) {
            function updateSession() {
                YogiyoAccount.is_not_maintian_login() && ($timeout.cancel(sessionTimeout), sessionTimeout = function() {
                    var timer = $timeout(function() {
                        return !0
                    }, 18e5);
                    return timer.then(function() {
                        YogiyoAccount.logout(), "/checkout/" != $location.path() && "/cart/" != $location.path() ? YogiyoModal.base_popup({
                            title: "알림",
                            content: "30분동안 사용하지 않아 자동 로그아웃되었습니다."
                        }) : YogiyoModal.base_confirm({
                            title: "알림",
                            message: "30분동안 사용하지 않아 자동 로그아웃되었습니다.다시 로그인하여 주문을 계속 진행하시겠습니까?",
                            close_label: "닫기",
                            confirm_label: "로그인",
                            callbacks: {
                                confirm: function() {
                                    $rootScope.prev_login_url = $location.path(), $location.url("/login/")
                                },
                                close: function() {
                                    $route.reload()
                                }
                            }
                        })
                    }), timer
                }())
            }
            var sessionTimeout, eventTimer;

            function eventHandler(ev) {
                $rootScope.is_11st || ($timeout.cancel(eventTimer), eventTimer = $timeout(updateSession, 1e3))
            }
            $rootScope.$on("session.start", function(ev) {
                updateSession(), angular.element($window.document.body).on("keypress", eventHandler), angular.element($window.document.body).on("click", eventHandler), angular.element($window).on("scroll", eventHandler), angular.element($window).on("hashchange", eventHandler)
            }), $rootScope.$on("session.stop", function(ev) {
                $timeout.cancel(sessionTimeout), angular.element($window.document.body).off("keypress", eventHandler), angular.element($window.document.body).off("click", eventHandler), angular.element($window).off("scroll", eventHandler), angular.element($window).off("hashchange", eventHandler)
            })
        })
    }
}), define("app/service/logging", ["app/helper"], function(helper) {
    return function(app) {
        return config.debug ? app : app.config(function($provide, $logProvider) {
            $logProvider.debugEnabled(!1), ["table", "info", "warn", "error"].forEach(function(type) {
                $provide.decorator("$log", ["$delegate", helper.log_silent(type)])
            })
        })
    }
}), define("app/service/network", [], function() {
    return function(app) {
        return app.config(function($httpProvider) {
            $httpProvider.defaults.useXDomain = !0, $httpProvider.defaults.timeout = config.default_timeout_http, delete $httpProvider.defaults.headers.common["X-Requested-With"]
        })
    }
}), define("app/service/resource", [], function() {
    return function(app) {
        return app.config(function($resourceProvider) {
            $resourceProvider.defaults.stripTrailingSlashes = !1
        })
    }
}), define("app/service/routing", [], function() {
    return function(app) {
        return app.config(function($provide, $routeProvider, global_config) {
            var $route = $routeProvider.$get[$routeProvider.$get.length - 1]({
                    $on: function() {}
                }),
                default_home = is_yogiyo ? "/" : "/전체/",
                default_template = is_yogiyo ? "home.html" : "restaurant_list.html",
                default_controller = is_yogiyo ? "home_controller" : "restaurant_list_controller";
            $provide.decorator("$sniffer", function($delegate) {
                return $delegate.history = !1, $delegate
            }), $routeProvider.when("/download/", {
                template: " ",
                controller: "app_download_controller"
            }).when("/location/", {
                templateUrl: "location.html",
                controller: "location_controller",
                resolve: {
                    has_goback: function() {
                        return !0
                    }
                }
            }).when("/cart/", {
                templateUrl: "cart.html",
                controller: "cart_controller",
                resolve: {
                    has_goback: function() {
                        return !0
                    }
                }
            }).when("/checkout/", {
                templateUrl: "checkout.html",
                controller: "checkout_controller",
                resolve: {
                    has_goback: function() {
                        return !0
                    }
                }
            }).when("/checkout/thankyou!!/", {
                templateUrl: "checkout_success.html",
                controller: "checkout_success_controller",
                resolve: {
                    has_goback: function() {
                        return !0
                    }
                }
            }).when("/restaurants/", {
                templateUrl: "restaurant_list.html",
                controller: "restaurant_list_controller"
            }).when("/event/:event_id/", {
                templateUrl: "event.html",
                controller: "event_controller"
            }).when("/policy/", {
                templateUrl: "terms.html",
                controller: "terms_controller"
            }).when("/point_policy/", {
                templateUrl: "point_policy.html",
                controller: "point_policy_controller"
            }).when("/privacy/", {
                templateUrl: "terms.html",
                controller: "terms_controller"
            }).when("/efinance_agreement/", {
                templateUrl: "terms.html",
                controller: "terms_controller"
            }).when("/collect_join/", {
                templateUrl: "terms.html",
                controller: "terms_controller"
            }).when("/collect_member/", {
                templateUrl: "terms.html",
                controller: "terms_controller"
            }).when("/collect_default/", {
                templateUrl: "terms.html",
                controller: "terms_controller"
            }).when("/partner/:restaurant_id/", {
                templateUrl: "terms.html",
                controller: "terms_controller"
            }).when("/contact/", {
                templateUrl: "contact.html",
                controller: "contact_controller"
            }).when("/bpg/", {
                templateUrl: "bpg.html",
                controller: "bpg_controller"
            }).when("/trust/", {
                templateUrl: "trust.html",
                controller: "trust_controller"
            }).when("/sellerinfo/", {
                templateUrl: "seller_info.html",
                controller: "seller_info_controller"
            }).when("/cleanreview/", {
                templateUrl: "cleanreview.html",
                controller: "cleanreview_controller"
            }).when("/login/", {
                templateUrl: "login.html",
                controller: "login_controller"
            }).when("/join/", {
                redirectTo: "/login/"
            }).when("/pwinquiry/", {
                templateUrl: "pwinquiry.html",
                controller: "pwinquiry_controller"
            }).when("/idinquiry/", {
                templateUrl: "idinquiry.html",
                controller: "idinquiry_controller"
            }).when("/locterms/", {
                templateUrl: "location_terms.html",
                controller: "location_terms_controller"
            }).when("/notice/", {
                templateUrl: "notice.html",
                controller: "notice_controller"
            }).when("/notice/:notice_id/", {
                templateUrl: "notice_content.html",
                controller: "notice_content_controller"
            }).when(default_home, {
                templateUrl: default_template,
                controller: default_controller,
                resolve: {
                    check_params: function($rootScope, $location, YogiyoStorage) {
                        if ($rootScope.$route.params.reset) return YogiyoStorage.reset(), void $location.url("/");
                        0 < Object.keys($rootScope.$route.params).length && $location.url("/")
                    }
                }
            }).otherwise({
                redirectTo: default_home
            }), global_config.debug && $routeProvider.when("/dev/", {
                templateUrl: "dev.html",
                controller: "dev_controller"
            }), $routeProvider.when("/:restaurant_id/", {
                templateUrl: "restaurant.html",
                controller: "restaurant_controller"
            }), $route.routes["/:restaurant_id"].regexp = /^\/(?:([1-9][0-9]*))$/, $route.routes["/:restaurant_id/"].regexp = /^\/(?:([1-9][0-9]*))\/$/, $routeProvider.when("/:restaurant_id/:menu_id/", {
                templateUrl: "restaurant.html",
                controller: "restaurant_controller"
            }), $route.routes["/:restaurant_id/:menu_id/"].regexp = /^\/(?:([1-9][0-9]*))\/(?:([0-9][0-9]*))\/$/, $routeProvider.when("/:city/:zipcode/", {
                templateUrl: "restaurant_list.html",
                controller: "restaurant_list_controller"
            }), $route.routes["/:city/:zipcode/"].regexp = /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/$/, $routeProvider.when("/:city/:zipcode/:category/", {
                templateUrl: "restaurant_list.html",
                controller: "restaurant_list_controller"
            }), $route.routes["/:city/:zipcode/:category/"].regexp = /^\/(?:([\S][\S]*))\/(?:([0-9][0-9]*))\/(?:([\S][\S]*))\/$/, $routeProvider.when("/:category/", {
                templateUrl: "restaurant_list.html",
                controller: "restaurant_list_controller"
            }), $route.routes["/:category"].regexp = /^\/(?:([\S][\S]*))$/, $route.routes["/:category/"].regexp = /^\/(?:([\S][\S]*))\/$/
        })
    }
}), define("app/service/template_cache", [], function() {
    return function(app) {
        return app.factory("$templateCache", function($cacheFactory, $http, $injector, global_config) {
            var promise_cached, headers_cached, cache = $cacheFactory("templates"),
                templates = global_config.templates.slice(0),
                get_template = function() {
                    var template_url = templates.pop() + "?v=" + global_config.version;
                    return $http.get(template_url).then(function(response) {
                        headers_cached || (headers_cached = response.headers);
                        var tu = template_url.split("/"),
                            template_id = tu.slice(tu.length - 1, tu.length)[0];
                        return template_id = template_id.replace("?v=" + global_config.version, ""), response.data = "template.html" != template_id ? '<script type="text/ng-template" id="' + template_id + '">\n' + response.data + "\n<\/script>" : response.data, $injector.get("$compile")(response.data), response
                    }).finally(function() {
                        if (!(templates.length < 1)) return get_template()
                    })
                };
            return promise_cached || (promise_cached = get_template()), {
                get: function(url) {
                    var from_cache = cache.get(url);
                    return from_cache || promise_cached.then(function() {
                        return {
                            headers: headers_cached,
                            status: 200,
                            data: cache.get(url)
                        }
                    })
                },
                put: function(key, value) {
                    cache.put(key, value)
                }
            }
        })
    }
}), define("app/service/directive/header", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        app.directive("yogiyoHeader", function() {
            return {
                controller: function($scope, $rootScope, $timeout, $window, $location, $route, $dropdown, $localStorage, $sessionStorage, $modal, YogiyoCart, YogiyoLocation, YogiyoDistricts, YogiyoModal, YogiyoAccount, $log, global_config, GA, GTM, $cookies) {
                    $rootScope.is_mobile_device && $rootScope.is_yogiyo ? $rootScope.show_app_download = {
                        v: !("true" == $cookies.get("hide_app_down"))
                    } : $rootScope.show_app_download = {
                        v: !1
                    }, $scope.header_show = function() {
                        var cls = "";
                        return $rootScope.is_mobile_device && $rootScope.is_yogiyo ? "/login/" == $location.path() && (cls = "ver-mb") : cls = "ver-pc", cls
                    }, $rootScope.login = function() {
                        var action, info = GA.get_tracker_info($location.path(), $route.current.params);
                        action = YogiyoAccount.check() ? "Logout" : "Login", ga("send", "event", "Navigation", action, info.label, {
                            title: info.title,
                            page: info.page
                        }), $rootScope.prev_login_url = $location.path(), $location.url("/login/")
                    }, $scope.download_app = function(pos, adjustToken) {
                        var gtm_value, info = GA.get_tracker_info($location.path(), $route.current.params);
                        gtm_value = pos ? (ga("send", "event", "AppDownload", "Banner_Click", "Footer", {
                            title: info.title,
                            page: info.page
                        }), "footer") : (ga("send", "event", "AppDownload", "Banner_Click", "DownloadPage_Bottom", {
                            title: info.title,
                            page: info.page
                        }), ga("send", "event", "AppDownload", "SplashPageDownloadApp", "", {
                            title: info.title,
                            page: info.page
                        }), "banner"), dataLayer.push({
                            event: GTM.EVENT.DOWNLOAD_APP,
                            appdownload: gtm_value
                        }), smartbanner_click(adjustToken)
                    }, $window.download_app_for_ga = function() {
                        var info = GA.get_tracker_info($location.path(), $route.current.params);
                        ga("send", "event", "AppDownload", "Banner_Click", "DownloadPage_TOP", {
                            title: info.title,
                            page: info.page
                        }), dataLayer.push({
                            event: GTM.EVENT.DOWNLOAD_APP,
                            appdownload: "top"
                        })
                    }, $scope.scrollTop = function(evt) {
                        evt.preventDefault(), $("html, body").stop().prop({
                            scrollTop: 0
                        })
                    }, $scope.is_check_noshow = !1, $scope.hide_app_download_block = function() {
                        if ($rootScope.show_app_download = {
                                v: !1
                            }, $scope.is_check_noshow) {
                            var expireDate = new Date;
                            expireDate.setDate(expireDate.getDate() + 1), $cookies.put("hide_app_down", "true", {
                                path: "/",
                                expires: expireDate
                            })
                        }
                        $window.showSmartBanner();
                        var info = GA.get_tracker_info($location.path(), $route.current.params);
                        ga("send", "event", "AppDownload", "SplashPageClosed", "", {
                            title: info.title,
                            page: info.page
                        })
                    }, $scope.click_slash_banner = function(evt) {
                        evt.preventDefault(), $rootScope.eventUrl = evt.currentTarget.href, $rootScope.show_app_download = {
                            v: !1
                        }, $location.url("/event/main/")
                    }, $scope.get_current_location = function(from_dropdown) {
                        if ($scope.$emit("loading", !0), YogiyoLocation.get_set_current_location($scope).then(function(result) {
                                $scope.is_shown_location_search.v = !1;
                                var loc = helper.extend(result);
                                if (loc.redirect_to = $rootScope.is_mobile_device && "/" == $location.path() ? "" : helper.get_district_url(loc), $scope.$emit("location-changed", loc), $rootScope.show_location_button = {
                                        v: !1
                                    }, scrollHeaderWhenMain(), from_dropdown) {
                                    var info = GA.get_tracker_info($location.path(), $route.current.params);
                                    ga("send", "event", "SearchWord", "현재 위치로 설정", result.address, {
                                        title: info.title,
                                        page: info.page
                                    })
                                }
                            }, function(error) {
                                var message = "위치 정보를 가져올 수 없습니다.";
                                $rootScope.is_mobile_device ? "location_controller" == $rootScope.current_controller ? message += " 설정에서 위치정보 활성화 상태를 확인하거나 지도에서 위치를 선택해 주세요." : message += " 설정에서 위치정보 활성화 상태를 확인하거나 주소를 입력해 주세요." : "location_controller" == $rootScope.current_controller ? message += " 지도에서 배달할 위치를 선택해 주세요." : message += " 배달할 주소를 입력해 주세요.", YogiyoModal.base_popup({
                                    title: "알림",
                                    content: message,
                                    callbacks: {
                                        close: function() {
                                            "location_controller" != $rootScope.current_controller && ($rootScope.show_location_button.v = !0, $rootScope.is_mobile_device && $rootScope.show_location_button.v && "/" != $location.path() && $(document.body).scrollTop(0), $timeout(function() {
                                                $("input[name=address_input]").focus()
                                            }, 100))
                                        }
                                    }
                                }), "location_controller" != $rootScope.current_controller && YogiyoLocation.initialize()
                            }).finally(function(result) {
                                $scope.$emit("loading", !1)
                            }), !from_dropdown) {
                            var info = GA.get_tracker_info($location.path(), $route.current.params);
                            ga("send", "event", "Navigation", "HomeGPS", info.label, {
                                title: info.title,
                                page: info.page
                            })
                        }
                    }, $scope.click_home = function() {
                        if ("/locterms/" == $location.path() || $sessionStorage.oauth_next) return !1;
                        var info = GA.get_tracker_info($location.path(), $route.current.params);
                        if (ga("send", "event", "Navigation", "Home", info.label, {
                                title: info.title,
                                page: info.page
                            }), "/" != $location.path())
                            if (!$rootScope.is_yogiyo && $sessionStorage.location && $sessionStorage.location.address) {
                                var redirect_to = helper.get_district_url($sessionStorage.location);
                                $location.path() == redirect_to ? $route.reload() : $location.url(redirect_to)
                            } else $location.url("/")
                    }, $scope.show_pc_cart_button = function() {
                        return !(!$sessionStorage.location.address || "checkout_controller" == $rootScope.current_controller || "checkout_success_controller" == $rootScope.current_controller)
                    }, $scope.click_cart_button = function() {
                        if (!(0 < $scope.global_cart.get_amount())) return !1;
                        var info = GA.get_tracker_info($location.path(), $route.current.params);
                        ga("send", "event", "Navigation", "SelectBasket", info.label, {
                            title: info.title,
                            page: info.page
                        }), dataLayer.push({
                            event: GTM.EVENT.EDIT_CART_CLICKED,
                            locationAddress: $sessionStorage.cart.restaurant.address,
                            locationCity: $sessionStorage.cart.restaurant.city,
                            locationArea: $sessionStorage.cart.checkout_address.zipcode,
                            locationCountry: "South Korea",
                            shopName: $sessionStorage.cart.restaurant_name,
                            shopId: $sessionStorage.cart.restaurant_id,
                            shopType: "normal"
                        }), $location.url("/cart/")
                    };
                    var path_for_show_cart_button = ["home_controller", "restaurant_list_controller", "restaurant_controller", "location_controller", "policy_controller", "privacy_controller"];
                    $scope.check_show_cart_button = function(quick) {
                        return !!YogiyoLocation.is_set() && (0 != $scope.global_cart.get_amount() && ((!quick || "restaurant_controller" != $rootScope.current_controller) && 0 <= path_for_show_cart_button.indexOf($rootScope.current_controller)))
                    };
                    var path_for_show_location_button = ["home_controller", "restaurant_controller", "restaurant_list_controller", "location_controller"];
                    $scope.check_show_location_button = function() {
                        return 0 <= path_for_show_location_button.indexOf($rootScope.current_controller)
                    }, $scope.check_show_location_block = function() {
                        var result;
                        result = !!$rootScope.show_location_button.v || ($rootScope.is_mobile_width ? !$sessionStorage.location.address : !!$scope.check_show_location_button());
                        var now_location = $location.path();
                        return "/location/" == now_location && (result = !0), -1 < ["/login/", "/join/", "/pwinquiry/", "/idinquiry/", "/locterms/"].indexOf(now_location) && (result = !1), result
                    }, $scope.toggle_location_block = function() {
                        $rootScope.show_location_button.v = !$rootScope.show_location_button.v, $rootScope.is_mobile_device && $rootScope.show_location_button.v && "/" != $location.path() && $(document.body).scrollTop(0);
                        var info = GA.get_tracker_info($location.path(), $route.current.params);
                        ga("send", "event", "Navigation", "SelectAddress", info.label, {
                            title: info.title,
                            page: info.page
                        })
                    };
                    var default_search_result = [{
                            text: "현재 위치로 설정합니다.",
                            click: function() {
                                $scope.is_shown_location_search.v = !1, $scope.get_current_location("from_dropdown")
                            }
                        }, {
                            divider: !0
                        }],
                        default_search_result_error = [{
                            text: "검색하신 주소를 찾을 수 없습니다.",
                            click: function() {}
                        }, {
                            divider: !0
                        }];
                    $scope.reset_default_search_address = function(error, is_incremental) {
                        $scope.search_result = new Array, (error ? default_search_result_error : default_search_result).forEach(function(i) {
                            $scope.search_result.push(i)
                        });
                        for (var i = $localStorage.location_search_history.length - 1; 0 <= i; i--)
                            if ($localStorage.location_search_history[i].adiyo) {
                                var loc = helper.extend($localStorage.location_search_history[i]),
                                    display_address = loc.address + "<br/><i>[도로명] " + helper.get_location_address(loc.adiyo, "road") + "</i>";
                                loc.method = "historylist";
                                var item = {
                                    text: display_address,
                                    click: function() {
                                        $scope.is_shown_location_search.v = !1;
                                        var loc = helper.extend(this),
                                            info = GA.get_tracker_info($location.path(), $route.current.params);
                                        ga("send", "event", "SearchWord", "SearchHistory", loc.address, {
                                            title: info.title,
                                            page: info.page
                                        }), loc.redirect_to = $rootScope.is_mobile_device && "/" == $location.path() ? "" : helper.get_district_url(loc), loc.callback = function() {
                                            $scope.reset_default_search_address(), $scope.dropdown_searh_address.$scope.$hide(), $rootScope.show_location_button = {
                                                v: !1
                                            }, scrollHeaderWhenMain()
                                        }, $scope.$emit("location-changed", loc), $rootScope.current_location = loc.dongmyun || helper.get_location_dong(loc.address)
                                    }.bind(loc)
                                };
                                $scope.search_result.push(item)
                            } is_incremental || ($sessionStorage.location.address ? $scope.is_shown_location_search.v = !0 : $scope.is_shown_location_search.v = !1)
                    }, $scope.is_shown_location_search = {
                        v: !1
                    }, $scope.show_location_search = function() {
                        if ("/location/" != $location.path()) {
                            $scope.dropdown_searh_address.$scope.$show(), $scope.is_shown_location_search.v = !0;
                            var info = GA.get_tracker_info($location.path(), $route.current.params);
                            ga("send", "event", "Navigation", "SearchAddress", info.label, {
                                title: info.title,
                                page: info.page
                            })
                        }
                    }, $scope.select_location = function(evt) {
                        var info;
                        if ($scope.is_shown_location_search.v || $("#button_search_address").hasClass("always-show-search-buttons")) return evt && (evt.stopPropagation(), evt.preventDefault()), info = GA.get_tracker_info($location.path(), $route.current.params), ga("send", "event", "Navigation", "SearchAddress_Icon", info.label, {
                            title: info.title,
                            page: info.page
                        }), $sessionStorage.location.address_input ? $scope.search_address_by_keyword() : void $timeout(function() {
                            $("#search input[name=address_input]").focus()
                        }, 100);
                        info = GA.get_tracker_info($location.path(), $route.current.params), ga("send", "event", "Navigation", "Map", info.label, {
                            title: info.title,
                            page: info.page
                        }), $scope.dropdown_searh_address.$scope.$hide(), $scope.is_shown_location_search.v = !1, $location.url("/location/")
                    }, $scope.search_address_by_keyword = function(is_incremental) {
                        YogiyoDistricts.get({
                            query: $sessionStorage.location.address_input,
                            lat: helper.getValue($sessionStorage, "location.point.lat"),
                            lng: helper.getValue($sessionStorage, "location.point.lng")
                        }).$promise.then(function(result) {
                            if (result.total < 1) return $log.error("found nothing"), $scope.reset_default_search_address("found nothing", is_incremental), $scope.dropdown_searh_address.$scope.$show(), void dataLayer.push({
                                event: GTM.EVENT.LOCATOR_SEARCH_NOT_FOUND,
                                locatorSearchkeyword: $sessionStorage.location.address_input
                            });
                            if (dataLayer.push({
                                    event: GTM.EVENT.LOCATOR_SEARCH_RESULTED,
                                    locatorSearchkeyword: $sessionStorage.location.address_input
                                }), 1 == result.total && !is_incremental) {
                                var district = result.items[0];
                                $scope.is_shown_location_search.v = !1;
                                var info = GA.get_tracker_info($location.path(), $route.current.params);
                                return ga("send", "event", "SearchWord", $sessionStorage.location.address_input, helper.get_location_address(district), {
                                    title: info.title,
                                    page: info.page
                                }), $scope.$emit("location-changed", {
                                    address: helper.get_location_address(district),
                                    zipcode: district.zipcode,
                                    point: district.point,
                                    method: "manual",
                                    sido: helper.get_location_prop(district, "sido"),
                                    dongmyun: helper.get_location_prop(district, "dongmyun"),
                                    adiyo: district,
                                    redirect_to: $rootScope.is_mobile_device && "/" == $location.path() ? "" : helper.get_district_url({
                                        address: helper.get_location_address(district),
                                        zipcode: district.zipcode
                                    }),
                                    callback: function() {
                                        $scope.reset_default_search_address(), $scope.dropdown_searh_address.$scope.$hide(), $rootScope.show_location_button = {
                                            v: !1
                                        }, scrollHeaderWhenMain()
                                    }
                                }), void($rootScope.current_location = helper.get_location_prop(district, "dongmyun"))
                            }
                            $scope.search_result = default_search_result.slice(0, default_search_result.length), result.items.forEach(function(district) {
                                var display_address = helper.get_location_address(district);
                                display_address += "<br/><i>[도로명] " + helper.get_location_address(district, "road") + "</i>", $scope.search_result.push({
                                    text: display_address,
                                    click: function() {
                                        $scope.is_shown_location_search.v = !1;
                                        var info = GA.get_tracker_info($location.path(), $route.current.params);
                                        ga("send", "event", "SearchWord", $sessionStorage.location.address_input, helper.get_location_address(district), {
                                            title: info.title,
                                            page: info.page
                                        }), $scope.$emit("location-changed", {
                                            address: helper.get_location_address(district),
                                            zipcode: district.zipcode,
                                            point: district.point,
                                            sido: helper.get_location_prop(district, "sido"),
                                            dongmyun: helper.get_location_prop(district, "dongmyun"),
                                            adiyo: district,
                                            method: "manual",
                                            redirect_to: $rootScope.is_mobile_device && "/" == $location.path() ? "" : helper.get_district_url({
                                                address: helper.get_location_address(district),
                                                zipcode: district.zipcode
                                            }),
                                            callback: function() {
                                                $scope.reset_default_search_address(), $scope.dropdown_searh_address.$scope.$hide(), $rootScope.show_location_button = {
                                                    v: !1
                                                }, scrollHeaderWhenMain()
                                            }
                                        }), $rootScope.current_location = helper.get_location_prop(district, "dongmyun")
                                    }
                                })
                            })
                        }, function(error) {
                            $log.error(error)
                        })
                    };
                    var scrollHeaderWhenMain = function(isInput) {
                            var scrollHeight;
                            $rootScope.is_mobile_width && "/" == $location.path() && (scrollHeight = (isInput ? $('#search input[name="address_input"]')[0] : $(".nav-top")[0]).getBoundingClientRect().top, scrollHeight -= isInput ? 136 : 69, $(document.body).scrollTop(document.body.scrollTop + scrollHeight))
                        },
                        dropdown_scope = $scope.$new();
                    dropdown_scope.content = $scope.search_result, $scope.dropdown_searh_address = $dropdown($('#search input[name="address_input"]'), {
                        id: "dropdown_searh_address",
                        scope: dropdown_scope,
                        keyboard: !0,
                        trigger: "manual",
                        html: !0,
                        prefixClass: "search_location",
                        prefixEvent: "search_location",
                        animation: "am-flip-x"
                    }), $scope.$watch("search_result", function(newValue, oldValue) {
                        dropdown_scope.content = newValue
                    }, !0), $scope.$on("search_location.show", function() {
                        $timeout(function() {
                            $(".dropdown-menu.am-fade").remove()
                        }, 100), $scope.is_shown_location_search.v = !0;
                        var width = $("#search .input-group input[name=address_input]").width() + $("#button_search_address").width() + 25;
                        $(".dropdown-menu").css($rootScope.is_mobile_width ? "width" : "min-width", width + "px"), dataLayer.push({
                            event: GTM.EVENT.LOCATOR_CLICKED
                        })
                    }), dropdown_scope.$on("search_location.hide", function() {
                        $sessionStorage.location.address_input != $sessionStorage.location.address && ($sessionStorage.location.address_input = $sessionStorage.location.address, $scope.reset_default_search_address()), $scope.$apply(), $timeout(function() {
                            $scope.is_shown_location_search.v = !1, $(".dropdown-menu.am-fade").remove()
                        }, 10)
                    }), $scope.reset_default_search_address(), $scope.clear_search_location_input = function(evt) {
                        $sessionStorage.location.address_input = "", $("#search input[name=address_input]").focus(), evt.stopPropagation(), evt.preventDefault(), $scope.reset_default_search_address(), dataLayer.push({
                            event: GTM.EVENT.LOCATOR_CLOSED
                        })
                    }, $rootScope.cancel_search_location = function() {
                        YogiyoLocation.is_set() ? ($sessionStorage.location.address_input = $sessionStorage.location.address, $scope.is_shown_location_search.v = !1) : $sessionStorage.location.address_input = ""
                    };
                    var keyupTime = 0;
                    $('#search input[name="address_input"]').on("keyup", function(event) {
                        if (event.stopPropagation(), event.preventDefault(), 13 == event.which && 500 < event.timeStamp - keyupTime) return keyupTime = event.timeStamp, $timeout(function() {
                            focus_input && focus_input.blur(), $scope.select_location(event)
                        }, 10)
                    }), $rootScope.clear_cart = function() {
                        var info = GA.get_tracker_info($location.path(), $route.current.params);
                        ga("send", "event", "Ordering", "CartPlusMinus", "휴지통", {
                            title: info.title,
                            page: info.page
                        }), YogiyoModal.clear_cart(YogiyoCart)
                    }, $scope.$location = $location, $scope.global_cart = YogiyoCart, $rootScope.show_location_button.v = "/" == $location.path(), $(".fake-header").remove();
                    var focus_input, prevWindowHeight, is_shown_vk = !1,
                        is_scroll_start = !1,
                        quickBtn = $("#quick-btn");
                    angular.element($window).bind("scroll", function() {
                        var scrollHeight = window.scrollY || window.pageYOffset || document.body.scrollTop + (document.documentElement && document.documentElement.scrollTop || 0),
                            showHeight = $("#header").height();
                        if ($rootScope.scrollCartArea(), $rootScope.scrollCategory(), !is_shown_vk) {
                            if (scrollHeight < showHeight && quickBtn.hasClass("show-btn") ? quickBtn.removeClass("show-btn").addClass("hide-btn") : showHeight < scrollHeight && quickBtn.hasClass("hide-btn") && quickBtn.removeClass("hide-btn").addClass("show-btn"), $rootScope.show_app_download.v && "home_controller" == $rootScope.current_controller && 0 < scrollHeight && !is_scroll_start) {
                                var info = GA.get_tracker_info($location.path(), $route.current.params);
                                ga("send", "event", "AppDownload", "SplashPageScroll", "", {
                                    title: info.title,
                                    page: info.page
                                }), is_scroll_start = !0
                            }
                            0 == scrollHeight && (is_scroll_start = !1)
                        }
                    }), $(document).on("focus", "input[type=search]", function(evt) {
                        is_shown_vk = !0, focus_input = evt.target, $("#quick-btn").hasClass("show-btn") && $("#quick-btn").removeClass("show-btn").addClass("hide-btn"), "restaurant_controller" == $rootScope.current_controller && 0 < YogiyoCart.get_amount() && $("#quick-order-area").hide(), scrollHeaderWhenMain("input")
                    }), $(document).on("blur", "input[type=search]", function(evt) {
                        var scrollHeight = $(document.body).scrollTop(),
                            showHeight = "home_controller" == $rootScope.current_controller ? 534 : 111;
                        is_shown_vk = !1, focus_input = null, showHeight < scrollHeight && $("#quick-btn").hasClass("hide-btn") && $timeout(function() {
                            $("#quick-btn").removeClass("hide-btn").addClass("show-btn")
                        }, 500), "restaurant_controller" == $rootScope.current_controller && 0 < YogiyoCart.get_amount() && $timeout(function() {
                            $("#quick-order-area").show()
                        }, 500)
                    }), angular.element($window).bind("resize", function() {
                        var windowHeight = $window.screen.height;
                        focus_input && prevWindowHeight < windowHeight && focus_input.blur(), prevWindowHeight = windowHeight, $rootScope.scrollCartArea(), $rootScope.scrollCategory()
                    }), $rootScope.is_11st && !$localStorage.location_terms_for_11st ? $location.url("/locterms/") : "NAVER_PLACE" == $rootScope.queryParams.ref ? YogiyoLocation.naverplace($scope, {
                        payload: $rootScope.queryParams.exdata || ""
                    }).then(function(result) {
                        $rootScope.show_location_button = {
                            v: !1
                        }, $sessionStorage.naverplace_extrainfo.restaurant_id = $rootScope.queryParams.restaurant_id, $rootScope.queryParams.restaurant_id && $rootScope.queryParams.menu_id && "/" == $location.url() && $location.url("/" + $rootScope.queryParams.restaurant_id + "/" + $rootScope.queryParams.menu_id + "/")
                    }, function(error) {
                        $scope.hide_app_download_block();
                        var error_cb = function() {
                                $location.url("/location/")
                            },
                            errror_msg = "주소 설정시에 오류가 생겼습니다.<br />배달 받으실 주소를 다시 설정해주세요.";
                        "NOT_AVAILABLE" == error.error_code && (error_cb = null, errror_msg = "네이버 플레이스에 잠시 오류가 발생하였습니다.<br />요기요에서 더 많은 레스토랑을 이용해보세요."), YogiyoModal.base_popup({
                            title: "알림",
                            content: errror_msg,
                            callbacks: {
                                close: error_cb
                            }
                        }), $log.debug(error)
                    }) : $sessionStorage.location && $sessionStorage.location.address && !$rootScope.is_11st ? ($rootScope.current_location = $sessionStorage.location.dongmyun || helper.get_location_dong($sessionStorage.location.address), $rootScope.show_location_button = {
                        v: !1
                    }) : ($rootScope.$emit("loading", null), $rootScope.is_search_location_for_11st = !0, YogiyoLocation.get_set_current_location($rootScope, !0).then(function(result) {
                        $rootScope.show_location_button = {
                            v: !1
                        }, ($rootScope.is_yogiyo && "restaurant_controller" == $rootScope.current_controller || $rootScope.is_11st && "restaurant_list_controller" == $rootScope.current_controller) && $route.reload()
                    }, function() {
                        "event_controller" != $rootScope.current_controller && ($rootScope.show_location_button.v = !0), "location_controller" != $rootScope.current_controller && "login_controller" != $rootScope.current_controller && ($rootScope.is_mobile_device || $timeout(function() {
                            $("input[name=address_input]").focus()
                        }, 100))
                    }).finally(function() {
                        $rootScope.is_search_location_for_11st = !1, $rootScope.$emit("loading", null)
                    })), $rootScope.scrollCartArea = function() {
                        var pos, cartHeight, cartSelector, contentHegith, bottomMargin, headerHeight = 251;
                        $rootScope.is_mobile_device && $rootScope.is_mobile_width || "restaurant_controller" != $rootScope.current_controller && "checkout_controller" != $rootScope.current_controller || (contentHegith = "restaurant_controller" == $rootScope.current_controller ? (headerHeight = 251, bottomMargin = -20, cartSelector = ".restaurant-cart", cartHeight = $(cartSelector).height(), $(".restaurant-detail").height() + bottomMargin) : (headerHeight = 100, bottomMargin = -50, cartSelector = ".order-wrap-pc", cartHeight = $(cartSelector).height(), $(".checkout-wrap").height() + bottomMargin), $(window).scrollTop() > headerHeight && cartHeight < contentHegith ? contentHegith < (pos = $(window).scrollTop() - headerHeight + 10) + cartHeight && (pos = bottomMargin) : pos = 0, !pos && 0 != pos || ($(cartSelector).css(pos < 0 ? "bottom" : "top", Math.abs(pos) + "px"), pos < 0 ? $(cartSelector).css("top", "") : $(cartSelector).css("bottom", ""), $(cartSelector).css("position", 0 == pos ? "relative" : "absolute")))
                    }, $rootScope.scrollCategory = function() {
                        var categoryElement = $(".restaurant-category-menu");
                        $rootScope.is_mobile_device || $rootScope.is_mobile_width_for_category || "restaurant_list_controller" != $rootScope.current_controller ? "fixed" == categoryElement.css("position") && categoryElement.css({
                            position: "static",
                            "z-index": "auto",
                            top: "auto"
                        }) : 178 < $(window).scrollTop() ? "fixed" != categoryElement.css("position") && categoryElement.css({
                            position: "fixed",
                            "z-index": "100",
                            top: "0px"
                        }) : "fixed" == categoryElement.css("position") && categoryElement.css({
                            position: "static",
                            "z-index": "auto",
                            top: "auto"
                        })
                    }, $scope.$on("ngRepeatFinished", function(ngRepeatFinishedEvent) {
                        if ("restaurant_controller" == $rootScope.current_controller) {
                            var cartList = $(".restaurant-detail .cart .list-group");
                            cartList[0].scrollTop = cartList[0].scrollHeight
                        }
                    }), $scope.is_show_promotion_banner = function() {
                        return $rootScope.is_yogiyo && $rootScope.is_mobile_device && !$sessionStorage.oauth_next && ("/" != $location.path() || !$rootScope.show_app_download.v || 0 <= document.referrer.indexOf("nid.naver.com")) ? $window.showSmartBanner() : $window.hideSmartBanner(), $rootScope.is_yogiyo && $rootScope.is_mobile_device && "/" == $location.path() && $rootScope.show_app_download.v && document.referrer.indexOf("nid.naver.com") < 0
                    }, $scope.is_show_promotion_banner() && ($(".navigation").css("margin-top", "0px"), $(".ygy-app-down-btn-close").css("top", "4px")), angular.element($window).bind("scroll", function() {
                        if ("restaurant_list_controller" == $rootScope.current_controller) {
                            var scroll_height = $window.innerHeight + (document.documentElement && document.documentElement.scrollTop || document.body.scrollTop) + 200;
                            if ($(document.body).height() < scroll_height) return void $scope.restaurant_list_read_more()
                        }
                    }), $(window).resize(function() {
                        "restaurant_list_controller" == $rootScope.current_controller ? ($("#ranktooltip").hasClass("on") && ($("#ranktooltip").tooltip("hide"), $("#ranktooltip").removeClass("on")), $("#adtooltip").hasClass("on") && ($("#adtooltip").tooltip("hide"), $("#adtooltip").removeClass("on"))) : "restaurant_controller" == $rootScope.current_controller && $window.resize_image && $window.resize_image()
                    })
                },
                templateUrl: "_header.html"
            }
        })
    }
}), define("app/service/directive/category", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        app.directive("yogiyoRestaurantCategory", function() {
            return {
                controller: function($scope, $rootScope, $routeParams, $timeout, $log, $localStorage, $location, $window, GA, GTM) {
                    var search_placeholder, controller = $rootScope.current_controller;
                    "restaurant_controller" == controller ? search_placeholder = "메뉴를 검색해보세요." : "restaurant_list_controller" == controller && (search_placeholder = "음식점이나 메뉴를 검색해보세요."), search_placeholder && $timeout(function() {
                        $("#category .main-search input[name=category_keyword]").attr("placeholder", search_placeholder)
                    }, 100);

                    function unbindCategoryHideEvent() {
                        $(document.body).off("mousedown touchend", bindCategoryHideEvent), $rootScope.is_mobile_width_for_category && $("#category").hasClass("in") && $("#category").collapse("hide"), $rootScope.is_mobile_width_for_category || toggle_category_search()
                    }
                    var bindCategoryHideEvent = function(evt) {
                        for (var isCategoryClick, p = evt.target.parentElement; p;) {
                            if ("category" == p.id) {
                                isCategoryClick = !0;
                                break
                            }
                            p = p.parentElement
                        }
                        isCategoryClick || "category_keyword" == evt.target.name || "category-menu" == evt.target.id || "category_search_button" == evt.target.id || unbindCategoryHideEvent()
                    };
                    $scope.toggle_category_block = function() {
                        var isEventBind;
                        $rootScope.is_mobile_width_for_category ? (isEventBind = !$("#category").hasClass("in"), $("#category").collapse(isEventBind ? "show" : "hide")) : (isEventBind = $("#category .main-search").hasClass("hide"), toggle_category_search()), isEventBind ? $(document.body).on("mousedown touchend", bindCategoryHideEvent) : $(document.body).off("mousedown touchend", bindCategoryHideEvent);
                        var info = GA.get_tracker_info($location.path(), $routeParams);
                        ga("send", "event", "Navigation", "Select_Restaurantlist", "Category", {
                            title: info.title,
                            page: info.page
                        }), dataLayer.push({
                            event: GTM.EVENT.RESTAURANT_SEARCH_CLICKED,
                            restaurantSearchType: "restaurant_controller" == controller ? "Menu" : "List"
                        })
                    };
                    var toggle_category_search = function() {
                        var btn_main_search = $("#category .main-search");
                        btn_main_search.length < 1 || (btn_main_search.toggleClass("hide"), $scope.category_keyword = {
                            v: ""
                        }, btn_main_search.hasClass("hide") ? $scope.is_show_cancel_button = !1 : $("#category .main-search input[name=category_keyword]").focus())
                    };
                    $scope.show_search_cancel_button = function() {
                        0 < $scope.category_keyword.v.length ? $scope.is_show_cancel_button = !0 : $scope.is_show_cancel_button = !1
                    }, $scope.clear_search_keyword = function(evt) {
                        $scope.category_keyword = {
                            v: ""
                        }, $scope.is_show_cancel_button = !1, $("#category input[name=category_keyword]").focus(), evt.stopPropagation(), evt.preventDefault()
                    }, $scope.check_open_category_block = function() {
                        return !$rootScope.is_mobile_width_for_category
                    };
                    var path_for_hide_category_block = ["/cart/"];
                    $scope.check_show_category_block = function() {
                        return !$rootScope.is_mobile_width_for_category || path_for_hide_category_block.indexOf($location.path()) < 0
                    }, $scope.get_current_category_icon = function(cate) {
                        if ($scope.category || "all" != !cate) return $scope.category && global_config.categories[$scope.category] ? global_config.categories[$scope.category].icon : "ico-ct01"
                    }, $scope.get_current_category_name = function(cate) {
                        if ($scope.category || "all" != !cate) return $scope.category && global_config.categories[$scope.category] ? global_config.categories[$scope.category].title : global_config.categories.all.title
                    }, $scope.check_selected_category = function(cate) {
                        return $scope.category ? $scope.category == cate ? "active" : "" : "all" == cate ? "active" : ""
                    }, $scope.search_restaurant = function() {
                        $scope.update_list_by_keyword(), unbindCategoryHideEvent()
                    }, $scope.select_category = function(category, city, zipcode, event) {
                        $rootScope.is_mobile_width_for_category && unbindCategoryHideEvent(), $(event.currentTarget).hasClass("active") && $scope.search_keyword ? $scope.search_back_restaurant() : $rootScope.select_home_category(category, city, zipcode), $rootScope.selected_category_slug = "all" == category.slug ? "전체" : category.slug
                    };
                    $('#category input[name="category_keyword"]').on("keyup", function(event) {
                        if (13 == event.which) return event.preventDefault(), event.target.blur(), $timeout($scope.search_restaurant, 10)
                    }), angular.element($window).bind("resize", function() {
                        $rootScope.is_mobile_width_for_category || $("#category").get().length < 1 || $("#category").collapse($scope.check_show_category_block() ? "show" : "hide")
                    }), $routeParams.category ? $rootScope.selected_category_slug = $routeParams.category : $rootScope.selected_category_slug || ($rootScope.selected_category_slug = "전체"), $scope.category = "전체" == $rootScope.selected_category_slug ? "all" : $rootScope.selected_category_slug, $scope.is_show_cancel_button = !1, $scope.category_keyword = {
                        v: ""
                    }
                },
                templateUrl: "category.html"
            }
        })
    }
}), define("app/service/directive/onfinishrender", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        app.directive("onFinishRender", ["$timeout", "$parse", function($timeout, $parse) {
            return {
                restrict: "A",
                link: function(scope, element, attr) {
                    !0 === scope.$last && $timeout(function() {
                        scope.$emit("ngRepeatFinished"), attr.onFinishRender && $parse(attr.onFinishRender)(scope)
                    })
                }
            }
        }])
    }
}), define("app/service/directive/onerror", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        app.directive("ngOnerror", [function() {
            return {
                scope: {
                    callBack: "&ngOnerror"
                },
                link: function(scope, element, attrs) {
                    element.on("error", function(event) {
                        return scope.callBack({
                            $event: event
                        })
                    })
                }
            }
        }])
    }
}), define("app/service/directive/onerrorandload", ["angular", "app/helper"], function(angular, helper) {
    return function(app) {
        app.directive("ngErrorAndLoad", [function() {
            return {
                scope: {
                    callBack: "&ngErrorAndLoad"
                },
                link: function(scope, element, attrs) {
                    element.on("error", function(event) {
                        return scope.callBack({
                            $event: event
                        })
                    }), element.on("load", function(event) {
                        return scope.callBack({
                            $event: event
                        })
                    })
                }
            }
        }])
    }
}), define("app/app", ["require", "angular", "angular_cookies", "angular_ios9_uiwebview", "angular_resource", "angular_route", "angular_sanitize", "angular_storage", "angular_strap", "angular_strap_tpl", "jquery", "bootstrap", "uuid", "md5", "sha1", "Proj4js", "app/controller/app_download", "app/controller/home", "app/controller/base", "app/controller/cart", "app/controller/checkout", "app/controller/checkout_success", "app/controller/location_google", "app/controller/location_terms", "app/controller/restaurant", "app/controller/restaurant_menu", "app/controller/restaurant_list", "app/controller/dev", "app/controller/event", "app/controller/point_policy", "app/controller/terms", "app/controller/exit_poll", "app/controller/contact", "app/controller/bpg", "app/controller/trust", "app/controller/cleanreview", "app/controller/seller_info", "app/controller/login", "app/controller/join", "app/controller/pwinquiry", "app/controller/idinquiry", "app/controller/notice", "app/controller/notice_content", "app/controller/product_info", "app/filter", "app/helper", "app/service/constant", "app/resource/checkout", "app/resource/checkout_ie", "app/resource/geo_lookup", "app/resource/districts", "app/resource/history", "app/resource/location", "app/resource/restaurant", "app/resource/restaurant_menu", "app/resource/service_info", "app/resource/service_status", "app/resource/review", "app/resource/cart", "app/resource/sms", "app/resource/storage", "app/resource/modal", "app/resource/exit_poll", "app/resource/account", "app/resource/google_analytics", "app/resource/google_tag_manager", "app/resource/facebook_pixel", "app/resource/event_banner", "app/resource/proxy", "app/service/base_run", "app/service/controller", "app/service/event", "app/service/event/alert", "app/service/event/loading", "app/service/event/location", "app/service/event/page", "app/service/event/routing", "app/service/event/restaurant", "app/service/event/banner", "app/service/event/network", "app/service/event/shutdown", "app/service/event/session", "app/service/logging", "app/service/network", "app/service/resource", "app/service/routing", "app/service/template_cache", "app/service/directive/header", "app/service/directive/category", "app/service/directive/onfinishrender", "app/service/directive/onerror", "app/service/directive/onerrorandload"], function(require, angular) {
    var app = angular.module("yogiyo", ["ngCookies", "ngRoute", "ngResource", "ngSanitize", "ngIOS9UIWebViewPatch", "ngStorage", "mgcrea.ngStrap"]);
    return require("app/service/constant")(app), require("app/service/logging")(app), require("app/service/resource")(app), require("app/service/routing")(app), require("app/service/network")(app), require("app/service/event")(app), require("app/service/controller")(app), require("app/service/template_cache")(app), require("app/resource/geo_lookup")(app), require("app/resource/service_info")(app), require("app/resource/service_status")(app), require("app/resource/restaurant")(app), require("app/resource/restaurant_menu")(app), require("app/resource/checkout")(app), require("app/resource/checkout_ie")(app), require("app/resource/location")(app), require("app/resource/history")(app), require("app/resource/districts")(app), require("app/resource/review")(app), require("app/resource/cart")(app), require("app/resource/sms")(app), require("app/resource/storage")(app), require("app/resource/modal")(app), require("app/resource/exit_poll")(app), require("app/resource/account")(app), require("app/resource/google_analytics")(app), require("app/resource/google_tag_manager")(app), require("app/resource/facebook_pixel")(app), require("app/resource/event_banner")(app), require("app/resource/proxy")(app), require("app/service/directive/category")(app), require("app/service/directive/header")(app), require("app/service/directive/onfinishrender")(app), require("app/service/directive/onerror")(app), require("app/service/directive/onerrorandload")(app), require("app/filter").register(app), require("app/service/base_run")(app), app
}), define("app/main", ["require", "app/app"], function(require, app) {
    angular.element(document).ready(function() {
        angular.bootstrap(document, [app.name])
    })
});
var config = {
    debug: !1,
    templates: ["template.html"],
    version: "f14e8a427fe8485dcf13ba1ff6767123d268bd3b",
    api_server: "https://www.yogiyo.co.kr"
};
window.navigator && "preview" === window.navigator.loadPurpose && (window.location.href = "/image/site-preview.png");
var MOBILE_WIDTH = 768,
    MOBILE_WIDTH_FOR_CATEGORY = 992,
    global_config = {
        debug: !1,
        version: "08968eaa9e856154d4b18a317f2aca2ea00b188a",
        update_version_in_debug: !1,
        default_location: [37.498168, 127.02761],
        api_server: "",
        api_secret: "fe5183cc3dea12bd0ce299cf110a75a2",
        sms_secret: ["web1", "e2b250fcb60b312a9a16d513ad822405d4eb4267"],
        salt_campaign_coupon: "f68a87fa8d92b990811ad1d5eefe3e98",
        api_key: "iphoneap",
        lifetime_local_storage: 6e5,
        lifetime_sessioned_restaurant: 6e5,
        lifetime_sessioned_location: 12e5,
        interval_check_service_info: 36e5,
        default_timeout_http: 1e4,
        timeout_geolocation: 5e3,
        max_sms_verification_time: 5,
        x_api_key: "OAYAUiAAxt8hQdAtt9sCCDHwjqxDaev8l4EJBbJ2",
        app_download_links: {
            android: "market://details?id=com.fineapp.yogiyo",
            ios: "http://itunes.apple.com/kr/app/baedal-eumsigjumun-yogiyo/id543831532?mt=8"
        },
        tune_url: {
            install: "//launch1.co/serve?action=install&site_id=112791&site_event_id=997914395&advertiser_id=18438",
            conversion: "//launch1.co/serve?action=conversion&site_id=112791&site_event_id=997914397&advertiser_id=18438"
        },
        category_order: ["all", "1인분주문", "프랜차이즈", "치킨", "피자양식", "중식", "한식", "일식돈까스", "족발보쌈", "야식", "분식", "카페디저트", "편의점"],
        categories: {
            all: {
                slug: "all",
                enabled: !1,
                title: (window.innerWidth < MOBILE_WIDTH_FOR_CATEGORY ? "음식점 " : "") + "전체보기",
                subtitle: "View All",
                image: "image/category-01.png",
                icon: "ico-ct01"
            },
            "1인분주문": {
                slug: "1인분주문",
                enabled: !1,
                title: "1인분 주문",
                subtitle: "onedish",
                image: "image/category-onedish.png",
                icon: "ico-ct12"
            },
            "프랜차이즈": {
                slug: "프랜차이즈",
                enabled: !1,
                title: "프랜차이즈",
                subtitle: "Franchise",
                image: "image/category-10.png",
                icon: "ico-ct10"
            },
            "치킨": {
                slug: "치킨",
                enabled: !1,
                title: "치킨",
                subtitle: "Chicken",
                image: "image/category-02.png",
                icon: "ico-ct02"
            },
            "피자양식": {
                slug: "피자양식",
                enabled: !1,
                title: "피자/양식",
                subtitle: "Pizza/Western Food",
                image: "image/category-03.png",
                icon: "ico-ct03"
            },
            "중식": {
                slug: "중식",
                enabled: !1,
                title: "중국집",
                subtitle: "Chinese Food",
                image: "image/category-04.png",
                icon: "ico-ct04"
            },
            "한식": {
                slug: "한식",
                enabled: !1,
                title: "한식",
                subtitle: "Korean Food",
                image: "image/category-05.png",
                icon: "ico-ct05"
            },
            "일식돈까스": {
                slug: "일식돈까스",
                enabled: !1,
                title: "일식/돈까스",
                subtitle: "Japanese Food",
                image: "image/category-06.png",
                icon: "ico-ct06"
            },
            "족발보쌈": {
                slug: "족발보쌈",
                enabled: !1,
                title: "족발/보쌈",
                subtitle: "Jokbal/Bossam",
                image: "image/category-07.png",
                icon: "ico-ct07"
            },
            "야식": {
                slug: "야식",
                enabled: !1,
                title: "야식",
                subtitle: "Late Night Snack",
                image: "image/category-08.png",
                icon: "ico-ct08"
            },
            "분식": {
                slug: "분식",
                enabled: !1,
                title: "분식",
                subtitle: "Carb Snacks",
                image: "image/category-09.png",
                icon: "ico-ct09"
            },
            "카페디저트": {
                slug: "카페디저트",
                enabled: !1,
                title: "카페/디저트",
                subtitle: "Cafe/Dessert",
                image: "image/category-11.png",
                icon: "ico-ct11"
            },
            "편의점": {
                slug: "편의점",
                enabled: !1,
                title: "편의점/마트",
                subtitle: "Convenience Store",
                image: "image/category-convenience-store.png",
                icon: "ico-ct13"
            }
        },
        payments: {
            creditcard: "신용카드결제",
            cash: "현금결제",
            onlycard: "신용카드결제",
            onlykakao: "카카오페이결제",
            onlyhpp: "휴대전화결제",
            onlydbank: "계좌이체",
            oneclick: "SKpay결제",
            naverpay: "네이버페이결제",
            smilepay: "스마일페이결제",
            chaipay: "차이결제"
        },
        onlinePayments: ["onlycard", "onlyhpp", "onlydbank", "oneclick", "naverpay", "smilepay", "chaipay"],
        templates: ["template/home.html", "template/location.html", "template/location_terms.html", "template/cart.html", "template/restaurant.html", "template/restaurant_list.html", "template/restaurant_menu.html", "template/checkout.html", "template/checkout_success.html", "template/category.html", "template/_header.html", "template/dev.html", "template/clear_cart.html", "template/clear_cart_in_another_restaurant.html", "template/modal_base_popup.html", "template/modal_checkout_minimum_price_limit.html", "template/modal_checkout_minimum_discount_limit.html", "template/event.html", "template/modal_base_confirm.html", "template/terms.html", "template/point_policy.html", "template/exitpoll.html", "template/contact.html", "template/bpg.html", "template/trust.html", "template/cleanreview.html", "template/seller_info.html", "template/login.html", "template/password_change_mob1.html", "template/password_change_pc.html", "template/join.html", "template/pwinquiry.html", "template/idinquiry.html", "template/notice.html", "template/notice_content.html", "template/modal_phone_number_verify.html", "template/modal_check_out_of_stock.html", "template/modal_product_info.html", "template/modal_policy_info.html", "template/modal_move_app_for_signup.html"]
    },
    load_config = function(config_param) {
        var config_local = {};
        void 0 !== config_param && (config_local = config_param);
        var config = {};
        for (var i in global_config) config[i] = global_config[i];
        if (void 0 !== config)
            for (var j in config_local) config[j] = config_local[j];
        return config
    },
    config = load_config(config);
config.debug && config.update_version_in_debug && (config.version = config.version.slice(0, 3) + "-" + (new Date).getTime()), global_config.is_dev = "https://www.yogiyo.co.kr" != config.api_server, requirejs.config({
    baseUrl: "./js",
    urlArgs: "v=" + config.version,
    paths: {
        jquery: "jquery-2.1.3.min",
        angular: "angular",
        angular_cookies: "angular-cookies",
        angular_route: "angular-route",
        angular_resource: "angular-resource",
        angular_sanitize: "angular-sanitize",
        angular_ios9_uiwebview: "angular-ios9-uiwebview.patch",
        angular_strap: "angular-strap",
        angular_strap_tpl: "angular-strap.tpl",
        angular_storage: "ngStorage",
        bootstrap: "bootstrap",
        uuid: "uuid",
        md5: "md5.min",
        sha1: "sha1",
        Proj4js: "proj4",
        app: "../app"
    },
    shim: {
        angular: {
            exports: "angular"
        },
        angular_cookies: {
            deps: ["angular"]
        },
        angular_route: {
            deps: ["angular"]
        },
        angular_resource: {
            deps: ["angular"]
        },
        angular_sanitize: {
            deps: ["angular"]
        },
        angular_ios9_uiwebview: {
            deps: ["angular"]
        },
        angular_storage: {
            deps: ["angular"]
        },
        angular_strap: {
            deps: ["angular"]
        },
        angular_strap_tpl: {
            deps: ["angular", "angular_strap"]
        },
        bootstrap: {
            deps: ["jquery"]
        }
    }
}), requirejs(["app/main"]);